function UN(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function lR(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uR={exports:{}},Qh={},cR={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qu=Symbol.for("react.element"),jN=Symbol.for("react.portal"),BN=Symbol.for("react.fragment"),zN=Symbol.for("react.strict_mode"),WN=Symbol.for("react.profiler"),qN=Symbol.for("react.provider"),HN=Symbol.for("react.context"),GN=Symbol.for("react.forward_ref"),KN=Symbol.for("react.suspense"),QN=Symbol.for("react.memo"),YN=Symbol.for("react.lazy"),a0=Symbol.iterator;function XN(t){return t===null||typeof t!="object"?null:(t=a0&&t[a0]||t["@@iterator"],typeof t=="function"?t:null)}var dR={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hR=Object.assign,fR={};function Va(t,e,n){this.props=t,this.context=e,this.refs=fR,this.updater=n||dR}Va.prototype.isReactComponent={};Va.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Va.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function pR(){}pR.prototype=Va.prototype;function cv(t,e,n){this.props=t,this.context=e,this.refs=fR,this.updater=n||dR}var dv=cv.prototype=new pR;dv.constructor=cv;hR(dv,Va.prototype);dv.isPureReactComponent=!0;var l0=Array.isArray,mR=Object.prototype.hasOwnProperty,hv={current:null},gR={key:!0,ref:!0,__self:!0,__source:!0};function yR(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)mR.call(e,r)&&!gR.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Qu,type:t,key:s,ref:o,props:i,_owner:hv.current}}function JN(t,e){return{$$typeof:Qu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function fv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Qu}function ZN(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var u0=/\/+/g;function Mp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZN(""+t.key):e.toString(36)}function pd(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Qu:case jN:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+Mp(o,0):r,l0(i)?(n="",t!=null&&(n=t.replace(u0,"$&/")+"/"),pd(i,e,n,"",function(u){return u})):i!=null&&(fv(i)&&(i=JN(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(u0,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",l0(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+Mp(s,a);o+=pd(s,e,n,l,i)}else if(l=XN(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+Mp(s,a++),o+=pd(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Pc(t,e,n){if(t==null)return t;var r=[],i=0;return pd(t,r,"","",function(s){return e.call(n,s,i++)}),r}function ex(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tn={current:null},md={transition:null},tx={ReactCurrentDispatcher:Tn,ReactCurrentBatchConfig:md,ReactCurrentOwner:hv};Fe.Children={map:Pc,forEach:function(t,e,n){Pc(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Pc(t,function(){e++}),e},toArray:function(t){return Pc(t,function(e){return e})||[]},only:function(t){if(!fv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Fe.Component=Va;Fe.Fragment=BN;Fe.Profiler=WN;Fe.PureComponent=cv;Fe.StrictMode=zN;Fe.Suspense=KN;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tx;Fe.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=hR({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=hv.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)mR.call(e,l)&&!gR.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:Qu,type:t.type,key:i,ref:s,props:r,_owner:o}};Fe.createContext=function(t){return t={$$typeof:HN,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:qN,_context:t},t.Consumer=t};Fe.createElement=yR;Fe.createFactory=function(t){var e=yR.bind(null,t);return e.type=t,e};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(t){return{$$typeof:GN,render:t}};Fe.isValidElement=fv;Fe.lazy=function(t){return{$$typeof:YN,_payload:{_status:-1,_result:t},_init:ex}};Fe.memo=function(t,e){return{$$typeof:QN,type:t,compare:e===void 0?null:e}};Fe.startTransition=function(t){var e=md.transition;md.transition={};try{t()}finally{md.transition=e}};Fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Fe.useCallback=function(t,e){return Tn.current.useCallback(t,e)};Fe.useContext=function(t){return Tn.current.useContext(t)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(t){return Tn.current.useDeferredValue(t)};Fe.useEffect=function(t,e){return Tn.current.useEffect(t,e)};Fe.useId=function(){return Tn.current.useId()};Fe.useImperativeHandle=function(t,e,n){return Tn.current.useImperativeHandle(t,e,n)};Fe.useInsertionEffect=function(t,e){return Tn.current.useInsertionEffect(t,e)};Fe.useLayoutEffect=function(t,e){return Tn.current.useLayoutEffect(t,e)};Fe.useMemo=function(t,e){return Tn.current.useMemo(t,e)};Fe.useReducer=function(t,e,n){return Tn.current.useReducer(t,e,n)};Fe.useRef=function(t){return Tn.current.useRef(t)};Fe.useState=function(t){return Tn.current.useState(t)};Fe.useSyncExternalStore=function(t,e,n){return Tn.current.useSyncExternalStore(t,e,n)};Fe.useTransition=function(){return Tn.current.useTransition()};Fe.version="18.2.0";cR.exports=Fe;var F=cR.exports;const he=lR(F),nx=UN({__proto__:null,default:he},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rx=F,ix=Symbol.for("react.element"),sx=Symbol.for("react.fragment"),ox=Object.prototype.hasOwnProperty,ax=rx.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lx={key:!0,ref:!0,__self:!0,__source:!0};function vR(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)ox.call(e,r)&&!lx.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:ix,type:t,key:s,ref:o,props:i,_owner:ax.current}}Qh.Fragment=sx;Qh.jsx=vR;Qh.jsxs=vR;uR.exports=Qh;var P=uR.exports,ug={},_R={exports:{}},Kn={},wR={exports:{}},ER={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(W,oe){var G=W.length;W.push(oe);e:for(;0<G;){var ae=G-1>>>1,k=W[ae];if(0<i(k,oe))W[ae]=oe,W[G]=k,G=ae;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var oe=W[0],G=W.pop();if(G!==oe){W[0]=G;e:for(var ae=0,k=W.length,B=k>>>1;ae<B;){var z=2*(ae+1)-1,ye=W[z],X=z+1,Se=W[X];if(0>i(ye,G))X<k&&0>i(Se,ye)?(W[ae]=Se,W[X]=G,ae=X):(W[ae]=ye,W[z]=G,ae=z);else if(X<k&&0>i(Se,G))W[ae]=Se,W[X]=G,ae=X;else break e}}return oe}function i(W,oe){var G=W.sortIndex-oe.sortIndex;return G!==0?G:W.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,m=!1,_=!1,R=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(W){for(var oe=n(u);oe!==null;){if(oe.callback===null)r(u);else if(oe.startTime<=W)r(u),oe.sortIndex=oe.expirationTime,e(l,oe);else break;oe=n(u)}}function g(W){if(_=!1,v(W),!m)if(n(l)!==null)m=!0,Be(E);else{var oe=n(u);oe!==null&&Ue(g,oe.startTime-W)}}function E(W,oe){m=!1,_&&(_=!1,y(O),O=-1),p=!0;var G=h;try{for(v(oe),d=n(l);d!==null&&(!(d.expirationTime>oe)||W&&!me());){var ae=d.callback;if(typeof ae=="function"){d.callback=null,h=d.priorityLevel;var k=ae(d.expirationTime<=oe);oe=t.unstable_now(),typeof k=="function"?d.callback=k:d===n(l)&&r(l),v(oe)}else r(l);d=n(l)}if(d!==null)var B=!0;else{var z=n(u);z!==null&&Ue(g,z.startTime-oe),B=!1}return B}finally{d=null,h=G,p=!1}}var T=!1,I=null,O=-1,U=5,M=-1;function me(){return!(t.unstable_now()-M<U)}function re(){if(I!==null){var W=t.unstable_now();M=W;var oe=!0;try{oe=I(!0,W)}finally{oe?J():(T=!1,I=null)}}else T=!1}var J;if(typeof f=="function")J=function(){f(re)};else if(typeof MessageChannel<"u"){var ge=new MessageChannel,Re=ge.port2;ge.port1.onmessage=re,J=function(){Re.postMessage(null)}}else J=function(){R(re,0)};function Be(W){I=W,T||(T=!0,J())}function Ue(W,oe){O=R(function(){W(t.unstable_now())},oe)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Be(E))},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(W){switch(h){case 1:case 2:case 3:var oe=3;break;default:oe=h}var G=h;h=oe;try{return W()}finally{h=G}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var G=h;h=W;try{return oe()}finally{h=G}},t.unstable_scheduleCallback=function(W,oe,G){var ae=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?ae+G:ae):G=ae,W){case 1:var k=-1;break;case 2:k=250;break;case 5:k=1073741823;break;case 4:k=1e4;break;default:k=5e3}return k=G+k,W={id:c++,callback:oe,priorityLevel:W,startTime:G,expirationTime:k,sortIndex:-1},G>ae?(W.sortIndex=G,e(u,W),n(l)===null&&W===n(u)&&(_?(y(O),O=-1):_=!0,Ue(g,G-ae))):(W.sortIndex=k,e(l,W),m||p||(m=!0,Be(E))),W},t.unstable_shouldYield=me,t.unstable_wrapCallback=function(W){var oe=h;return function(){var G=h;h=oe;try{return W.apply(this,arguments)}finally{h=G}}}})(ER);wR.exports=ER;var ux=wR.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var SR=F,Hn=ux;function H(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var TR=new Set,ou={};function ao(t,e){ua(t,e),ua(t+"Capture",e)}function ua(t,e){for(ou[t]=e,t=0;t<e.length;t++)TR.add(e[t])}var di=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),cg=Object.prototype.hasOwnProperty,cx=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,c0={},d0={};function dx(t){return cg.call(d0,t)?!0:cg.call(c0,t)?!1:cx.test(t)?d0[t]=!0:(c0[t]=!0,!1)}function hx(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fx(t,e,n,r){if(e===null||typeof e>"u"||hx(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Rn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var nn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nn[t]=new Rn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nn[e]=new Rn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){nn[t]=new Rn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nn[t]=new Rn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nn[t]=new Rn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){nn[t]=new Rn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){nn[t]=new Rn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){nn[t]=new Rn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){nn[t]=new Rn(t,5,!1,t.toLowerCase(),null,!1,!1)});var pv=/[\-:]([a-z])/g;function mv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(pv,mv);nn[e]=new Rn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(pv,mv);nn[e]=new Rn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(pv,mv);nn[e]=new Rn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){nn[t]=new Rn(t,1,!1,t.toLowerCase(),null,!1,!1)});nn.xlinkHref=new Rn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){nn[t]=new Rn(t,1,!1,t.toLowerCase(),null,!0,!0)});function gv(t,e,n,r){var i=nn.hasOwnProperty(e)?nn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fx(e,n,i,r)&&(n=null),r||i===null?dx(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var _i=SR.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bc=Symbol.for("react.element"),No=Symbol.for("react.portal"),xo=Symbol.for("react.fragment"),yv=Symbol.for("react.strict_mode"),dg=Symbol.for("react.profiler"),RR=Symbol.for("react.provider"),IR=Symbol.for("react.context"),vv=Symbol.for("react.forward_ref"),hg=Symbol.for("react.suspense"),fg=Symbol.for("react.suspense_list"),_v=Symbol.for("react.memo"),bi=Symbol.for("react.lazy"),AR=Symbol.for("react.offscreen"),h0=Symbol.iterator;function nl(t){return t===null||typeof t!="object"?null:(t=h0&&t[h0]||t["@@iterator"],typeof t=="function"?t:null)}var vt=Object.assign,$p;function Rl(t){if($p===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);$p=e&&e[1]||""}return`
`+$p+t}var Fp=!1;function Up(t,e){if(!t||Fp)return"";Fp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Fp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Rl(t):""}function px(t){switch(t.tag){case 5:return Rl(t.type);case 16:return Rl("Lazy");case 13:return Rl("Suspense");case 19:return Rl("SuspenseList");case 0:case 2:case 15:return t=Up(t.type,!1),t;case 11:return t=Up(t.type.render,!1),t;case 1:return t=Up(t.type,!0),t;default:return""}}function pg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xo:return"Fragment";case No:return"Portal";case dg:return"Profiler";case yv:return"StrictMode";case hg:return"Suspense";case fg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case IR:return(t.displayName||"Context")+".Consumer";case RR:return(t._context.displayName||"Context")+".Provider";case vv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case _v:return e=t.displayName||null,e!==null?e:pg(t.type)||"Memo";case bi:e=t._payload,t=t._init;try{return pg(t(e))}catch{}}return null}function mx(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return pg(e);case 8:return e===yv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ns(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function CR(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gx(t){var e=CR(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nc(t){t._valueTracker||(t._valueTracker=gx(t))}function kR(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=CR(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function jd(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function mg(t,e){var n=e.checked;return vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function f0(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ns(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function PR(t,e){e=e.checked,e!=null&&gv(t,"checked",e,!1)}function gg(t,e){PR(t,e);var n=ns(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?yg(t,e.type,n):e.hasOwnProperty("defaultValue")&&yg(t,e.type,ns(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function p0(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function yg(t,e,n){(e!=="number"||jd(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Il=Array.isArray;function Ko(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ns(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function vg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(H(91));return vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function m0(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(H(92));if(Il(n)){if(1<n.length)throw Error(H(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ns(n)}}function bR(t,e){var n=ns(e.value),r=ns(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function g0(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function NR(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _g(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?NR(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var xc,xR=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(xc=xc||document.createElement("div"),xc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=xc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function au(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Ml={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yx=["Webkit","ms","Moz","O"];Object.keys(Ml).forEach(function(t){yx.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ml[e]=Ml[t]})});function DR(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Ml.hasOwnProperty(t)&&Ml[t]?(""+e).trim():e+"px"}function LR(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=DR(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var vx=vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function wg(t,e){if(e){if(vx[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(H(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(H(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(H(61))}if(e.style!=null&&typeof e.style!="object")throw Error(H(62))}}function Eg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Sg=null;function wv(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Tg=null,Qo=null,Yo=null;function y0(t){if(t=Ju(t)){if(typeof Tg!="function")throw Error(H(280));var e=t.stateNode;e&&(e=ef(e),Tg(t.stateNode,t.type,e))}}function OR(t){Qo?Yo?Yo.push(t):Yo=[t]:Qo=t}function VR(){if(Qo){var t=Qo,e=Yo;if(Yo=Qo=null,y0(t),e)for(t=0;t<e.length;t++)y0(e[t])}}function MR(t,e){return t(e)}function $R(){}var jp=!1;function FR(t,e,n){if(jp)return t(e,n);jp=!0;try{return MR(t,e,n)}finally{jp=!1,(Qo!==null||Yo!==null)&&($R(),VR())}}function lu(t,e){var n=t.stateNode;if(n===null)return null;var r=ef(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(H(231,e,typeof n));return n}var Rg=!1;if(di)try{var rl={};Object.defineProperty(rl,"passive",{get:function(){Rg=!0}}),window.addEventListener("test",rl,rl),window.removeEventListener("test",rl,rl)}catch{Rg=!1}function _x(t,e,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var $l=!1,Bd=null,zd=!1,Ig=null,wx={onError:function(t){$l=!0,Bd=t}};function Ex(t,e,n,r,i,s,o,a,l){$l=!1,Bd=null,_x.apply(wx,arguments)}function Sx(t,e,n,r,i,s,o,a,l){if(Ex.apply(this,arguments),$l){if($l){var u=Bd;$l=!1,Bd=null}else throw Error(H(198));zd||(zd=!0,Ig=u)}}function lo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function UR(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function v0(t){if(lo(t)!==t)throw Error(H(188))}function Tx(t){var e=t.alternate;if(!e){if(e=lo(t),e===null)throw Error(H(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return v0(i),t;if(s===r)return v0(i),e;s=s.sibling}throw Error(H(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(H(189))}}if(n.alternate!==r)throw Error(H(190))}if(n.tag!==3)throw Error(H(188));return n.stateNode.current===n?t:e}function jR(t){return t=Tx(t),t!==null?BR(t):null}function BR(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=BR(t);if(e!==null)return e;t=t.sibling}return null}var zR=Hn.unstable_scheduleCallback,_0=Hn.unstable_cancelCallback,Rx=Hn.unstable_shouldYield,Ix=Hn.unstable_requestPaint,Ct=Hn.unstable_now,Ax=Hn.unstable_getCurrentPriorityLevel,Ev=Hn.unstable_ImmediatePriority,WR=Hn.unstable_UserBlockingPriority,Wd=Hn.unstable_NormalPriority,Cx=Hn.unstable_LowPriority,qR=Hn.unstable_IdlePriority,Yh=null,Fr=null;function kx(t){if(Fr&&typeof Fr.onCommitFiberRoot=="function")try{Fr.onCommitFiberRoot(Yh,t,void 0,(t.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:Nx,Px=Math.log,bx=Math.LN2;function Nx(t){return t>>>=0,t===0?32:31-(Px(t)/bx|0)|0}var Dc=64,Lc=4194304;function Al(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function qd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=Al(a):(s&=o,s!==0&&(r=Al(s)))}else o=n&~i,o!==0?r=Al(o):s!==0&&(r=Al(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-vr(e),i=1<<n,r|=t[n],e&=~i;return r}function xx(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Dx(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-vr(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=xx(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Ag(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function HR(){var t=Dc;return Dc<<=1,!(Dc&4194240)&&(Dc=64),t}function Bp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Yu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-vr(e),t[e]=n}function Lx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-vr(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function Sv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-vr(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Xe=0;function GR(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var KR,Tv,QR,YR,XR,Cg=!1,Oc=[],Wi=null,qi=null,Hi=null,uu=new Map,cu=new Map,Di=[],Ox="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function w0(t,e){switch(t){case"focusin":case"focusout":Wi=null;break;case"dragenter":case"dragleave":qi=null;break;case"mouseover":case"mouseout":Hi=null;break;case"pointerover":case"pointerout":uu.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":cu.delete(e.pointerId)}}function il(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Ju(e),e!==null&&Tv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Vx(t,e,n,r,i){switch(e){case"focusin":return Wi=il(Wi,t,e,n,r,i),!0;case"dragenter":return qi=il(qi,t,e,n,r,i),!0;case"mouseover":return Hi=il(Hi,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return uu.set(s,il(uu.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,cu.set(s,il(cu.get(s)||null,t,e,n,r,i)),!0}return!1}function JR(t){var e=Rs(t.target);if(e!==null){var n=lo(e);if(n!==null){if(e=n.tag,e===13){if(e=UR(n),e!==null){t.blockedOn=e,XR(t.priority,function(){QR(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function gd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=kg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Sg=r,n.target.dispatchEvent(r),Sg=null}else return e=Ju(n),e!==null&&Tv(e),t.blockedOn=n,!1;e.shift()}return!0}function E0(t,e,n){gd(t)&&n.delete(e)}function Mx(){Cg=!1,Wi!==null&&gd(Wi)&&(Wi=null),qi!==null&&gd(qi)&&(qi=null),Hi!==null&&gd(Hi)&&(Hi=null),uu.forEach(E0),cu.forEach(E0)}function sl(t,e){t.blockedOn===e&&(t.blockedOn=null,Cg||(Cg=!0,Hn.unstable_scheduleCallback(Hn.unstable_NormalPriority,Mx)))}function du(t){function e(i){return sl(i,t)}if(0<Oc.length){sl(Oc[0],t);for(var n=1;n<Oc.length;n++){var r=Oc[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Wi!==null&&sl(Wi,t),qi!==null&&sl(qi,t),Hi!==null&&sl(Hi,t),uu.forEach(e),cu.forEach(e),n=0;n<Di.length;n++)r=Di[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Di.length&&(n=Di[0],n.blockedOn===null);)JR(n),n.blockedOn===null&&Di.shift()}var Xo=_i.ReactCurrentBatchConfig,Hd=!0;function $x(t,e,n,r){var i=Xe,s=Xo.transition;Xo.transition=null;try{Xe=1,Rv(t,e,n,r)}finally{Xe=i,Xo.transition=s}}function Fx(t,e,n,r){var i=Xe,s=Xo.transition;Xo.transition=null;try{Xe=4,Rv(t,e,n,r)}finally{Xe=i,Xo.transition=s}}function Rv(t,e,n,r){if(Hd){var i=kg(t,e,n,r);if(i===null)Jp(t,e,r,Gd,n),w0(t,r);else if(Vx(i,t,e,n,r))r.stopPropagation();else if(w0(t,r),e&4&&-1<Ox.indexOf(t)){for(;i!==null;){var s=Ju(i);if(s!==null&&KR(s),s=kg(t,e,n,r),s===null&&Jp(t,e,r,Gd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Jp(t,e,r,null,n)}}var Gd=null;function kg(t,e,n,r){if(Gd=null,t=wv(r),t=Rs(t),t!==null)if(e=lo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=UR(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Gd=t,null}function ZR(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ax()){case Ev:return 1;case WR:return 4;case Wd:case Cx:return 16;case qR:return 536870912;default:return 16}default:return 16}}var Ui=null,Iv=null,yd=null;function eI(){if(yd)return yd;var t,e=Iv,n=e.length,r,i="value"in Ui?Ui.value:Ui.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return yd=i.slice(t,1<r?1-r:void 0)}function vd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Vc(){return!0}function S0(){return!1}function Qn(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Vc:S0,this.isPropagationStopped=S0,this}return vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Vc)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Vc)},persist:function(){},isPersistent:Vc}),e}var Ma={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Av=Qn(Ma),Xu=vt({},Ma,{view:0,detail:0}),Ux=Qn(Xu),zp,Wp,ol,Xh=vt({},Xu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ol&&(ol&&t.type==="mousemove"?(zp=t.screenX-ol.screenX,Wp=t.screenY-ol.screenY):Wp=zp=0,ol=t),zp)},movementY:function(t){return"movementY"in t?t.movementY:Wp}}),T0=Qn(Xh),jx=vt({},Xh,{dataTransfer:0}),Bx=Qn(jx),zx=vt({},Xu,{relatedTarget:0}),qp=Qn(zx),Wx=vt({},Ma,{animationName:0,elapsedTime:0,pseudoElement:0}),qx=Qn(Wx),Hx=vt({},Ma,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gx=Qn(Hx),Kx=vt({},Ma,{data:0}),R0=Qn(Kx),Qx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Xx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jx(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Xx[t])?!!e[t]:!1}function Cv(){return Jx}var Zx=vt({},Xu,{key:function(t){if(t.key){var e=Qx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=vd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Yx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cv,charCode:function(t){return t.type==="keypress"?vd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?vd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),eD=Qn(Zx),tD=vt({},Xh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),I0=Qn(tD),nD=vt({},Xu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cv}),rD=Qn(nD),iD=vt({},Ma,{propertyName:0,elapsedTime:0,pseudoElement:0}),sD=Qn(iD),oD=vt({},Xh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),aD=Qn(oD),lD=[9,13,27,32],kv=di&&"CompositionEvent"in window,Fl=null;di&&"documentMode"in document&&(Fl=document.documentMode);var uD=di&&"TextEvent"in window&&!Fl,tI=di&&(!kv||Fl&&8<Fl&&11>=Fl),A0=" ",C0=!1;function nI(t,e){switch(t){case"keyup":return lD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Do=!1;function cD(t,e){switch(t){case"compositionend":return rI(e);case"keypress":return e.which!==32?null:(C0=!0,A0);case"textInput":return t=e.data,t===A0&&C0?null:t;default:return null}}function dD(t,e){if(Do)return t==="compositionend"||!kv&&nI(t,e)?(t=eI(),yd=Iv=Ui=null,Do=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tI&&e.locale!=="ko"?null:e.data;default:return null}}var hD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function k0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hD[t.type]:e==="textarea"}function iI(t,e,n,r){OR(r),e=Kd(e,"onChange"),0<e.length&&(n=new Av("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Ul=null,hu=null;function fD(t){mI(t,0)}function Jh(t){var e=Vo(t);if(kR(e))return t}function pD(t,e){if(t==="change")return e}var sI=!1;if(di){var Hp;if(di){var Gp="oninput"in document;if(!Gp){var P0=document.createElement("div");P0.setAttribute("oninput","return;"),Gp=typeof P0.oninput=="function"}Hp=Gp}else Hp=!1;sI=Hp&&(!document.documentMode||9<document.documentMode)}function b0(){Ul&&(Ul.detachEvent("onpropertychange",oI),hu=Ul=null)}function oI(t){if(t.propertyName==="value"&&Jh(hu)){var e=[];iI(e,hu,t,wv(t)),FR(fD,e)}}function mD(t,e,n){t==="focusin"?(b0(),Ul=e,hu=n,Ul.attachEvent("onpropertychange",oI)):t==="focusout"&&b0()}function gD(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jh(hu)}function yD(t,e){if(t==="click")return Jh(e)}function vD(t,e){if(t==="input"||t==="change")return Jh(e)}function _D(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Sr=typeof Object.is=="function"?Object.is:_D;function fu(t,e){if(Sr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!cg.call(e,i)||!Sr(t[i],e[i]))return!1}return!0}function N0(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x0(t,e){var n=N0(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=N0(n)}}function aI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lI(){for(var t=window,e=jd();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=jd(t.document)}return e}function Pv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wD(t){var e=lI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&aI(n.ownerDocument.documentElement,n)){if(r!==null&&Pv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=x0(n,s);var o=x0(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ED=di&&"documentMode"in document&&11>=document.documentMode,Lo=null,Pg=null,jl=null,bg=!1;function D0(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;bg||Lo==null||Lo!==jd(r)||(r=Lo,"selectionStart"in r&&Pv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jl&&fu(jl,r)||(jl=r,r=Kd(Pg,"onSelect"),0<r.length&&(e=new Av("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Lo)))}function Mc(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Oo={animationend:Mc("Animation","AnimationEnd"),animationiteration:Mc("Animation","AnimationIteration"),animationstart:Mc("Animation","AnimationStart"),transitionend:Mc("Transition","TransitionEnd")},Kp={},uI={};di&&(uI=document.createElement("div").style,"AnimationEvent"in window||(delete Oo.animationend.animation,delete Oo.animationiteration.animation,delete Oo.animationstart.animation),"TransitionEvent"in window||delete Oo.transitionend.transition);function Zh(t){if(Kp[t])return Kp[t];if(!Oo[t])return t;var e=Oo[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in uI)return Kp[t]=e[n];return t}var cI=Zh("animationend"),dI=Zh("animationiteration"),hI=Zh("animationstart"),fI=Zh("transitionend"),pI=new Map,L0="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function as(t,e){pI.set(t,e),ao(e,[t])}for(var Qp=0;Qp<L0.length;Qp++){var Yp=L0[Qp],SD=Yp.toLowerCase(),TD=Yp[0].toUpperCase()+Yp.slice(1);as(SD,"on"+TD)}as(cI,"onAnimationEnd");as(dI,"onAnimationIteration");as(hI,"onAnimationStart");as("dblclick","onDoubleClick");as("focusin","onFocus");as("focusout","onBlur");as(fI,"onTransitionEnd");ua("onMouseEnter",["mouseout","mouseover"]);ua("onMouseLeave",["mouseout","mouseover"]);ua("onPointerEnter",["pointerout","pointerover"]);ua("onPointerLeave",["pointerout","pointerover"]);ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),RD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Cl));function O0(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Sx(r,e,void 0,t),t.currentTarget=null}function mI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;O0(i,a,u),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;O0(i,a,u),s=l}}}if(zd)throw t=Ig,zd=!1,Ig=null,t}function it(t,e){var n=e[Og];n===void 0&&(n=e[Og]=new Set);var r=t+"__bubble";n.has(r)||(gI(e,t,2,!1),n.add(r))}function Xp(t,e,n){var r=0;e&&(r|=4),gI(n,t,r,e)}var $c="_reactListening"+Math.random().toString(36).slice(2);function pu(t){if(!t[$c]){t[$c]=!0,TR.forEach(function(n){n!=="selectionchange"&&(RD.has(n)||Xp(n,!1,t),Xp(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[$c]||(e[$c]=!0,Xp("selectionchange",!1,e))}}function gI(t,e,n,r){switch(ZR(e)){case 1:var i=$x;break;case 4:i=Fx;break;default:i=Rv}n=i.bind(null,e,n,t),i=void 0,!Rg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Jp(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Rs(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}FR(function(){var u=s,c=wv(n),d=[];e:{var h=pI.get(t);if(h!==void 0){var p=Av,m=t;switch(t){case"keypress":if(vd(n)===0)break e;case"keydown":case"keyup":p=eD;break;case"focusin":m="focus",p=qp;break;case"focusout":m="blur",p=qp;break;case"beforeblur":case"afterblur":p=qp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=T0;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Bx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=rD;break;case cI:case dI:case hI:p=qx;break;case fI:p=sD;break;case"scroll":p=Ux;break;case"wheel":p=aD;break;case"copy":case"cut":case"paste":p=Gx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=I0}var _=(e&4)!==0,R=!_&&t==="scroll",y=_?h!==null?h+"Capture":null:h;_=[];for(var f=u,v;f!==null;){v=f;var g=v.stateNode;if(v.tag===5&&g!==null&&(v=g,y!==null&&(g=lu(f,y),g!=null&&_.push(mu(f,g,v)))),R)break;f=f.return}0<_.length&&(h=new p(h,m,null,n,c),d.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Sg&&(m=n.relatedTarget||n.fromElement)&&(Rs(m)||m[hi]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(m=n.relatedTarget||n.toElement,p=u,m=m?Rs(m):null,m!==null&&(R=lo(m),m!==R||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(_=T0,g="onMouseLeave",y="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(_=I0,g="onPointerLeave",y="onPointerEnter",f="pointer"),R=p==null?h:Vo(p),v=m==null?h:Vo(m),h=new _(g,f+"leave",p,n,c),h.target=R,h.relatedTarget=v,g=null,Rs(c)===u&&(_=new _(y,f+"enter",m,n,c),_.target=v,_.relatedTarget=R,g=_),R=g,p&&m)t:{for(_=p,y=m,f=0,v=_;v;v=To(v))f++;for(v=0,g=y;g;g=To(g))v++;for(;0<f-v;)_=To(_),f--;for(;0<v-f;)y=To(y),v--;for(;f--;){if(_===y||y!==null&&_===y.alternate)break t;_=To(_),y=To(y)}_=null}else _=null;p!==null&&V0(d,h,p,_,!1),m!==null&&R!==null&&V0(d,R,m,_,!0)}}e:{if(h=u?Vo(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var E=pD;else if(k0(h))if(sI)E=vD;else{E=gD;var T=mD}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(E=yD);if(E&&(E=E(t,u))){iI(d,E,n,c);break e}T&&T(t,h,u),t==="focusout"&&(T=h._wrapperState)&&T.controlled&&h.type==="number"&&yg(h,"number",h.value)}switch(T=u?Vo(u):window,t){case"focusin":(k0(T)||T.contentEditable==="true")&&(Lo=T,Pg=u,jl=null);break;case"focusout":jl=Pg=Lo=null;break;case"mousedown":bg=!0;break;case"contextmenu":case"mouseup":case"dragend":bg=!1,D0(d,n,c);break;case"selectionchange":if(ED)break;case"keydown":case"keyup":D0(d,n,c)}var I;if(kv)e:{switch(t){case"compositionstart":var O="onCompositionStart";break e;case"compositionend":O="onCompositionEnd";break e;case"compositionupdate":O="onCompositionUpdate";break e}O=void 0}else Do?nI(t,n)&&(O="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(O="onCompositionStart");O&&(tI&&n.locale!=="ko"&&(Do||O!=="onCompositionStart"?O==="onCompositionEnd"&&Do&&(I=eI()):(Ui=c,Iv="value"in Ui?Ui.value:Ui.textContent,Do=!0)),T=Kd(u,O),0<T.length&&(O=new R0(O,t,null,n,c),d.push({event:O,listeners:T}),I?O.data=I:(I=rI(n),I!==null&&(O.data=I)))),(I=uD?cD(t,n):dD(t,n))&&(u=Kd(u,"onBeforeInput"),0<u.length&&(c=new R0("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}mI(d,e)})}function mu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Kd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=lu(t,n),s!=null&&r.unshift(mu(t,s,i)),s=lu(t,e),s!=null&&r.push(mu(t,s,i))),t=t.return}return r}function To(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function V0(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,i?(l=lu(n,s),l!=null&&o.unshift(mu(n,l,a))):i||(l=lu(n,s),l!=null&&o.push(mu(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var ID=/\r\n?/g,AD=/\u0000|\uFFFD/g;function M0(t){return(typeof t=="string"?t:""+t).replace(ID,`
`).replace(AD,"")}function Fc(t,e,n){if(e=M0(e),M0(t)!==e&&n)throw Error(H(425))}function Qd(){}var Ng=null,xg=null;function Dg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lg=typeof setTimeout=="function"?setTimeout:void 0,CD=typeof clearTimeout=="function"?clearTimeout:void 0,$0=typeof Promise=="function"?Promise:void 0,kD=typeof queueMicrotask=="function"?queueMicrotask:typeof $0<"u"?function(t){return $0.resolve(null).then(t).catch(PD)}:Lg;function PD(t){setTimeout(function(){throw t})}function Zp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),du(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);du(e)}function Gi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function F0(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var $a=Math.random().toString(36).slice(2),Dr="__reactFiber$"+$a,gu="__reactProps$"+$a,hi="__reactContainer$"+$a,Og="__reactEvents$"+$a,bD="__reactListeners$"+$a,ND="__reactHandles$"+$a;function Rs(t){var e=t[Dr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[hi]||n[Dr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=F0(t);t!==null;){if(n=t[Dr])return n;t=F0(t)}return e}t=n,n=t.parentNode}return null}function Ju(t){return t=t[Dr]||t[hi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Vo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(H(33))}function ef(t){return t[gu]||null}var Vg=[],Mo=-1;function ls(t){return{current:t}}function ct(t){0>Mo||(t.current=Vg[Mo],Vg[Mo]=null,Mo--)}function nt(t,e){Mo++,Vg[Mo]=t.current,t.current=e}var rs={},fn=ls(rs),Pn=ls(!1),js=rs;function ca(t,e){var n=t.type.contextTypes;if(!n)return rs;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function bn(t){return t=t.childContextTypes,t!=null}function Yd(){ct(Pn),ct(fn)}function U0(t,e,n){if(fn.current!==rs)throw Error(H(168));nt(fn,e),nt(Pn,n)}function yI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(H(108,mx(t)||"Unknown",i));return vt({},n,r)}function Xd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||rs,js=fn.current,nt(fn,t),nt(Pn,Pn.current),!0}function j0(t,e,n){var r=t.stateNode;if(!r)throw Error(H(169));n?(t=yI(t,e,js),r.__reactInternalMemoizedMergedChildContext=t,ct(Pn),ct(fn),nt(fn,t)):ct(Pn),nt(Pn,n)}var ti=null,tf=!1,em=!1;function vI(t){ti===null?ti=[t]:ti.push(t)}function xD(t){tf=!0,vI(t)}function us(){if(!em&&ti!==null){em=!0;var t=0,e=Xe;try{var n=ti;for(Xe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ti=null,tf=!1}catch(i){throw ti!==null&&(ti=ti.slice(t+1)),zR(Ev,us),i}finally{Xe=e,em=!1}}return null}var $o=[],Fo=0,Jd=null,Zd=0,Zn=[],er=0,Bs=null,ri=1,ii="";function _s(t,e){$o[Fo++]=Zd,$o[Fo++]=Jd,Jd=t,Zd=e}function _I(t,e,n){Zn[er++]=ri,Zn[er++]=ii,Zn[er++]=Bs,Bs=t;var r=ri;t=ii;var i=32-vr(r)-1;r&=~(1<<i),n+=1;var s=32-vr(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ri=1<<32-vr(e)+i|n<<i|r,ii=s+t}else ri=1<<s|n<<i|r,ii=t}function bv(t){t.return!==null&&(_s(t,1),_I(t,1,0))}function Nv(t){for(;t===Jd;)Jd=$o[--Fo],$o[Fo]=null,Zd=$o[--Fo],$o[Fo]=null;for(;t===Bs;)Bs=Zn[--er],Zn[er]=null,ii=Zn[--er],Zn[er]=null,ri=Zn[--er],Zn[er]=null}var Wn=null,jn=null,ht=!1,yr=null;function wI(t,e){var n=rr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function B0(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wn=t,jn=Gi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wn=t,jn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Bs!==null?{id:ri,overflow:ii}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=rr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Wn=t,jn=null,!0):!1;default:return!1}}function Mg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function $g(t){if(ht){var e=jn;if(e){var n=e;if(!B0(t,e)){if(Mg(t))throw Error(H(418));e=Gi(n.nextSibling);var r=Wn;e&&B0(t,e)?wI(r,n):(t.flags=t.flags&-4097|2,ht=!1,Wn=t)}}else{if(Mg(t))throw Error(H(418));t.flags=t.flags&-4097|2,ht=!1,Wn=t}}}function z0(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wn=t}function Uc(t){if(t!==Wn)return!1;if(!ht)return z0(t),ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Dg(t.type,t.memoizedProps)),e&&(e=jn)){if(Mg(t))throw EI(),Error(H(418));for(;e;)wI(t,e),e=Gi(e.nextSibling)}if(z0(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(H(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){jn=Gi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}jn=null}}else jn=Wn?Gi(t.stateNode.nextSibling):null;return!0}function EI(){for(var t=jn;t;)t=Gi(t.nextSibling)}function da(){jn=Wn=null,ht=!1}function xv(t){yr===null?yr=[t]:yr.push(t)}var DD=_i.ReactCurrentBatchConfig;function pr(t,e){if(t&&t.defaultProps){e=vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var eh=ls(null),th=null,Uo=null,Dv=null;function Lv(){Dv=Uo=th=null}function Ov(t){var e=eh.current;ct(eh),t._currentValue=e}function Fg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Jo(t,e){th=t,Dv=Uo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(kn=!0),t.firstContext=null)}function or(t){var e=t._currentValue;if(Dv!==t)if(t={context:t,memoizedValue:e,next:null},Uo===null){if(th===null)throw Error(H(308));Uo=t,th.dependencies={lanes:0,firstContext:t}}else Uo=Uo.next=t;return e}var Is=null;function Vv(t){Is===null?Is=[t]:Is.push(t)}function SI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Vv(e)):(n.next=i.next,i.next=n),e.interleaved=n,fi(t,r)}function fi(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ni=!1;function Mv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function TI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function li(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ki(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,He&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,fi(t,n)}return i=r.interleaved,i===null?(e.next=e,Vv(r)):(e.next=i.next,i.next=e),r.interleaved=e,fi(t,n)}function _d(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sv(t,n)}}function W0(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function nh(t,e,n,r){var i=t.updateQueue;Ni=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,_=a;switch(h=e,p=n,_.tag){case 1:if(m=_.payload,typeof m=="function"){d=m.call(p,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=_.payload,h=typeof m=="function"?m.call(p,d,h):m,h==null)break e;d=vt({},d,h);break e;case 2:Ni=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=i.effects,h===null?i.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=h;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;h=a,a=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ws|=o,t.lanes=o,t.memoizedState=d}}function q0(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(H(191,i));i.call(r)}}}var RI=new SR.Component().refs;function Ug(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var nf={isMounted:function(t){return(t=t._reactInternals)?lo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=Yi(t),s=li(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ki(t,s,i),e!==null&&(_r(e,t,i,r),_d(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Sn(),i=Yi(t),s=li(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ki(t,s,i),e!==null&&(_r(e,t,i,r),_d(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Sn(),r=Yi(t),i=li(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ki(t,i,r),e!==null&&(_r(e,t,r,n),_d(e,t,r))}};function H0(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!fu(n,r)||!fu(i,s):!0}function II(t,e,n){var r=!1,i=rs,s=e.contextType;return typeof s=="object"&&s!==null?s=or(s):(i=bn(e)?js:fn.current,r=e.contextTypes,s=(r=r!=null)?ca(t,i):rs),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=nf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function G0(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&nf.enqueueReplaceState(e,e.state,null)}function jg(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=RI,Mv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=or(s):(s=bn(e)?js:fn.current,i.context=ca(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Ug(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&nf.enqueueReplaceState(i,i.state,null),nh(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function al(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(H(309));var r=n.stateNode}if(!r)throw Error(H(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===RI&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(H(284));if(!n._owner)throw Error(H(290,t))}return t}function jc(t,e){throw t=Object.prototype.toString.call(e),Error(H(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function K0(t){var e=t._init;return e(t._payload)}function AI(t){function e(y,f){if(t){var v=y.deletions;v===null?(y.deletions=[f],y.flags|=16):v.push(f)}}function n(y,f){if(!t)return null;for(;f!==null;)e(y,f),f=f.sibling;return null}function r(y,f){for(y=new Map;f!==null;)f.key!==null?y.set(f.key,f):y.set(f.index,f),f=f.sibling;return y}function i(y,f){return y=Xi(y,f),y.index=0,y.sibling=null,y}function s(y,f,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<f?(y.flags|=2,f):v):(y.flags|=2,f)):(y.flags|=1048576,f)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,f,v,g){return f===null||f.tag!==6?(f=am(v,y.mode,g),f.return=y,f):(f=i(f,v),f.return=y,f)}function l(y,f,v,g){var E=v.type;return E===xo?c(y,f,v.props.children,g,v.key):f!==null&&(f.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===bi&&K0(E)===f.type)?(g=i(f,v.props),g.ref=al(y,f,v),g.return=y,g):(g=Id(v.type,v.key,v.props,null,y.mode,g),g.ref=al(y,f,v),g.return=y,g)}function u(y,f,v,g){return f===null||f.tag!==4||f.stateNode.containerInfo!==v.containerInfo||f.stateNode.implementation!==v.implementation?(f=lm(v,y.mode,g),f.return=y,f):(f=i(f,v.children||[]),f.return=y,f)}function c(y,f,v,g,E){return f===null||f.tag!==7?(f=Vs(v,y.mode,g,E),f.return=y,f):(f=i(f,v),f.return=y,f)}function d(y,f,v){if(typeof f=="string"&&f!==""||typeof f=="number")return f=am(""+f,y.mode,v),f.return=y,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case bc:return v=Id(f.type,f.key,f.props,null,y.mode,v),v.ref=al(y,null,f),v.return=y,v;case No:return f=lm(f,y.mode,v),f.return=y,f;case bi:var g=f._init;return d(y,g(f._payload),v)}if(Il(f)||nl(f))return f=Vs(f,y.mode,v,null),f.return=y,f;jc(y,f)}return null}function h(y,f,v,g){var E=f!==null?f.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return E!==null?null:a(y,f,""+v,g);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case bc:return v.key===E?l(y,f,v,g):null;case No:return v.key===E?u(y,f,v,g):null;case bi:return E=v._init,h(y,f,E(v._payload),g)}if(Il(v)||nl(v))return E!==null?null:c(y,f,v,g,null);jc(y,v)}return null}function p(y,f,v,g,E){if(typeof g=="string"&&g!==""||typeof g=="number")return y=y.get(v)||null,a(f,y,""+g,E);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case bc:return y=y.get(g.key===null?v:g.key)||null,l(f,y,g,E);case No:return y=y.get(g.key===null?v:g.key)||null,u(f,y,g,E);case bi:var T=g._init;return p(y,f,v,T(g._payload),E)}if(Il(g)||nl(g))return y=y.get(v)||null,c(f,y,g,E,null);jc(f,g)}return null}function m(y,f,v,g){for(var E=null,T=null,I=f,O=f=0,U=null;I!==null&&O<v.length;O++){I.index>O?(U=I,I=null):U=I.sibling;var M=h(y,I,v[O],g);if(M===null){I===null&&(I=U);break}t&&I&&M.alternate===null&&e(y,I),f=s(M,f,O),T===null?E=M:T.sibling=M,T=M,I=U}if(O===v.length)return n(y,I),ht&&_s(y,O),E;if(I===null){for(;O<v.length;O++)I=d(y,v[O],g),I!==null&&(f=s(I,f,O),T===null?E=I:T.sibling=I,T=I);return ht&&_s(y,O),E}for(I=r(y,I);O<v.length;O++)U=p(I,y,O,v[O],g),U!==null&&(t&&U.alternate!==null&&I.delete(U.key===null?O:U.key),f=s(U,f,O),T===null?E=U:T.sibling=U,T=U);return t&&I.forEach(function(me){return e(y,me)}),ht&&_s(y,O),E}function _(y,f,v,g){var E=nl(v);if(typeof E!="function")throw Error(H(150));if(v=E.call(v),v==null)throw Error(H(151));for(var T=E=null,I=f,O=f=0,U=null,M=v.next();I!==null&&!M.done;O++,M=v.next()){I.index>O?(U=I,I=null):U=I.sibling;var me=h(y,I,M.value,g);if(me===null){I===null&&(I=U);break}t&&I&&me.alternate===null&&e(y,I),f=s(me,f,O),T===null?E=me:T.sibling=me,T=me,I=U}if(M.done)return n(y,I),ht&&_s(y,O),E;if(I===null){for(;!M.done;O++,M=v.next())M=d(y,M.value,g),M!==null&&(f=s(M,f,O),T===null?E=M:T.sibling=M,T=M);return ht&&_s(y,O),E}for(I=r(y,I);!M.done;O++,M=v.next())M=p(I,y,O,M.value,g),M!==null&&(t&&M.alternate!==null&&I.delete(M.key===null?O:M.key),f=s(M,f,O),T===null?E=M:T.sibling=M,T=M);return t&&I.forEach(function(re){return e(y,re)}),ht&&_s(y,O),E}function R(y,f,v,g){if(typeof v=="object"&&v!==null&&v.type===xo&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case bc:e:{for(var E=v.key,T=f;T!==null;){if(T.key===E){if(E=v.type,E===xo){if(T.tag===7){n(y,T.sibling),f=i(T,v.props.children),f.return=y,y=f;break e}}else if(T.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===bi&&K0(E)===T.type){n(y,T.sibling),f=i(T,v.props),f.ref=al(y,T,v),f.return=y,y=f;break e}n(y,T);break}else e(y,T);T=T.sibling}v.type===xo?(f=Vs(v.props.children,y.mode,g,v.key),f.return=y,y=f):(g=Id(v.type,v.key,v.props,null,y.mode,g),g.ref=al(y,f,v),g.return=y,y=g)}return o(y);case No:e:{for(T=v.key;f!==null;){if(f.key===T)if(f.tag===4&&f.stateNode.containerInfo===v.containerInfo&&f.stateNode.implementation===v.implementation){n(y,f.sibling),f=i(f,v.children||[]),f.return=y,y=f;break e}else{n(y,f);break}else e(y,f);f=f.sibling}f=lm(v,y.mode,g),f.return=y,y=f}return o(y);case bi:return T=v._init,R(y,f,T(v._payload),g)}if(Il(v))return m(y,f,v,g);if(nl(v))return _(y,f,v,g);jc(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,f!==null&&f.tag===6?(n(y,f.sibling),f=i(f,v),f.return=y,y=f):(n(y,f),f=am(v,y.mode,g),f.return=y,y=f),o(y)):n(y,f)}return R}var ha=AI(!0),CI=AI(!1),Zu={},Ur=ls(Zu),yu=ls(Zu),vu=ls(Zu);function As(t){if(t===Zu)throw Error(H(174));return t}function $v(t,e){switch(nt(vu,e),nt(yu,t),nt(Ur,Zu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_g(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_g(e,t)}ct(Ur),nt(Ur,e)}function fa(){ct(Ur),ct(yu),ct(vu)}function kI(t){As(vu.current);var e=As(Ur.current),n=_g(e,t.type);e!==n&&(nt(yu,t),nt(Ur,n))}function Fv(t){yu.current===t&&(ct(Ur),ct(yu))}var gt=ls(0);function rh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var tm=[];function Uv(){for(var t=0;t<tm.length;t++)tm[t]._workInProgressVersionPrimary=null;tm.length=0}var wd=_i.ReactCurrentDispatcher,nm=_i.ReactCurrentBatchConfig,zs=0,yt=null,Vt=null,Bt=null,ih=!1,Bl=!1,_u=0,LD=0;function sn(){throw Error(H(321))}function jv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Sr(t[n],e[n]))return!1;return!0}function Bv(t,e,n,r,i,s){if(zs=s,yt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,wd.current=t===null||t.memoizedState===null?$D:FD,t=n(r,i),Bl){s=0;do{if(Bl=!1,_u=0,25<=s)throw Error(H(301));s+=1,Bt=Vt=null,e.updateQueue=null,wd.current=UD,t=n(r,i)}while(Bl)}if(wd.current=sh,e=Vt!==null&&Vt.next!==null,zs=0,Bt=Vt=yt=null,ih=!1,e)throw Error(H(300));return t}function zv(){var t=_u!==0;return _u=0,t}function Nr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bt===null?yt.memoizedState=Bt=t:Bt=Bt.next=t,Bt}function ar(){if(Vt===null){var t=yt.alternate;t=t!==null?t.memoizedState:null}else t=Vt.next;var e=Bt===null?yt.memoizedState:Bt.next;if(e!==null)Bt=e,Vt=t;else{if(t===null)throw Error(H(310));Vt=t,t={memoizedState:Vt.memoizedState,baseState:Vt.baseState,baseQueue:Vt.baseQueue,queue:Vt.queue,next:null},Bt===null?yt.memoizedState=Bt=t:Bt=Bt.next=t}return Bt}function wu(t,e){return typeof e=="function"?e(t):e}function rm(t){var e=ar(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=Vt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((zs&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=r):l=l.next=d,yt.lanes|=c,Ws|=c}u=u.next}while(u!==null&&u!==s);l===null?o=r:l.next=a,Sr(r,e.memoizedState)||(kn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,yt.lanes|=s,Ws|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function im(t){var e=ar(),n=e.queue;if(n===null)throw Error(H(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Sr(s,e.memoizedState)||(kn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function PI(){}function bI(t,e){var n=yt,r=ar(),i=e(),s=!Sr(r.memoizedState,i);if(s&&(r.memoizedState=i,kn=!0),r=r.queue,Wv(DI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Bt!==null&&Bt.memoizedState.tag&1){if(n.flags|=2048,Eu(9,xI.bind(null,n,r,i,e),void 0,null),qt===null)throw Error(H(349));zs&30||NI(n,e,i)}return i}function NI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function xI(t,e,n,r){e.value=n,e.getSnapshot=r,LI(e)&&OI(t)}function DI(t,e,n){return n(function(){LI(e)&&OI(t)})}function LI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Sr(t,n)}catch{return!0}}function OI(t){var e=fi(t,1);e!==null&&_r(e,t,1,-1)}function Q0(t){var e=Nr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wu,lastRenderedState:t},e.queue=t,t=t.dispatch=MD.bind(null,yt,t),[e.memoizedState,t]}function Eu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=yt.updateQueue,e===null?(e={lastEffect:null,stores:null},yt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function VI(){return ar().memoizedState}function Ed(t,e,n,r){var i=Nr();yt.flags|=t,i.memoizedState=Eu(1|e,n,void 0,r===void 0?null:r)}function rf(t,e,n,r){var i=ar();r=r===void 0?null:r;var s=void 0;if(Vt!==null){var o=Vt.memoizedState;if(s=o.destroy,r!==null&&jv(r,o.deps)){i.memoizedState=Eu(e,n,s,r);return}}yt.flags|=t,i.memoizedState=Eu(1|e,n,s,r)}function Y0(t,e){return Ed(8390656,8,t,e)}function Wv(t,e){return rf(2048,8,t,e)}function MI(t,e){return rf(4,2,t,e)}function $I(t,e){return rf(4,4,t,e)}function FI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function UI(t,e,n){return n=n!=null?n.concat([t]):null,rf(4,4,FI.bind(null,e,t),n)}function qv(){}function jI(t,e){var n=ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function BI(t,e){var n=ar();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&jv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function zI(t,e,n){return zs&21?(Sr(n,e)||(n=HR(),yt.lanes|=n,Ws|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,kn=!0),t.memoizedState=n)}function OD(t,e){var n=Xe;Xe=n!==0&&4>n?n:4,t(!0);var r=nm.transition;nm.transition={};try{t(!1),e()}finally{Xe=n,nm.transition=r}}function WI(){return ar().memoizedState}function VD(t,e,n){var r=Yi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},qI(t))HI(e,n);else if(n=SI(t,e,n,r),n!==null){var i=Sn();_r(n,t,r,i),GI(n,e,r)}}function MD(t,e,n){var r=Yi(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(qI(t))HI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,Sr(a,o)){var l=e.interleaved;l===null?(i.next=i,Vv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=SI(t,e,i,r),n!==null&&(i=Sn(),_r(n,t,r,i),GI(n,e,r))}}function qI(t){var e=t.alternate;return t===yt||e!==null&&e===yt}function HI(t,e){Bl=ih=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function GI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Sv(t,n)}}var sh={readContext:or,useCallback:sn,useContext:sn,useEffect:sn,useImperativeHandle:sn,useInsertionEffect:sn,useLayoutEffect:sn,useMemo:sn,useReducer:sn,useRef:sn,useState:sn,useDebugValue:sn,useDeferredValue:sn,useTransition:sn,useMutableSource:sn,useSyncExternalStore:sn,useId:sn,unstable_isNewReconciler:!1},$D={readContext:or,useCallback:function(t,e){return Nr().memoizedState=[t,e===void 0?null:e],t},useContext:or,useEffect:Y0,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ed(4194308,4,FI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ed(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ed(4,2,t,e)},useMemo:function(t,e){var n=Nr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Nr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=VD.bind(null,yt,t),[r.memoizedState,t]},useRef:function(t){var e=Nr();return t={current:t},e.memoizedState=t},useState:Q0,useDebugValue:qv,useDeferredValue:function(t){return Nr().memoizedState=t},useTransition:function(){var t=Q0(!1),e=t[0];return t=OD.bind(null,t[1]),Nr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=yt,i=Nr();if(ht){if(n===void 0)throw Error(H(407));n=n()}else{if(n=e(),qt===null)throw Error(H(349));zs&30||NI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Y0(DI.bind(null,r,s,t),[t]),r.flags|=2048,Eu(9,xI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Nr(),e=qt.identifierPrefix;if(ht){var n=ii,r=ri;n=(r&~(1<<32-vr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=_u++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=LD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},FD={readContext:or,useCallback:jI,useContext:or,useEffect:Wv,useImperativeHandle:UI,useInsertionEffect:MI,useLayoutEffect:$I,useMemo:BI,useReducer:rm,useRef:VI,useState:function(){return rm(wu)},useDebugValue:qv,useDeferredValue:function(t){var e=ar();return zI(e,Vt.memoizedState,t)},useTransition:function(){var t=rm(wu)[0],e=ar().memoizedState;return[t,e]},useMutableSource:PI,useSyncExternalStore:bI,useId:WI,unstable_isNewReconciler:!1},UD={readContext:or,useCallback:jI,useContext:or,useEffect:Wv,useImperativeHandle:UI,useInsertionEffect:MI,useLayoutEffect:$I,useMemo:BI,useReducer:im,useRef:VI,useState:function(){return im(wu)},useDebugValue:qv,useDeferredValue:function(t){var e=ar();return Vt===null?e.memoizedState=t:zI(e,Vt.memoizedState,t)},useTransition:function(){var t=im(wu)[0],e=ar().memoizedState;return[t,e]},useMutableSource:PI,useSyncExternalStore:bI,useId:WI,unstable_isNewReconciler:!1};function pa(t,e){try{var n="",r=e;do n+=px(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function sm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Bg(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var jD=typeof WeakMap=="function"?WeakMap:Map;function KI(t,e,n){n=li(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){ah||(ah=!0,Jg=r),Bg(t,e)},n}function QI(t,e,n){n=li(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){Bg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Bg(t,e),typeof r!="function"&&(Qi===null?Qi=new Set([this]):Qi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function X0(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new jD;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=tL.bind(null,t,e,n),e.then(t,t))}function J0(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Z0(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=li(-1,1),e.tag=2,Ki(n,e,1))),n.lanes|=1),t)}var BD=_i.ReactCurrentOwner,kn=!1;function _n(t,e,n,r){e.child=t===null?CI(e,null,n,r):ha(e,t.child,n,r)}function eE(t,e,n,r,i){n=n.render;var s=e.ref;return Jo(e,i),r=Bv(t,e,n,r,s,i),n=zv(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(ht&&n&&bv(e),e.flags|=1,_n(t,e,r,i),e.child)}function tE(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!Zv(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,YI(t,e,s,r,i)):(t=Id(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:fu,n(o,r)&&t.ref===e.ref)return pi(t,e,i)}return e.flags|=1,t=Xi(s,r),t.ref=e.ref,t.return=e,e.child=t}function YI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(fu(s,r)&&t.ref===e.ref)if(kn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(kn=!0);else return e.lanes=t.lanes,pi(t,e,i)}return zg(t,e,n,r,i)}function XI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(Bo,Fn),Fn|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,nt(Bo,Fn),Fn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,nt(Bo,Fn),Fn|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,nt(Bo,Fn),Fn|=r;return _n(t,e,i,n),e.child}function JI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function zg(t,e,n,r,i){var s=bn(n)?js:fn.current;return s=ca(e,s),Jo(e,i),n=Bv(t,e,n,r,s,i),r=zv(),t!==null&&!kn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,pi(t,e,i)):(ht&&r&&bv(e),e.flags|=1,_n(t,e,n,i),e.child)}function nE(t,e,n,r,i){if(bn(n)){var s=!0;Xd(e)}else s=!1;if(Jo(e,i),e.stateNode===null)Sd(t,e),II(e,n,r),jg(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=n.contextType;typeof u=="object"&&u!==null?u=or(u):(u=bn(n)?js:fn.current,u=ca(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==u)&&G0(e,o,r,u),Ni=!1;var h=e.memoizedState;o.state=h,nh(e,r,o,i),l=e.memoizedState,a!==r||h!==l||Pn.current||Ni?(typeof c=="function"&&(Ug(e,n,c,r),l=e.memoizedState),(a=Ni||H0(e,n,a,r,h,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,TI(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:pr(e.type,a),o.props=u,d=e.pendingProps,h=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=or(l):(l=bn(n)?js:fn.current,l=ca(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||h!==l)&&G0(e,o,r,l),Ni=!1,h=e.memoizedState,o.state=h,nh(e,r,o,i);var m=e.memoizedState;a!==d||h!==m||Pn.current||Ni?(typeof p=="function"&&(Ug(e,n,p,r),m=e.memoizedState),(u=Ni||H0(e,n,u,r,h,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),o.props=r,o.state=m,o.context=l,r=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Wg(t,e,n,r,s,i)}function Wg(t,e,n,r,i,s){JI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&j0(e,n,!1),pi(t,e,s);r=e.stateNode,BD.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=ha(e,t.child,null,s),e.child=ha(e,null,a,s)):_n(t,e,a,s),e.memoizedState=r.state,i&&j0(e,n,!0),e.child}function ZI(t){var e=t.stateNode;e.pendingContext?U0(t,e.pendingContext,e.pendingContext!==e.context):e.context&&U0(t,e.context,!1),$v(t,e.containerInfo)}function rE(t,e,n,r,i){return da(),xv(i),e.flags|=256,_n(t,e,n,r),e.child}var qg={dehydrated:null,treeContext:null,retryLane:0};function Hg(t){return{baseLanes:t,cachePool:null,transitions:null}}function e1(t,e,n){var r=e.pendingProps,i=gt.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),nt(gt,i&1),t===null)return $g(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=af(o,r,0,null),t=Vs(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Hg(n),e.memoizedState=qg,t):Hv(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return zD(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Xi(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Xi(a,s):(s=Vs(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?Hg(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=qg,r}return s=t.child,t=s.sibling,r=Xi(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Hv(t,e){return e=af({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Bc(t,e,n,r){return r!==null&&xv(r),ha(e,t.child,null,n),t=Hv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function zD(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=sm(Error(H(422))),Bc(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=af({mode:"visible",children:r.children},i,0,null),s=Vs(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ha(e,t.child,null,o),e.child.memoizedState=Hg(o),e.memoizedState=qg,s);if(!(e.mode&1))return Bc(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(H(419)),r=sm(s,r,void 0),Bc(t,e,o,r)}if(a=(o&t.childLanes)!==0,kn||a){if(r=qt,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,fi(t,i),_r(r,t,i,-1))}return Jv(),r=sm(Error(H(421))),Bc(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nL.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,jn=Gi(i.nextSibling),Wn=e,ht=!0,yr=null,t!==null&&(Zn[er++]=ri,Zn[er++]=ii,Zn[er++]=Bs,ri=t.id,ii=t.overflow,Bs=e),e=Hv(e,r.children),e.flags|=4096,e)}function iE(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Fg(t.return,e,n)}function om(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function t1(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(_n(t,e,r.children,n),r=gt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&iE(t,n,e);else if(t.tag===19)iE(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(nt(gt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&rh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),om(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&rh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}om(e,!0,n,null,s);break;case"together":om(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Sd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function pi(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ws|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(H(153));if(e.child!==null){for(t=e.child,n=Xi(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Xi(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function WD(t,e,n){switch(e.tag){case 3:ZI(e),da();break;case 5:kI(e);break;case 1:bn(e.type)&&Xd(e);break;case 4:$v(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;nt(eh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(nt(gt,gt.current&1),e.flags|=128,null):n&e.child.childLanes?e1(t,e,n):(nt(gt,gt.current&1),t=pi(t,e,n),t!==null?t.sibling:null);nt(gt,gt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return t1(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),nt(gt,gt.current),r)break;return null;case 22:case 23:return e.lanes=0,XI(t,e,n)}return pi(t,e,n)}var n1,Gg,r1,i1;n1=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Gg=function(){};r1=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,As(Ur.current);var s=null;switch(n){case"input":i=mg(t,i),r=mg(t,r),s=[];break;case"select":i=vt({},i,{value:void 0}),r=vt({},r,{value:void 0}),s=[];break;case"textarea":i=vg(t,i),r=vg(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qd)}wg(n,r);var o;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ou.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var l=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ou.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&it("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}n&&(s=s||[]).push("style",n);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};i1=function(t,e,n,r){n!==r&&(e.flags|=4)};function ll(t,e){if(!ht)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function on(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function qD(t,e,n){var r=e.pendingProps;switch(Nv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return on(e),null;case 1:return bn(e.type)&&Yd(),on(e),null;case 3:return r=e.stateNode,fa(),ct(Pn),ct(fn),Uv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Uc(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,yr!==null&&(ty(yr),yr=null))),Gg(t,e),on(e),null;case 5:Fv(e);var i=As(vu.current);if(n=e.type,t!==null&&e.stateNode!=null)r1(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(H(166));return on(e),null}if(t=As(Ur.current),Uc(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Dr]=e,r[gu]=s,t=(e.mode&1)!==0,n){case"dialog":it("cancel",r),it("close",r);break;case"iframe":case"object":case"embed":it("load",r);break;case"video":case"audio":for(i=0;i<Cl.length;i++)it(Cl[i],r);break;case"source":it("error",r);break;case"img":case"image":case"link":it("error",r),it("load",r);break;case"details":it("toggle",r);break;case"input":f0(r,s),it("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},it("invalid",r);break;case"textarea":m0(r,s),it("invalid",r)}wg(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Fc(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Fc(r.textContent,a,t),i=["children",""+a]):ou.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&it("scroll",r)}switch(n){case"input":Nc(r),p0(r,s,!0);break;case"textarea":Nc(r),g0(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Qd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=NR(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Dr]=e,t[gu]=r,n1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Eg(n,r),n){case"dialog":it("cancel",t),it("close",t),i=r;break;case"iframe":case"object":case"embed":it("load",t),i=r;break;case"video":case"audio":for(i=0;i<Cl.length;i++)it(Cl[i],t);i=r;break;case"source":it("error",t),i=r;break;case"img":case"image":case"link":it("error",t),it("load",t),i=r;break;case"details":it("toggle",t),i=r;break;case"input":f0(t,r),i=mg(t,r),it("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=vt({},r,{value:void 0}),it("invalid",t);break;case"textarea":m0(t,r),i=vg(t,r),it("invalid",t);break;default:i=r}wg(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?LR(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&xR(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&au(t,l):typeof l=="number"&&au(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ou.hasOwnProperty(s)?l!=null&&s==="onScroll"&&it("scroll",t):l!=null&&gv(t,s,l,o))}switch(n){case"input":Nc(t),p0(t,r,!1);break;case"textarea":Nc(t),g0(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ns(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?Ko(t,!!r.multiple,s,!1):r.defaultValue!=null&&Ko(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return on(e),null;case 6:if(t&&e.stateNode!=null)i1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(H(166));if(n=As(vu.current),As(Ur.current),Uc(e)){if(r=e.stateNode,n=e.memoizedProps,r[Dr]=e,(s=r.nodeValue!==n)&&(t=Wn,t!==null))switch(t.tag){case 3:Fc(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Fc(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dr]=e,e.stateNode=r}return on(e),null;case 13:if(ct(gt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ht&&jn!==null&&e.mode&1&&!(e.flags&128))EI(),da(),e.flags|=98560,s=!1;else if(s=Uc(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(H(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(H(317));s[Dr]=e}else da(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;on(e),s=!1}else yr!==null&&(ty(yr),yr=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||gt.current&1?Mt===0&&(Mt=3):Jv())),e.updateQueue!==null&&(e.flags|=4),on(e),null);case 4:return fa(),Gg(t,e),t===null&&pu(e.stateNode.containerInfo),on(e),null;case 10:return Ov(e.type._context),on(e),null;case 17:return bn(e.type)&&Yd(),on(e),null;case 19:if(ct(gt),s=e.memoizedState,s===null)return on(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)ll(s,!1);else{if(Mt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=rh(t),o!==null){for(e.flags|=128,ll(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return nt(gt,gt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ct()>ma&&(e.flags|=128,r=!0,ll(s,!1),e.lanes=4194304)}else{if(!r)if(t=rh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ll(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ht)return on(e),null}else 2*Ct()-s.renderingStartTime>ma&&n!==1073741824&&(e.flags|=128,r=!0,ll(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ct(),e.sibling=null,n=gt.current,nt(gt,r?n&1|2:n&1),e):(on(e),null);case 22:case 23:return Xv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fn&1073741824&&(on(e),e.subtreeFlags&6&&(e.flags|=8192)):on(e),null;case 24:return null;case 25:return null}throw Error(H(156,e.tag))}function HD(t,e){switch(Nv(e),e.tag){case 1:return bn(e.type)&&Yd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fa(),ct(Pn),ct(fn),Uv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Fv(e),null;case 13:if(ct(gt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(H(340));da()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ct(gt),null;case 4:return fa(),null;case 10:return Ov(e.type._context),null;case 22:case 23:return Xv(),null;case 24:return null;default:return null}}var zc=!1,un=!1,GD=typeof WeakSet=="function"?WeakSet:Set,de=null;function jo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Et(t,e,r)}else n.current=null}function Kg(t,e,n){try{n()}catch(r){Et(t,e,r)}}var sE=!1;function KD(t,e){if(Ng=Hd,t=lI(),Pv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||i!==0&&d.nodeType!==3||(a=o+i),d!==s||r!==0&&d.nodeType!==3||(l=o+r),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===i&&(a=o),h===s&&++c===r&&(l=o),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xg={focusedElem:t,selectionRange:n},Hd=!1,de=e;de!==null;)if(e=de,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,de=t;else for(;de!==null;){e=de;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var _=m.memoizedProps,R=m.memoizedState,y=e.stateNode,f=y.getSnapshotBeforeUpdate(e.elementType===e.type?_:pr(e.type,_),R);y.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(H(163))}}catch(g){Et(e,e.return,g)}if(t=e.sibling,t!==null){t.return=e.return,de=t;break}de=e.return}return m=sE,sE=!1,m}function zl(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Kg(e,n,s)}i=i.next}while(i!==r)}}function sf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Qg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function s1(t){var e=t.alternate;e!==null&&(t.alternate=null,s1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Dr],delete e[gu],delete e[Og],delete e[bD],delete e[ND])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function o1(t){return t.tag===5||t.tag===3||t.tag===4}function oE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||o1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Yg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qd));else if(r!==4&&(t=t.child,t!==null))for(Yg(t,e,n),t=t.sibling;t!==null;)Yg(t,e,n),t=t.sibling}function Xg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Xg(t,e,n),t=t.sibling;t!==null;)Xg(t,e,n),t=t.sibling}var Qt=null,mr=!1;function Ri(t,e,n){for(n=n.child;n!==null;)a1(t,e,n),n=n.sibling}function a1(t,e,n){if(Fr&&typeof Fr.onCommitFiberUnmount=="function")try{Fr.onCommitFiberUnmount(Yh,n)}catch{}switch(n.tag){case 5:un||jo(n,e);case 6:var r=Qt,i=mr;Qt=null,Ri(t,e,n),Qt=r,mr=i,Qt!==null&&(mr?(t=Qt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Qt.removeChild(n.stateNode));break;case 18:Qt!==null&&(mr?(t=Qt,n=n.stateNode,t.nodeType===8?Zp(t.parentNode,n):t.nodeType===1&&Zp(t,n),du(t)):Zp(Qt,n.stateNode));break;case 4:r=Qt,i=mr,Qt=n.stateNode.containerInfo,mr=!0,Ri(t,e,n),Qt=r,mr=i;break;case 0:case 11:case 14:case 15:if(!un&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&Kg(n,e,o),i=i.next}while(i!==r)}Ri(t,e,n);break;case 1:if(!un&&(jo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Et(n,e,a)}Ri(t,e,n);break;case 21:Ri(t,e,n);break;case 22:n.mode&1?(un=(r=un)||n.memoizedState!==null,Ri(t,e,n),un=r):Ri(t,e,n);break;default:Ri(t,e,n)}}function aE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new GD),e.forEach(function(r){var i=rL.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function hr(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Qt=a.stateNode,mr=!1;break e;case 3:Qt=a.stateNode.containerInfo,mr=!0;break e;case 4:Qt=a.stateNode.containerInfo,mr=!0;break e}a=a.return}if(Qt===null)throw Error(H(160));a1(s,o,i),Qt=null,mr=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){Et(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)l1(e,t),e=e.sibling}function l1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(hr(e,t),br(t),r&4){try{zl(3,t,t.return),sf(3,t)}catch(_){Et(t,t.return,_)}try{zl(5,t,t.return)}catch(_){Et(t,t.return,_)}}break;case 1:hr(e,t),br(t),r&512&&n!==null&&jo(n,n.return);break;case 5:if(hr(e,t),br(t),r&512&&n!==null&&jo(n,n.return),t.flags&32){var i=t.stateNode;try{au(i,"")}catch(_){Et(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&PR(i,s),Eg(a,o);var u=Eg(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?LR(i,d):c==="dangerouslySetInnerHTML"?xR(i,d):c==="children"?au(i,d):gv(i,c,d,u)}switch(a){case"input":gg(i,s);break;case"textarea":bR(i,s);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Ko(i,!!s.multiple,p,!1):h!==!!s.multiple&&(s.defaultValue!=null?Ko(i,!!s.multiple,s.defaultValue,!0):Ko(i,!!s.multiple,s.multiple?[]:"",!1))}i[gu]=s}catch(_){Et(t,t.return,_)}}break;case 6:if(hr(e,t),br(t),r&4){if(t.stateNode===null)throw Error(H(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Et(t,t.return,_)}}break;case 3:if(hr(e,t),br(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{du(e.containerInfo)}catch(_){Et(t,t.return,_)}break;case 4:hr(e,t),br(t);break;case 13:hr(e,t),br(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Qv=Ct())),r&4&&aE(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(un=(u=un)||c,hr(e,t),un=u):hr(e,t),br(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(de=t,c=t.child;c!==null;){for(d=de=c;de!==null;){switch(h=de,p=h.child,h.tag){case 0:case 11:case 14:case 15:zl(4,h,h.return);break;case 1:jo(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(_){Et(r,n,_)}}break;case 5:jo(h,h.return);break;case 22:if(h.memoizedState!==null){uE(d);continue}}p!==null?(p.return=h,de=p):uE(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=DR("display",o))}catch(_){Et(t,t.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){Et(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:hr(e,t),br(t),r&4&&aE(t);break;case 21:break;default:hr(e,t),br(t)}}function br(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(o1(n)){var r=n;break e}n=n.return}throw Error(H(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(au(i,""),r.flags&=-33);var s=oE(t);Xg(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=oE(t);Yg(t,a,o);break;default:throw Error(H(161))}}catch(l){Et(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QD(t,e,n){de=t,u1(t)}function u1(t,e,n){for(var r=(t.mode&1)!==0;de!==null;){var i=de,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||zc;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||un;a=zc;var u=un;if(zc=o,(un=l)&&!u)for(de=i;de!==null;)o=de,l=o.child,o.tag===22&&o.memoizedState!==null?cE(i):l!==null?(l.return=o,de=l):cE(i);for(;s!==null;)de=s,u1(s),s=s.sibling;de=i,zc=a,un=u}lE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,de=s):lE(t)}}function lE(t){for(;de!==null;){var e=de;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:un||sf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!un)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:pr(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&q0(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}q0(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&du(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(H(163))}un||e.flags&512&&Qg(e)}catch(h){Et(e,e.return,h)}}if(e===t){de=null;break}if(n=e.sibling,n!==null){n.return=e.return,de=n;break}de=e.return}}function uE(t){for(;de!==null;){var e=de;if(e===t){de=null;break}var n=e.sibling;if(n!==null){n.return=e.return,de=n;break}de=e.return}}function cE(t){for(;de!==null;){var e=de;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{sf(4,e)}catch(l){Et(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Et(e,i,l)}}var s=e.return;try{Qg(e)}catch(l){Et(e,s,l)}break;case 5:var o=e.return;try{Qg(e)}catch(l){Et(e,o,l)}}}catch(l){Et(e,e.return,l)}if(e===t){de=null;break}var a=e.sibling;if(a!==null){a.return=e.return,de=a;break}de=e.return}}var YD=Math.ceil,oh=_i.ReactCurrentDispatcher,Gv=_i.ReactCurrentOwner,sr=_i.ReactCurrentBatchConfig,He=0,qt=null,Dt=null,Zt=0,Fn=0,Bo=ls(0),Mt=0,Su=null,Ws=0,of=0,Kv=0,Wl=null,An=null,Qv=0,ma=1/0,Zr=null,ah=!1,Jg=null,Qi=null,Wc=!1,ji=null,lh=0,ql=0,Zg=null,Td=-1,Rd=0;function Sn(){return He&6?Ct():Td!==-1?Td:Td=Ct()}function Yi(t){return t.mode&1?He&2&&Zt!==0?Zt&-Zt:DD.transition!==null?(Rd===0&&(Rd=HR()),Rd):(t=Xe,t!==0||(t=window.event,t=t===void 0?16:ZR(t.type)),t):1}function _r(t,e,n,r){if(50<ql)throw ql=0,Zg=null,Error(H(185));Yu(t,n,r),(!(He&2)||t!==qt)&&(t===qt&&(!(He&2)&&(of|=n),Mt===4&&Li(t,Zt)),Nn(t,r),n===1&&He===0&&!(e.mode&1)&&(ma=Ct()+500,tf&&us()))}function Nn(t,e){var n=t.callbackNode;Dx(t,e);var r=qd(t,t===qt?Zt:0);if(r===0)n!==null&&_0(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&_0(n),e===1)t.tag===0?xD(dE.bind(null,t)):vI(dE.bind(null,t)),kD(function(){!(He&6)&&us()}),n=null;else{switch(GR(r)){case 1:n=Ev;break;case 4:n=WR;break;case 16:n=Wd;break;case 536870912:n=qR;break;default:n=Wd}n=y1(n,c1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function c1(t,e){if(Td=-1,Rd=0,He&6)throw Error(H(327));var n=t.callbackNode;if(Zo()&&t.callbackNode!==n)return null;var r=qd(t,t===qt?Zt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=uh(t,r);else{e=r;var i=He;He|=2;var s=h1();(qt!==t||Zt!==e)&&(Zr=null,ma=Ct()+500,Os(t,e));do try{ZD();break}catch(a){d1(t,a)}while(!0);Lv(),oh.current=s,He=i,Dt!==null?e=0:(qt=null,Zt=0,e=Mt)}if(e!==0){if(e===2&&(i=Ag(t),i!==0&&(r=i,e=ey(t,i))),e===1)throw n=Su,Os(t,0),Li(t,r),Nn(t,Ct()),n;if(e===6)Li(t,r);else{if(i=t.current.alternate,!(r&30)&&!XD(i)&&(e=uh(t,r),e===2&&(s=Ag(t),s!==0&&(r=s,e=ey(t,s))),e===1))throw n=Su,Os(t,0),Li(t,r),Nn(t,Ct()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(H(345));case 2:ws(t,An,Zr);break;case 3:if(Li(t,r),(r&130023424)===r&&(e=Qv+500-Ct(),10<e)){if(qd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Sn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Lg(ws.bind(null,t,An,Zr),e);break}ws(t,An,Zr);break;case 4:if(Li(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-vr(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*YD(r/1960))-r,10<r){t.timeoutHandle=Lg(ws.bind(null,t,An,Zr),r);break}ws(t,An,Zr);break;case 5:ws(t,An,Zr);break;default:throw Error(H(329))}}}return Nn(t,Ct()),t.callbackNode===n?c1.bind(null,t):null}function ey(t,e){var n=Wl;return t.current.memoizedState.isDehydrated&&(Os(t,e).flags|=256),t=uh(t,e),t!==2&&(e=An,An=n,e!==null&&ty(e)),t}function ty(t){An===null?An=t:An.push.apply(An,t)}function XD(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Sr(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Li(t,e){for(e&=~Kv,e&=~of,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-vr(e),r=1<<n;t[n]=-1,e&=~r}}function dE(t){if(He&6)throw Error(H(327));Zo();var e=qd(t,0);if(!(e&1))return Nn(t,Ct()),null;var n=uh(t,e);if(t.tag!==0&&n===2){var r=Ag(t);r!==0&&(e=r,n=ey(t,r))}if(n===1)throw n=Su,Os(t,0),Li(t,e),Nn(t,Ct()),n;if(n===6)throw Error(H(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ws(t,An,Zr),Nn(t,Ct()),null}function Yv(t,e){var n=He;He|=1;try{return t(e)}finally{He=n,He===0&&(ma=Ct()+500,tf&&us())}}function qs(t){ji!==null&&ji.tag===0&&!(He&6)&&Zo();var e=He;He|=1;var n=sr.transition,r=Xe;try{if(sr.transition=null,Xe=1,t)return t()}finally{Xe=r,sr.transition=n,He=e,!(He&6)&&us()}}function Xv(){Fn=Bo.current,ct(Bo)}function Os(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,CD(n)),Dt!==null)for(n=Dt.return;n!==null;){var r=n;switch(Nv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Yd();break;case 3:fa(),ct(Pn),ct(fn),Uv();break;case 5:Fv(r);break;case 4:fa();break;case 13:ct(gt);break;case 19:ct(gt);break;case 10:Ov(r.type._context);break;case 22:case 23:Xv()}n=n.return}if(qt=t,Dt=t=Xi(t.current,null),Zt=Fn=e,Mt=0,Su=null,Kv=of=Ws=0,An=Wl=null,Is!==null){for(e=0;e<Is.length;e++)if(n=Is[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Is=null}return t}function d1(t,e){do{var n=Dt;try{if(Lv(),wd.current=sh,ih){for(var r=yt.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ih=!1}if(zs=0,Bt=Vt=yt=null,Bl=!1,_u=0,Gv.current=null,n===null||n.return===null){Mt=1,Su=e,Dt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=Zt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=J0(o);if(p!==null){p.flags&=-257,Z0(p,o,a,s,e),p.mode&1&&X0(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var _=new Set;_.add(l),e.updateQueue=_}else m.add(l);break e}else{if(!(e&1)){X0(s,u,e),Jv();break e}l=Error(H(426))}}else if(ht&&a.mode&1){var R=J0(o);if(R!==null){!(R.flags&65536)&&(R.flags|=256),Z0(R,o,a,s,e),xv(pa(l,a));break e}}s=l=pa(l,a),Mt!==4&&(Mt=2),Wl===null?Wl=[s]:Wl.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=KI(s,l,e);W0(s,y);break e;case 1:a=l;var f=s.type,v=s.stateNode;if(!(s.flags&128)&&(typeof f.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Qi===null||!Qi.has(v)))){s.flags|=65536,e&=-e,s.lanes|=e;var g=QI(s,a,e);W0(s,g);break e}}s=s.return}while(s!==null)}p1(n)}catch(E){e=E,Dt===n&&n!==null&&(Dt=n=n.return);continue}break}while(!0)}function h1(){var t=oh.current;return oh.current=sh,t===null?sh:t}function Jv(){(Mt===0||Mt===3||Mt===2)&&(Mt=4),qt===null||!(Ws&268435455)&&!(of&268435455)||Li(qt,Zt)}function uh(t,e){var n=He;He|=2;var r=h1();(qt!==t||Zt!==e)&&(Zr=null,Os(t,e));do try{JD();break}catch(i){d1(t,i)}while(!0);if(Lv(),He=n,oh.current=r,Dt!==null)throw Error(H(261));return qt=null,Zt=0,Mt}function JD(){for(;Dt!==null;)f1(Dt)}function ZD(){for(;Dt!==null&&!Rx();)f1(Dt)}function f1(t){var e=g1(t.alternate,t,Fn);t.memoizedProps=t.pendingProps,e===null?p1(t):Dt=e,Gv.current=null}function p1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=HD(n,e),n!==null){n.flags&=32767,Dt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Mt=6,Dt=null;return}}else if(n=qD(n,e,Fn),n!==null){Dt=n;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);Mt===0&&(Mt=5)}function ws(t,e,n){var r=Xe,i=sr.transition;try{sr.transition=null,Xe=1,eL(t,e,n,r)}finally{sr.transition=i,Xe=r}return null}function eL(t,e,n,r){do Zo();while(ji!==null);if(He&6)throw Error(H(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(H(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Lx(t,s),t===qt&&(Dt=qt=null,Zt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Wc||(Wc=!0,y1(Wd,function(){return Zo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=sr.transition,sr.transition=null;var o=Xe;Xe=1;var a=He;He|=4,Gv.current=null,KD(t,n),l1(n,t),wD(xg),Hd=!!Ng,xg=Ng=null,t.current=n,QD(n),Ix(),He=a,Xe=o,sr.transition=s}else t.current=n;if(Wc&&(Wc=!1,ji=t,lh=i),s=t.pendingLanes,s===0&&(Qi=null),kx(n.stateNode),Nn(t,Ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ah)throw ah=!1,t=Jg,Jg=null,t;return lh&1&&t.tag!==0&&Zo(),s=t.pendingLanes,s&1?t===Zg?ql++:(ql=0,Zg=t):ql=0,us(),null}function Zo(){if(ji!==null){var t=GR(lh),e=sr.transition,n=Xe;try{if(sr.transition=null,Xe=16>t?16:t,ji===null)var r=!1;else{if(t=ji,ji=null,lh=0,He&6)throw Error(H(331));var i=He;for(He|=4,de=t.current;de!==null;){var s=de,o=s.child;if(de.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(de=u;de!==null;){var c=de;switch(c.tag){case 0:case 11:case 15:zl(8,c,s)}var d=c.child;if(d!==null)d.return=c,de=d;else for(;de!==null;){c=de;var h=c.sibling,p=c.return;if(s1(c),c===u){de=null;break}if(h!==null){h.return=p,de=h;break}de=p}}}var m=s.alternate;if(m!==null){var _=m.child;if(_!==null){m.child=null;do{var R=_.sibling;_.sibling=null,_=R}while(_!==null)}}de=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,de=o;else e:for(;de!==null;){if(s=de,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zl(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,de=y;break e}de=s.return}}var f=t.current;for(de=f;de!==null;){o=de;var v=o.child;if(o.subtreeFlags&2064&&v!==null)v.return=o,de=v;else e:for(o=f;de!==null;){if(a=de,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:sf(9,a)}}catch(E){Et(a,a.return,E)}if(a===o){de=null;break e}var g=a.sibling;if(g!==null){g.return=a.return,de=g;break e}de=a.return}}if(He=i,us(),Fr&&typeof Fr.onPostCommitFiberRoot=="function")try{Fr.onPostCommitFiberRoot(Yh,t)}catch{}r=!0}return r}finally{Xe=n,sr.transition=e}}return!1}function hE(t,e,n){e=pa(n,e),e=KI(t,e,1),t=Ki(t,e,1),e=Sn(),t!==null&&(Yu(t,1,e),Nn(t,e))}function Et(t,e,n){if(t.tag===3)hE(t,t,n);else for(;e!==null;){if(e.tag===3){hE(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Qi===null||!Qi.has(r))){t=pa(n,t),t=QI(e,t,1),e=Ki(e,t,1),t=Sn(),e!==null&&(Yu(e,1,t),Nn(e,t));break}}e=e.return}}function tL(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Sn(),t.pingedLanes|=t.suspendedLanes&n,qt===t&&(Zt&n)===n&&(Mt===4||Mt===3&&(Zt&130023424)===Zt&&500>Ct()-Qv?Os(t,0):Kv|=n),Nn(t,e)}function m1(t,e){e===0&&(t.mode&1?(e=Lc,Lc<<=1,!(Lc&130023424)&&(Lc=4194304)):e=1);var n=Sn();t=fi(t,e),t!==null&&(Yu(t,e,n),Nn(t,n))}function nL(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),m1(t,n)}function rL(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(H(314))}r!==null&&r.delete(e),m1(t,n)}var g1;g1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Pn.current)kn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return kn=!1,WD(t,e,n);kn=!!(t.flags&131072)}else kn=!1,ht&&e.flags&1048576&&_I(e,Zd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Sd(t,e),t=e.pendingProps;var i=ca(e,fn.current);Jo(e,n),i=Bv(null,e,r,t,i,n);var s=zv();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,bn(r)?(s=!0,Xd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Mv(e),i.updater=nf,e.stateNode=i,i._reactInternals=e,jg(e,r,t,n),e=Wg(null,e,r,!0,s,n)):(e.tag=0,ht&&s&&bv(e),_n(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Sd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=sL(r),t=pr(r,t),i){case 0:e=zg(null,e,r,t,n);break e;case 1:e=nE(null,e,r,t,n);break e;case 11:e=eE(null,e,r,t,n);break e;case 14:e=tE(null,e,r,pr(r.type,t),n);break e}throw Error(H(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),zg(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),nE(t,e,r,i,n);case 3:e:{if(ZI(e),t===null)throw Error(H(387));r=e.pendingProps,s=e.memoizedState,i=s.element,TI(t,e),nh(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=pa(Error(H(423)),e),e=rE(t,e,r,n,i);break e}else if(r!==i){i=pa(Error(H(424)),e),e=rE(t,e,r,n,i);break e}else for(jn=Gi(e.stateNode.containerInfo.firstChild),Wn=e,ht=!0,yr=null,n=CI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(da(),r===i){e=pi(t,e,n);break e}_n(t,e,r,n)}e=e.child}return e;case 5:return kI(e),t===null&&$g(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Dg(r,i)?o=null:s!==null&&Dg(r,s)&&(e.flags|=32),JI(t,e),_n(t,e,o,n),e.child;case 6:return t===null&&$g(e),null;case 13:return e1(t,e,n);case 4:return $v(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ha(e,null,r,n):_n(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),eE(t,e,r,i,n);case 7:return _n(t,e,e.pendingProps,n),e.child;case 8:return _n(t,e,e.pendingProps.children,n),e.child;case 12:return _n(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,nt(eh,r._currentValue),r._currentValue=o,s!==null)if(Sr(s.value,o)){if(s.children===i.children&&!Pn.current){e=pi(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=li(-1,n&-n),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),Fg(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(H(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Fg(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}_n(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Jo(e,n),i=or(i),r=r(i),e.flags|=1,_n(t,e,r,n),e.child;case 14:return r=e.type,i=pr(r,e.pendingProps),i=pr(r.type,i),tE(t,e,r,i,n);case 15:return YI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:pr(r,i),Sd(t,e),e.tag=1,bn(r)?(t=!0,Xd(e)):t=!1,Jo(e,n),II(e,r,i),jg(e,r,i,n),Wg(null,e,r,!0,t,n);case 19:return t1(t,e,n);case 22:return XI(t,e,n)}throw Error(H(156,e.tag))};function y1(t,e){return zR(t,e)}function iL(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function rr(t,e,n,r){return new iL(t,e,n,r)}function Zv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function sL(t){if(typeof t=="function")return Zv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===vv)return 11;if(t===_v)return 14}return 2}function Xi(t,e){var n=t.alternate;return n===null?(n=rr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Id(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")Zv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case xo:return Vs(n.children,i,s,e);case yv:o=8,i|=8;break;case dg:return t=rr(12,n,e,i|2),t.elementType=dg,t.lanes=s,t;case hg:return t=rr(13,n,e,i),t.elementType=hg,t.lanes=s,t;case fg:return t=rr(19,n,e,i),t.elementType=fg,t.lanes=s,t;case AR:return af(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case RR:o=10;break e;case IR:o=9;break e;case vv:o=11;break e;case _v:o=14;break e;case bi:o=16,r=null;break e}throw Error(H(130,t==null?t:typeof t,""))}return e=rr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Vs(t,e,n,r){return t=rr(7,t,r,e),t.lanes=n,t}function af(t,e,n,r){return t=rr(22,t,r,e),t.elementType=AR,t.lanes=n,t.stateNode={isHidden:!1},t}function am(t,e,n){return t=rr(6,t,null,e),t.lanes=n,t}function lm(t,e,n){return e=rr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oL(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bp(0),this.expirationTimes=Bp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bp(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function e_(t,e,n,r,i,s,o,a,l){return t=new oL(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=rr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Mv(s),t}function aL(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:No,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function v1(t){if(!t)return rs;t=t._reactInternals;e:{if(lo(t)!==t||t.tag!==1)throw Error(H(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(bn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(H(171))}if(t.tag===1){var n=t.type;if(bn(n))return yI(t,n,e)}return e}function _1(t,e,n,r,i,s,o,a,l){return t=e_(n,r,!0,t,i,s,o,a,l),t.context=v1(null),n=t.current,r=Sn(),i=Yi(n),s=li(r,i),s.callback=e??null,Ki(n,s,i),t.current.lanes=i,Yu(t,i,r),Nn(t,r),t}function lf(t,e,n,r){var i=e.current,s=Sn(),o=Yi(i);return n=v1(n),e.context===null?e.context=n:e.pendingContext=n,e=li(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ki(i,e,o),t!==null&&(_r(t,i,o,s),_d(t,i,o)),o}function ch(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function fE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function t_(t,e){fE(t,e),(t=t.alternate)&&fE(t,e)}function lL(){return null}var w1=typeof reportError=="function"?reportError:function(t){console.error(t)};function n_(t){this._internalRoot=t}uf.prototype.render=n_.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(H(409));lf(t,e,null,null)};uf.prototype.unmount=n_.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;qs(function(){lf(null,t,null,null)}),e[hi]=null}};function uf(t){this._internalRoot=t}uf.prototype.unstable_scheduleHydration=function(t){if(t){var e=YR();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Di.length&&e!==0&&e<Di[n].priority;n++);Di.splice(n,0,t),n===0&&JR(t)}};function r_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function cf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function pE(){}function uL(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=ch(o);s.call(u)}}var o=_1(e,r,t,0,null,!1,!1,"",pE);return t._reactRootContainer=o,t[hi]=o.current,pu(t.nodeType===8?t.parentNode:t),qs(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=ch(l);a.call(u)}}var l=e_(t,0,!1,null,null,!1,!1,"",pE);return t._reactRootContainer=l,t[hi]=l.current,pu(t.nodeType===8?t.parentNode:t),qs(function(){lf(e,l,n,r)}),l}function df(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=ch(o);a.call(l)}}lf(e,o,t,i)}else o=uL(n,e,t,i,r);return ch(o)}KR=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Al(e.pendingLanes);n!==0&&(Sv(e,n|1),Nn(e,Ct()),!(He&6)&&(ma=Ct()+500,us()))}break;case 13:qs(function(){var r=fi(t,1);if(r!==null){var i=Sn();_r(r,t,1,i)}}),t_(t,1)}};Tv=function(t){if(t.tag===13){var e=fi(t,134217728);if(e!==null){var n=Sn();_r(e,t,134217728,n)}t_(t,134217728)}};QR=function(t){if(t.tag===13){var e=Yi(t),n=fi(t,e);if(n!==null){var r=Sn();_r(n,t,e,r)}t_(t,e)}};YR=function(){return Xe};XR=function(t,e){var n=Xe;try{return Xe=t,e()}finally{Xe=n}};Tg=function(t,e,n){switch(e){case"input":if(gg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ef(r);if(!i)throw Error(H(90));kR(r),gg(r,i)}}}break;case"textarea":bR(t,n);break;case"select":e=n.value,e!=null&&Ko(t,!!n.multiple,e,!1)}};MR=Yv;$R=qs;var cL={usingClientEntryPoint:!1,Events:[Ju,Vo,ef,OR,VR,Yv]},ul={findFiberByHostInstance:Rs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},dL={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_i.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=jR(t),t===null?null:t.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||lL,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qc.isDisabled&&qc.supportsFiber)try{Yh=qc.inject(dL),Fr=qc}catch{}}Kn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cL;Kn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!r_(e))throw Error(H(200));return aL(t,e,null,n)};Kn.createRoot=function(t,e){if(!r_(t))throw Error(H(299));var n=!1,r="",i=w1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=e_(t,1,!1,null,null,n,!1,r,i),t[hi]=e.current,pu(t.nodeType===8?t.parentNode:t),new n_(e)};Kn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(H(188)):(t=Object.keys(t).join(","),Error(H(268,t)));return t=jR(e),t=t===null?null:t.stateNode,t};Kn.flushSync=function(t){return qs(t)};Kn.hydrate=function(t,e,n){if(!cf(e))throw Error(H(200));return df(null,t,e,!0,n)};Kn.hydrateRoot=function(t,e,n){if(!r_(t))throw Error(H(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=w1;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=_1(e,null,t,1,n??null,i,!1,s,o),t[hi]=e.current,pu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new uf(e)};Kn.render=function(t,e,n){if(!cf(e))throw Error(H(200));return df(null,t,e,!1,n)};Kn.unmountComponentAtNode=function(t){if(!cf(t))throw Error(H(40));return t._reactRootContainer?(qs(function(){df(null,null,t,!1,function(){t._reactRootContainer=null,t[hi]=null})}),!0):!1};Kn.unstable_batchedUpdates=Yv;Kn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!cf(n))throw Error(H(200));if(t==null||t._reactInternals===void 0)throw Error(H(38));return df(t,e,n,!1,r)};Kn.version="18.2.0-next-9e3b772b8-20220608";function E1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E1)}catch(t){console.error(t)}}E1(),_R.exports=Kn;var S1=_R.exports;const hL=lR(S1);var mE=S1;ug.createRoot=mE.createRoot,ug.hydrateRoot=mE.hydrateRoot;var Wt=function(){return Wt=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Wt.apply(this,arguments)};function i_(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Tu(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var st="-ms-",Hl="-moz-",Ye="-webkit-",T1="comm",hf="rule",s_="decl",fL="@import",R1="@keyframes",pL="@layer",mL=Math.abs,o_=String.fromCharCode,ny=Object.assign;function gL(t,e){return zt(t,0)^45?(((e<<2^zt(t,0))<<2^zt(t,1))<<2^zt(t,2))<<2^zt(t,3):0}function I1(t){return t.trim()}function ei(t,e){return(t=e.exec(t))?t[0]:t}function De(t,e,n){return t.replace(e,n)}function Ad(t,e){return t.indexOf(e)}function zt(t,e){return t.charCodeAt(e)|0}function ga(t,e,n){return t.slice(e,n)}function xr(t){return t.length}function A1(t){return t.length}function kl(t,e){return e.push(t),t}function yL(t,e){return t.map(e).join("")}function gE(t,e){return t.filter(function(n){return!ei(n,e)})}var ff=1,ya=1,C1=0,lr=0,xt=0,Fa="";function pf(t,e,n,r,i,s,o,a){return{value:t,root:e,parent:n,type:r,props:i,children:s,line:ff,column:ya,length:o,return:"",siblings:a}}function ki(t,e){return ny(pf("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function Ro(t){for(;t.root;)t=ki(t.root,{children:[t]});kl(t,t.siblings)}function vL(){return xt}function _L(){return xt=lr>0?zt(Fa,--lr):0,ya--,xt===10&&(ya=1,ff--),xt}function wr(){return xt=lr<C1?zt(Fa,lr++):0,ya++,xt===10&&(ya=1,ff++),xt}function Ms(){return zt(Fa,lr)}function Cd(){return lr}function mf(t,e){return ga(Fa,t,e)}function ry(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function wL(t){return ff=ya=1,C1=xr(Fa=t),lr=0,[]}function EL(t){return Fa="",t}function um(t){return I1(mf(lr-1,iy(t===91?t+2:t===40?t+1:t)))}function SL(t){for(;(xt=Ms())&&xt<33;)wr();return ry(t)>2||ry(xt)>3?"":" "}function TL(t,e){for(;--e&&wr()&&!(xt<48||xt>102||xt>57&&xt<65||xt>70&&xt<97););return mf(t,Cd()+(e<6&&Ms()==32&&wr()==32))}function iy(t){for(;wr();)switch(xt){case t:return lr;case 34:case 39:t!==34&&t!==39&&iy(xt);break;case 40:t===41&&iy(t);break;case 92:wr();break}return lr}function RL(t,e){for(;wr()&&t+xt!==57;)if(t+xt===84&&Ms()===47)break;return"/*"+mf(e,lr-1)+"*"+o_(t===47?t:wr())}function IL(t){for(;!ry(Ms());)wr();return mf(t,lr)}function AL(t){return EL(kd("",null,null,null,[""],t=wL(t),0,[0],t))}function kd(t,e,n,r,i,s,o,a,l){for(var u=0,c=0,d=o,h=0,p=0,m=0,_=1,R=1,y=1,f=0,v="",g=i,E=s,T=r,I=v;R;)switch(m=f,f=wr()){case 40:if(m!=108&&zt(I,d-1)==58){Ad(I+=De(um(f),"&","&\f"),"&\f")!=-1&&(y=-1);break}case 34:case 39:case 91:I+=um(f);break;case 9:case 10:case 13:case 32:I+=SL(m);break;case 92:I+=TL(Cd()-1,7);continue;case 47:switch(Ms()){case 42:case 47:kl(CL(RL(wr(),Cd()),e,n,l),l);break;default:I+="/"}break;case 123*_:a[u++]=xr(I)*y;case 125*_:case 59:case 0:switch(f){case 0:case 125:R=0;case 59+c:y==-1&&(I=De(I,/\f/g,"")),p>0&&xr(I)-d&&kl(p>32?vE(I+";",r,n,d-1,l):vE(De(I," ","")+";",r,n,d-2,l),l);break;case 59:I+=";";default:if(kl(T=yE(I,e,n,u,c,i,a,v,g=[],E=[],d,s),s),f===123)if(c===0)kd(I,e,T,T,g,s,d,a,E);else switch(h===99&&zt(I,3)===110?100:h){case 100:case 108:case 109:case 115:kd(t,T,T,r&&kl(yE(t,T,T,0,0,i,a,v,i,g=[],d,E),E),i,E,d,a,r?g:E);break;default:kd(I,T,T,T,[""],E,0,a,E)}}u=c=p=0,_=y=1,v=I="",d=o;break;case 58:d=1+xr(I),p=m;default:if(_<1){if(f==123)--_;else if(f==125&&_++==0&&_L()==125)continue}switch(I+=o_(f),f*_){case 38:y=c>0?1:(I+="\f",-1);break;case 44:a[u++]=(xr(I)-1)*y,y=1;break;case 64:Ms()===45&&(I+=um(wr())),h=Ms(),c=d=xr(v=I+=IL(Cd())),f++;break;case 45:m===45&&xr(I)==2&&(_=0)}}return s}function yE(t,e,n,r,i,s,o,a,l,u,c,d){for(var h=i-1,p=i===0?s:[""],m=A1(p),_=0,R=0,y=0;_<r;++_)for(var f=0,v=ga(t,h+1,h=mL(R=o[_])),g=t;f<m;++f)(g=I1(R>0?p[f]+" "+v:De(v,/&\f/g,p[f])))&&(l[y++]=g);return pf(t,e,n,i===0?hf:a,l,u,c,d)}function CL(t,e,n,r){return pf(t,e,n,T1,o_(vL()),ga(t,2,-2),0,r)}function vE(t,e,n,r,i){return pf(t,e,n,s_,ga(t,0,r),ga(t,r+1,-1),r,i)}function k1(t,e,n){switch(gL(t,e)){case 5103:return Ye+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ye+t+t;case 4789:return Hl+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ye+t+Hl+t+st+t+t;case 5936:switch(zt(t,e+11)){case 114:return Ye+t+st+De(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ye+t+st+De(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ye+t+st+De(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Ye+t+st+t+t;case 6165:return Ye+t+st+"flex-"+t+t;case 5187:return Ye+t+De(t,/(\w+).+(:[^]+)/,Ye+"box-$1$2"+st+"flex-$1$2")+t;case 5443:return Ye+t+st+"flex-item-"+De(t,/flex-|-self/g,"")+(ei(t,/flex-|baseline/)?"":st+"grid-row-"+De(t,/flex-|-self/g,""))+t;case 4675:return Ye+t+st+"flex-line-pack"+De(t,/align-content|flex-|-self/g,"")+t;case 5548:return Ye+t+st+De(t,"shrink","negative")+t;case 5292:return Ye+t+st+De(t,"basis","preferred-size")+t;case 6060:return Ye+"box-"+De(t,"-grow","")+Ye+t+st+De(t,"grow","positive")+t;case 4554:return Ye+De(t,/([^-])(transform)/g,"$1"+Ye+"$2")+t;case 6187:return De(De(De(t,/(zoom-|grab)/,Ye+"$1"),/(image-set)/,Ye+"$1"),t,"")+t;case 5495:case 3959:return De(t,/(image-set\([^]*)/,Ye+"$1$`$1");case 4968:return De(De(t,/(.+:)(flex-)?(.*)/,Ye+"box-pack:$3"+st+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ye+t+t;case 4200:if(!ei(t,/flex-|baseline/))return st+"grid-column-align"+ga(t,e)+t;break;case 2592:case 3360:return st+De(t,"template-","")+t;case 4384:case 3616:return n&&n.some(function(r,i){return e=i,ei(r.props,/grid-\w+-end/)})?~Ad(t+(n=n[e].value),"span")?t:st+De(t,"-start","")+t+st+"grid-row-span:"+(~Ad(n,"span")?ei(n,/\d+/):+ei(n,/\d+/)-+ei(t,/\d+/))+";":st+De(t,"-start","")+t;case 4896:case 4128:return n&&n.some(function(r){return ei(r.props,/grid-\w+-start/)})?t:st+De(De(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return De(t,/(.+)-inline(.+)/,Ye+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(xr(t)-1-e>6)switch(zt(t,e+1)){case 109:if(zt(t,e+4)!==45)break;case 102:return De(t,/(.+:)(.+)-([^]+)/,"$1"+Ye+"$2-$3$1"+Hl+(zt(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~Ad(t,"stretch")?k1(De(t,"stretch","fill-available"),e,n)+t:t}break;case 5152:case 5920:return De(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(r,i,s,o,a,l,u){return st+i+":"+s+u+(o?st+i+"-span:"+(a?l:+l-+s)+u:"")+t});case 4949:if(zt(t,e+6)===121)return De(t,":",":"+Ye)+t;break;case 6444:switch(zt(t,zt(t,14)===45?18:11)){case 120:return De(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Ye+(zt(t,14)===45?"inline-":"")+"box$3$1"+Ye+"$2$3$1"+st+"$2box$3")+t;case 100:return De(t,":",":"+st)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return De(t,"scroll-","scroll-snap-")+t}return t}function dh(t,e){for(var n="",r=0;r<t.length;r++)n+=e(t[r],r,t,e)||"";return n}function kL(t,e,n,r){switch(t.type){case pL:if(t.children.length)break;case fL:case s_:return t.return=t.return||t.value;case T1:return"";case R1:return t.return=t.value+"{"+dh(t.children,r)+"}";case hf:if(!xr(t.value=t.props.join(",")))return""}return xr(n=dh(t.children,r))?t.return=t.value+"{"+n+"}":""}function PL(t){var e=A1(t);return function(n,r,i,s){for(var o="",a=0;a<e;a++)o+=t[a](n,r,i,s)||"";return o}}function bL(t){return function(e){e.root||(e=e.return)&&t(e)}}function NL(t,e,n,r){if(t.length>-1&&!t.return)switch(t.type){case s_:t.return=k1(t.value,t.length,n);return;case R1:return dh([ki(t,{value:De(t.value,"@","@"+Ye)})],r);case hf:if(t.length)return yL(n=t.props,function(i){switch(ei(i,r=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":Ro(ki(t,{props:[De(i,/:(read-\w+)/,":"+Hl+"$1")]})),Ro(ki(t,{props:[i]})),ny(t,{props:gE(n,r)});break;case"::placeholder":Ro(ki(t,{props:[De(i,/:(plac\w+)/,":"+Ye+"input-$1")]})),Ro(ki(t,{props:[De(i,/:(plac\w+)/,":"+Hl+"$1")]})),Ro(ki(t,{props:[De(i,/:(plac\w+)/,st+"input-$1")]})),Ro(ki(t,{props:[i]})),ny(t,{props:gE(n,r)});break}return""})}}var xL={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},$n={},va=typeof process<"u"&&$n!==void 0&&($n.REACT_APP_SC_ATTR||$n.SC_ATTR)||"data-styled",a_=typeof window<"u"&&"HTMLElement"in window,DL=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&$n!==void 0&&$n.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&$n.REACT_APP_SC_DISABLE_SPEEDY!==""?$n.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&$n.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&$n!==void 0&&$n.SC_DISABLE_SPEEDY!==void 0&&$n.SC_DISABLE_SPEEDY!==""&&$n.SC_DISABLE_SPEEDY!=="false"&&$n.SC_DISABLE_SPEEDY),LL={},gf=Object.freeze([]),_a=Object.freeze({});function P1(t,e,n){return n===void 0&&(n=_a),t.theme!==n.theme&&t.theme||e||n.theme}var b1=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),OL=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,VL=/(^-|-$)/g;function _E(t){return t.replace(OL,"-").replace(VL,"")}var ML=/(a)(d)/gi,wE=function(t){return String.fromCharCode(t+(t>25?39:97))};function sy(t){var e,n="";for(e=Math.abs(t);e>52;e=e/52|0)n=wE(e%52)+n;return(wE(e%52)+n).replace(ML,"$1-$2")}var cm,zo=function(t,e){for(var n=e.length;n;)t=33*t^e.charCodeAt(--n);return t},N1=function(t){return zo(5381,t)};function x1(t){return sy(N1(t)>>>0)}function $L(t){return t.displayName||t.name||"Component"}function dm(t){return typeof t=="string"&&!0}var D1=typeof Symbol=="function"&&Symbol.for,L1=D1?Symbol.for("react.memo"):60115,FL=D1?Symbol.for("react.forward_ref"):60112,UL={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},jL={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},O1={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},BL=((cm={})[FL]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},cm[L1]=O1,cm);function EE(t){return("type"in(e=t)&&e.type.$$typeof)===L1?O1:"$$typeof"in t?BL[t.$$typeof]:UL;var e}var zL=Object.defineProperty,WL=Object.getOwnPropertyNames,SE=Object.getOwnPropertySymbols,qL=Object.getOwnPropertyDescriptor,HL=Object.getPrototypeOf,TE=Object.prototype;function V1(t,e,n){if(typeof e!="string"){if(TE){var r=HL(e);r&&r!==TE&&V1(t,r,n)}var i=WL(e);SE&&(i=i.concat(SE(e)));for(var s=EE(t),o=EE(e),a=0;a<i.length;++a){var l=i[a];if(!(l in jL||n&&n[l]||o&&l in o||s&&l in s)){var u=qL(e,l);try{zL(t,l,u)}catch{}}}}return t}function Hs(t){return typeof t=="function"}function l_(t){return typeof t=="object"&&"styledComponentId"in t}function Cs(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function oy(t,e){if(t.length===0)return"";for(var n=t[0],r=1;r<t.length;r++)n+=t[r];return n}function Ru(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function ay(t,e,n){if(n===void 0&&(n=!1),!n&&!Ru(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var r=0;r<e.length;r++)t[r]=ay(t[r],e[r]);else if(Ru(e))for(var r in e)t[r]=ay(t[r],e[r]);return t}function u_(t,e){Object.defineProperty(t,"toString",{value:e})}function Gs(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var GL=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var n=0,r=0;r<e;r++)n+=this.groupSizes[r];return n},t.prototype.insertRules=function(e,n){if(e>=this.groupSizes.length){for(var r=this.groupSizes,i=r.length,s=i;e>=s;)if((s<<=1)<0)throw Gs(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(r),this.length=s;for(var o=i;o<s;o++)this.groupSizes[o]=0}for(var a=this.indexOfGroup(e+1),l=(o=0,n.length);o<l;o++)this.tag.insertRule(a,n[o])&&(this.groupSizes[e]++,a++)},t.prototype.clearGroup=function(e){if(e<this.length){var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n;this.groupSizes[e]=0;for(var s=r;s<i;s++)this.tag.deleteRule(r)}},t.prototype.getGroup=function(e){var n="";if(e>=this.length||this.groupSizes[e]===0)return n;for(var r=this.groupSizes[e],i=this.indexOfGroup(e),s=i+r,o=i;o<s;o++)n+="".concat(this.tag.getRule(o)).concat(`/*!sc*/
`);return n},t}(),Pd=new Map,hh=new Map,bd=1,Hc=function(t){if(Pd.has(t))return Pd.get(t);for(;hh.has(bd);)bd++;var e=bd++;return Pd.set(t,e),hh.set(e,t),e},KL=function(t,e){bd=e+1,Pd.set(t,e),hh.set(e,t)},QL="style[".concat(va,"][").concat("data-styled-version",'="').concat("6.1.1",'"]'),YL=new RegExp("^".concat(va,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),XL=function(t,e,n){for(var r,i=n.split(","),s=0,o=i.length;s<o;s++)(r=i[s])&&t.registerName(e,r)},JL=function(t,e){for(var n,r=((n=e.textContent)!==null&&n!==void 0?n:"").split(`/*!sc*/
`),i=[],s=0,o=r.length;s<o;s++){var a=r[s].trim();if(a){var l=a.match(YL);if(l){var u=0|parseInt(l[1],10),c=l[2];u!==0&&(KL(c,u),XL(t,c,l[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(a)}}};function ZL(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var M1=function(t){var e=document.head,n=t||e,r=document.createElement("style"),i=function(a){var l=Array.from(a.querySelectorAll("style[".concat(va,"]")));return l[l.length-1]}(n),s=i!==void 0?i.nextSibling:null;r.setAttribute(va,"active"),r.setAttribute("data-styled-version","6.1.1");var o=ZL();return o&&r.setAttribute("nonce",o),n.insertBefore(r,s),r},eO=function(){function t(e){this.element=M1(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(n){if(n.sheet)return n.sheet;for(var r=document.styleSheets,i=0,s=r.length;i<s;i++){var o=r[i];if(o.ownerNode===n)return o}throw Gs(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,n){try{return this.sheet.insertRule(n,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var n=this.sheet.cssRules[e];return n&&n.cssText?n.cssText:""},t}(),tO=function(){function t(e){this.element=M1(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,n){if(e<=this.length&&e>=0){var r=document.createTextNode(n);return this.element.insertBefore(r,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),nO=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,n){return e<=this.length&&(this.rules.splice(e,0,n),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),RE=a_,rO={isServer:!a_,useCSSOMInjection:!DL},fh=function(){function t(e,n,r){e===void 0&&(e=_a),n===void 0&&(n={});var i=this;this.options=Wt(Wt({},rO),e),this.gs=n,this.names=new Map(r),this.server=!!e.isServer,!this.server&&a_&&RE&&(RE=!1,function(s){for(var o=document.querySelectorAll(QL),a=0,l=o.length;a<l;a++){var u=o[a];u&&u.getAttribute(va)!=="active"&&(JL(s,u),u.parentNode&&u.parentNode.removeChild(u))}}(this)),u_(this,function(){return function(s){for(var o=s.getTag(),a=o.length,l="",u=function(d){var h=function(y){return hh.get(y)}(d);if(h===void 0)return"continue";var p=s.names.get(h),m=o.getGroup(d);if(p===void 0||m.length===0)return"continue";var _="".concat(va,".g").concat(d,'[id="').concat(h,'"]'),R="";p!==void 0&&p.forEach(function(y){y.length>0&&(R+="".concat(y,","))}),l+="".concat(m).concat(_,'{content:"').concat(R,'"}').concat(`/*!sc*/
`)},c=0;c<a;c++)u(c);return l}(i)})}return t.registerId=function(e){return Hc(e)},t.prototype.reconstructWithOptions=function(e,n){return n===void 0&&(n=!0),new t(Wt(Wt({},this.options),e),this.gs,n&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(n){var r=n.useCSSOMInjection,i=n.target;return n.isServer?new nO(i):r?new eO(i):new tO(i)}(this.options),new GL(e)));var e},t.prototype.hasNameForId=function(e,n){return this.names.has(e)&&this.names.get(e).has(n)},t.prototype.registerName=function(e,n){if(Hc(e),this.names.has(e))this.names.get(e).add(n);else{var r=new Set;r.add(n),this.names.set(e,r)}},t.prototype.insertRules=function(e,n,r){this.registerName(e,n),this.getTag().insertRules(Hc(e),r)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(Hc(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),iO=/&/g,sO=/^\s*\/\/.*$/gm;function $1(t,e){return t.map(function(n){return n.type==="rule"&&(n.value="".concat(e," ").concat(n.value),n.value=n.value.replaceAll(",",",".concat(e," ")),n.props=n.props.map(function(r){return"".concat(e," ").concat(r)})),Array.isArray(n.children)&&n.type!=="@keyframes"&&(n.children=$1(n.children,e)),n})}function oO(t){var e,n,r,i=_a,s=i.options,o=s===void 0?_a:s,a=i.plugins,l=a===void 0?gf:a,u=function(h,p,m){return m===n||m.startsWith(n)&&m.endsWith(n)&&m.replaceAll(n,"").length>0?".".concat(e):h},c=l.slice();c.push(function(h){h.type===hf&&h.value.includes("&")&&(h.props[0]=h.props[0].replace(iO,n).replace(r,u))}),o.prefix&&c.push(NL),c.push(kL);var d=function(h,p,m,_){p===void 0&&(p=""),m===void 0&&(m=""),_===void 0&&(_="&"),e=_,n=p,r=new RegExp("\\".concat(n,"\\b"),"g");var R=h.replace(sO,""),y=AL(m||p?"".concat(m," ").concat(p," { ").concat(R," }"):R);o.namespace&&(y=$1(y,o.namespace));var f=[];return dh(y,PL(c.concat(bL(function(v){return f.push(v)})))),f};return d.hash=l.length?l.reduce(function(h,p){return p.name||Gs(15),zo(h,p.name)},5381).toString():"",d}var aO=new fh,ly=oO(),F1=he.createContext({shouldForwardProp:void 0,styleSheet:aO,stylis:ly});F1.Consumer;he.createContext(void 0);function uy(){return F.useContext(F1)}var lO=function(){function t(e,n){var r=this;this.inject=function(i,s){s===void 0&&(s=ly);var o=r.name+s.hash;i.hasNameForId(r.id,o)||i.insertRules(r.id,o,s(r.rules,o,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=n,u_(this,function(){throw Gs(12,String(r.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=ly),this.name+e.hash},t}(),uO=function(t){return t>="A"&&t<="Z"};function IE(t){for(var e="",n=0;n<t.length;n++){var r=t[n];if(n===1&&r==="-"&&t[0]==="-")return t;uO(r)?e+="-"+r.toLowerCase():e+=r}return e.startsWith("ms-")?"-"+e:e}var U1=function(t){return t==null||t===!1||t===""},j1=function(t){var e,n,r=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!U1(s)&&(Array.isArray(s)&&s.isCss||Hs(s)?r.push("".concat(IE(i),":"),s,";"):Ru(s)?r.push.apply(r,Tu(Tu(["".concat(i," {")],j1(s),!1),["}"],!1)):r.push("".concat(IE(i),": ").concat((e=i,(n=s)==null||typeof n=="boolean"||n===""?"":typeof n!="number"||n===0||e in xL||e.startsWith("--")?String(n).trim():"".concat(n,"px")),";")))}return r};function Ji(t,e,n,r){if(U1(t))return[];if(l_(t))return[".".concat(t.styledComponentId)];if(Hs(t)){if(!Hs(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Ji(i,e,n,r)}var s;return t instanceof lO?n?(t.inject(n,r),[t.getName(r)]):[t]:Ru(t)?j1(t):Array.isArray(t)?Array.prototype.concat.apply(gf,t.map(function(o){return Ji(o,e,n,r)})):[t.toString()]}function B1(t){for(var e=0;e<t.length;e+=1){var n=t[e];if(Hs(n)&&!l_(n))return!1}return!0}var cO=N1("6.1.1"),dO=function(){function t(e,n,r){this.rules=e,this.staticRulesId="",this.isStatic=(r===void 0||r.isStatic)&&B1(e),this.componentId=n,this.baseHash=zo(cO,n),this.baseStyle=r,fh.registerId(n)}return t.prototype.generateAndInjectStyles=function(e,n,r){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,n,r):"";if(this.isStatic&&!r.hash)if(this.staticRulesId&&n.hasNameForId(this.componentId,this.staticRulesId))i=Cs(i,this.staticRulesId);else{var s=oy(Ji(this.rules,e,n,r)),o=sy(zo(this.baseHash,s)>>>0);if(!n.hasNameForId(this.componentId,o)){var a=r(s,".".concat(o),void 0,this.componentId);n.insertRules(this.componentId,o,a)}i=Cs(i,o),this.staticRulesId=o}else{for(var l=zo(this.baseHash,r.hash),u="",c=0;c<this.rules.length;c++){var d=this.rules[c];if(typeof d=="string")u+=d;else if(d){var h=oy(Ji(d,e,n,r));l=zo(l,h+c),u+=h}}if(u){var p=sy(l>>>0);n.hasNameForId(this.componentId,p)||n.insertRules(this.componentId,p,r(u,".".concat(p),void 0,this.componentId)),i=Cs(i,p)}}return i},t}(),Iu=he.createContext(void 0);Iu.Consumer;function hO(t){var e=he.useContext(Iu),n=F.useMemo(function(){return function(r,i){if(!r)throw Gs(14);if(Hs(r)){var s=r(i);return s}if(Array.isArray(r)||typeof r!="object")throw Gs(8);return i?Wt(Wt({},i),r):r}(t.theme,e)},[t.theme,e]);return t.children?he.createElement(Iu.Provider,{value:n},t.children):null}var hm={};function fO(t,e,n){var r=l_(t),i=t,s=!dm(t),o=e.attrs,a=o===void 0?gf:o,l=e.componentId,u=l===void 0?function(g,E){var T=typeof g!="string"?"sc":_E(g);hm[T]=(hm[T]||0)+1;var I="".concat(T,"-").concat(x1("6.1.1"+T+hm[T]));return E?"".concat(E,"-").concat(I):I}(e.displayName,e.parentComponentId):l,c=e.displayName,d=c===void 0?function(g){return dm(g)?"styled.".concat(g):"Styled(".concat($L(g),")")}(t):c,h=e.displayName&&e.componentId?"".concat(_E(e.displayName),"-").concat(e.componentId):e.componentId||u,p=r&&i.attrs?i.attrs.concat(a).filter(Boolean):a,m=e.shouldForwardProp;if(r&&i.shouldForwardProp){var _=i.shouldForwardProp;if(e.shouldForwardProp){var R=e.shouldForwardProp;m=function(g,E){return _(g,E)&&R(g,E)}}else m=_}var y=new dO(n,h,r?i.componentStyle:void 0);function f(g,E){return function(T,I,O){var U=T.attrs,M=T.componentStyle,me=T.defaultProps,re=T.foldedComponentIds,J=T.styledComponentId,ge=T.target,Re=he.useContext(Iu),Be=uy(),Ue=T.shouldForwardProp||Be.shouldForwardProp,W=function(z,ye,X){for(var Se,Te=Wt(Wt({},ye),{className:void 0,theme:X}),ie=0;ie<z.length;ie+=1){var Oe=Hs(Se=z[ie])?Se(Te):Se;for(var ze in Oe)Te[ze]=ze==="className"?Cs(Te[ze],Oe[ze]):ze==="style"?Wt(Wt({},Te[ze]),Oe[ze]):Oe[ze]}return ye.className&&(Te.className=Cs(Te.className,ye.className)),Te}(U,I,P1(I,Re,me)||_a),oe=W.as||ge,G={};for(var ae in W)W[ae]===void 0||ae[0]==="$"||ae==="as"||ae==="theme"||(ae==="forwardedAs"?G.as=W.forwardedAs:Ue&&!Ue(ae,oe)||(G[ae]=W[ae]));var k=function(z,ye){var X=uy(),Se=z.generateAndInjectStyles(ye,X.styleSheet,X.stylis);return Se}(M,W),B=Cs(re,J);return k&&(B+=" "+k),W.className&&(B+=" "+W.className),G[dm(oe)&&!b1.has(oe)?"class":"className"]=B,G.ref=O,F.createElement(oe,G)}(v,g,E)}f.displayName=d;var v=he.forwardRef(f);return v.attrs=p,v.componentStyle=y,v.displayName=d,v.shouldForwardProp=m,v.foldedComponentIds=r?Cs(i.foldedComponentIds,i.styledComponentId):"",v.styledComponentId=h,v.target=r?i.target:t,Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(g){this._foldedDefaultProps=r?function(E){for(var T=[],I=1;I<arguments.length;I++)T[I-1]=arguments[I];for(var O=0,U=T;O<U.length;O++)ay(E,U[O],!0);return E}({},i.defaultProps,g):g}}),u_(v,function(){return".".concat(v.styledComponentId)}),s&&V1(v,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),v}function AE(t,e){for(var n=[t[0]],r=0,i=e.length;r<i;r+=1)n.push(e[r],t[r+1]);return n}var CE=function(t){return Object.assign(t,{isCss:!0})};function z1(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Hs(t)||Ru(t)){var r=t;return CE(Ji(AE(gf,Tu([r],e,!0))))}var i=t;return e.length===0&&i.length===1&&typeof i[0]=="string"?Ji(i):CE(Ji(AE(i,e)))}function cy(t,e,n){if(n===void 0&&(n=_a),!e)throw Gs(1,e);var r=function(i){for(var s=[],o=1;o<arguments.length;o++)s[o-1]=arguments[o];return t(e,n,z1.apply(void 0,Tu([i],s,!1)))};return r.attrs=function(i){return cy(t,e,Wt(Wt({},n),{attrs:Array.prototype.concat(n.attrs,i).filter(Boolean)}))},r.withConfig=function(i){return cy(t,e,Wt(Wt({},n),i))},r}var W1=function(t){return cy(fO,t)},ve=W1;b1.forEach(function(t){ve[t]=W1(t)});var pO=function(){function t(e,n){this.rules=e,this.componentId=n,this.isStatic=B1(e),fh.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,n,r,i){var s=i(oy(Ji(this.rules,n,r,i)),""),o=this.componentId+e;r.insertRules(o,o,s)},t.prototype.removeStyles=function(e,n){n.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,n,r,i){e>2&&fh.registerId(this.componentId+e),this.removeStyles(e,r),this.createStyles(e,n,r,i)},t}();function mO(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var r=z1.apply(void 0,Tu([t],e,!1)),i="sc-global-".concat(x1(JSON.stringify(r))),s=new pO(r,i),o=function(l){var u=uy(),c=he.useContext(Iu),d=he.useRef(u.styleSheet.allocateGSInstance(i)).current;return u.styleSheet.server&&a(d,l,u.styleSheet,c,u.stylis),he.useLayoutEffect(function(){if(!u.styleSheet.server)return a(d,l,u.styleSheet,c,u.stylis),function(){return s.removeStyles(d,u.styleSheet)}},[d,l,u.styleSheet,c,u.stylis]),null};function a(l,u,c,d,h){if(s.isStatic)s.renderStyles(l,LL,c,h);else{var p=Wt(Wt({},u),{theme:P1(u,d,o.defaultProps)});s.renderStyles(l,p,c,h)}}return he.memo(o)}/**
 * @remix-run/router v1.13.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function St(){return St=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},St.apply(this,arguments)}var bt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(bt||(bt={}));const kE="popstate";function gO(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:o,hash:a}=r.location;return Au("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:Qs(i)}return vO(e,n,null,t)}function Me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ks(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function yO(){return Math.random().toString(36).substr(2,8)}function PE(t,e){return{usr:t.state,key:t.key,idx:e}}function Au(t,e,n,r){return n===void 0&&(n=null),St({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cs(e):e,{state:n,key:e&&e.key||r||yO()})}function Qs(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function cs(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function vO(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=bt.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(St({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=bt.Pop;let R=c(),y=R==null?null:R-u;u=R,l&&l({action:a,location:_.location,delta:y})}function h(R,y){a=bt.Push;let f=Au(_.location,R,y);u=c()+1;let v=PE(f,u),g=_.createHref(f);try{o.pushState(v,"",g)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;i.location.assign(g)}s&&l&&l({action:a,location:_.location,delta:1})}function p(R,y){a=bt.Replace;let f=Au(_.location,R,y);u=c();let v=PE(f,u),g=_.createHref(f);o.replaceState(v,"",g),s&&l&&l({action:a,location:_.location,delta:0})}function m(R){let y=i.location.origin!=="null"?i.location.origin:i.location.href,f=typeof R=="string"?R:Qs(R);return Me(y,"No window.location.(origin|href) available to create URL for href: "+f),new URL(f,y)}let _={get action(){return a},get location(){return t(i,o)},listen(R){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kE,d),l=R,()=>{i.removeEventListener(kE,d),l=null}},createHref(R){return e(i,R)},createURL:m,encodeLocation(R){let y=m(R);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:p,go(R){return o.go(R)}};return _}var At;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(At||(At={}));const _O=new Set(["lazy","caseSensitive","path","id","index","children"]);function wO(t){return t.index===!0}function dy(t,e,n,r){return n===void 0&&(n=[]),r===void 0&&(r={}),t.map((i,s)=>{let o=[...n,s],a=typeof i.id=="string"?i.id:o.join("-");if(Me(i.index!==!0||!i.children,"Cannot specify children on an index route"),Me(!r[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),wO(i)){let l=St({},i,e(i),{id:a});return r[a]=l,l}else{let l=St({},i,e(i),{id:a,children:void 0});return r[a]=l,i.children&&(l.children=dy(i.children,e,o,r)),l}})}function Wo(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?cs(e):e,i=Ua(r.pathname||"/",n);if(i==null)return null;let s=q1(t);SO(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=NO(s[a],LO(i));return o}function EO(t,e){let{route:n,pathname:r,params:i}=t;return{id:n.id,pathname:r,params:i,data:e[n.id],handle:n.handle}}function q1(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(Me(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let u=ui([r,l.relativePath]),c=n.concat(l);s.children&&s.children.length>0&&(Me(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),q1(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:PO(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of H1(s.path))i(s,o,l)}),e}function H1(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let o=H1(r.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function SO(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:bO(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const TO=/^:\w+$/,RO=3,IO=2,AO=1,CO=10,kO=-2,bE=t=>t==="*";function PO(t,e){let n=t.split("/"),r=n.length;return n.some(bE)&&(r+=kO),e&&(r+=IO),n.filter(i=>!bE(i)).reduce((i,s)=>i+(TO.test(s)?RO:s===""?AO:CO),r)}function bO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function NO(t,e){let{routesMeta:n}=t,r={},i="/",s=[];for(let o=0;o<n.length;++o){let a=n[o],l=o===n.length-1,u=i==="/"?e:e.slice(i.length)||"/",c=xO({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},u);if(!c)return null;Object.assign(r,c.params);let d=a.route;s.push({params:r,pathname:ui([i,c.pathname]),pathnameBase:$O(ui([i,c.pathnameBase])),route:d}),c.pathnameBase!=="/"&&(i=ui([i,c.pathnameBase]))}return s}function xO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=DO(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce((u,c,d)=>{let{paramName:h,isOptional:p}=c;if(h==="*"){let _=a[d]||"";o=s.slice(0,s.length-_.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?u[h]=void 0:u[h]=OO(m||"",h),u},{}),pathname:s,pathnameBase:o,pattern:t}}function DO(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Ks(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:(\w+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function LO(t){try{return decodeURI(t)}catch(e){return Ks(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function OO(t,e){try{return decodeURIComponent(t)}catch(n){return Ks(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function Ua(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function VO(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?cs(t):t;return{pathname:n?n.startsWith("/")?n:MO(n,e):e,search:FO(r),hash:UO(i)}}function MO(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function fm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function ec(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function yf(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=cs(t):(i=St({},t),Me(!i.pathname||!i.pathname.includes("?"),fm("?","pathname","search",i)),Me(!i.pathname||!i.pathname.includes("#"),fm("#","pathname","hash",i)),Me(!i.search||!i.search.includes("#"),fm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=n;else if(r){let d=e[e.length-1].replace(/^\//,"").split("/");if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d.pop();i.pathname=h.join("/")}a="/"+d.join("/")}else{let d=e.length-1;if(o.startsWith("..")){let h=o.split("/");for(;h[0]==="..";)h.shift(),d-=1;i.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=VO(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const ui=t=>t.join("/").replace(/\/\/+/g,"/"),$O=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),FO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,UO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class c_{constructor(e,n,r,i){i===void 0&&(i=!1),this.status=e,this.statusText=n||"",this.internal=i,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}}function G1(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const K1=["post","put","patch","delete"],jO=new Set(K1),BO=["get",...K1],zO=new Set(BO),WO=new Set([301,302,303,307,308]),qO=new Set([307,308]),pm={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},HO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},cl={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Q1=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,GO=t=>({hasErrorBoundary:!!t.hasErrorBoundary}),Y1="remix-router-transitions";function KO(t){const e=t.window?t.window:typeof window<"u"?window:void 0,n=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",r=!n;Me(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let w=t.detectErrorBoundary;i=A=>({hasErrorBoundary:w(A)})}else i=GO;let s={},o=dy(t.routes,i,void 0,s),a,l=t.basename||"/",u=St({v7_fetcherPersist:!1,v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),c=null,d=new Set,h=null,p=null,m=null,_=t.hydrationData!=null,R=Wo(o,t.history.location,l),y=null;if(R==null){let w=Jn(404,{pathname:t.history.location.pathname}),{matches:A,route:N}=$E(o);R=A,y={[N.id]:w}}let f=!R.some(w=>w.route.lazy)&&(!R.some(w=>w.route.loader)||t.hydrationData!=null),v,g={historyAction:t.history.action,location:t.history.location,matches:R,initialized:f,navigation:pm,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||y,fetchers:new Map,blockers:new Map},E=bt.Pop,T=!1,I,O=!1,U=new Map,M=null,me=!1,re=!1,J=[],ge=[],Re=new Map,Be=0,Ue=-1,W=new Map,oe=new Set,G=new Map,ae=new Map,k=new Set,B=new Map,z=new Map,ye=!1;function X(){if(c=t.history.listen(w=>{let{action:A,location:N,delta:V}=w;if(ye){ye=!1;return}Ks(z.size===0||V!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let K=wo({currentLocation:g.location,nextLocation:N,historyAction:A});if(K&&V!=null){ye=!0,t.history.go(V*-1),kr(K,{state:"blocked",location:N,proceed(){kr(K,{state:"proceeding",proceed:void 0,reset:void 0,location:N}),t.history.go(V)},reset(){let Ee=new Map(g.blockers);Ee.set(K,cl),ie({blockers:Ee})}});return}return We(A,N)}),n){sV(e,U);let w=()=>oV(e,U);e.addEventListener("pagehide",w),M=()=>e.removeEventListener("pagehide",w)}return g.initialized||We(bt.Pop,g.location),v}function Se(){c&&c(),M&&M(),d.clear(),I&&I.abort(),g.fetchers.forEach((w,A)=>q(A)),g.blockers.forEach((w,A)=>Xr(A))}function Te(w){return d.add(w),()=>d.delete(w)}function ie(w,A){A===void 0&&(A={}),g=St({},g,w);let N=[],V=[];u.v7_fetcherPersist&&g.fetchers.forEach((K,Ee)=>{K.state==="idle"&&(k.has(Ee)?V.push(Ee):N.push(Ee))}),[...d].forEach(K=>K(g,{deletedFetchers:V,unstable_viewTransitionOpts:A.viewTransitionOpts,unstable_flushSync:A.flushSync===!0})),u.v7_fetcherPersist&&(N.forEach(K=>g.fetchers.delete(K)),V.forEach(K=>q(K)))}function Oe(w,A,N){var V,K;let{flushSync:Ee}=N===void 0?{}:N,fe=g.actionData!=null&&g.navigation.formMethod!=null&&gr(g.navigation.formMethod)&&g.navigation.state==="loading"&&((V=w.state)==null?void 0:V._isRedirect)!==!0,pe;A.actionData?Object.keys(A.actionData).length>0?pe=A.actionData:pe=null:fe?pe=g.actionData:pe=null;let le=A.loaderData?ME(g.loaderData,A.loaderData,A.matches||[],A.errors):g.loaderData,xe=g.blockers;xe.size>0&&(xe=new Map(xe),xe.forEach((Ke,mt)=>xe.set(mt,cl)));let wt=T===!0||g.navigation.formMethod!=null&&gr(g.navigation.formMethod)&&((K=w.state)==null?void 0:K._isRedirect)!==!0;a&&(o=a,a=void 0),me||E===bt.Pop||(E===bt.Push?t.history.push(w,w.state):E===bt.Replace&&t.history.replace(w,w.state));let Pe;if(E===bt.Pop){let Ke=U.get(g.location.pathname);Ke&&Ke.has(w.pathname)?Pe={currentLocation:g.location,nextLocation:w}:U.has(w.pathname)&&(Pe={currentLocation:w,nextLocation:g.location})}else if(O){let Ke=U.get(g.location.pathname);Ke?Ke.add(w.pathname):(Ke=new Set([w.pathname]),U.set(g.location.pathname,Ke)),Pe={currentLocation:g.location,nextLocation:w}}ie(St({},A,{actionData:pe,loaderData:le,historyAction:E,location:w,initialized:!0,navigation:pm,revalidation:"idle",restoreScrollPosition:Z(w,A.matches||g.matches),preventScrollReset:wt,blockers:xe}),{viewTransitionOpts:Pe,flushSync:Ee===!0}),E=bt.Pop,T=!1,O=!1,me=!1,re=!1,J=[],ge=[]}async function ze(w,A){if(typeof w=="number"){t.history.go(w);return}let N=hy(g.location,g.matches,l,u.v7_prependBasename,w,A==null?void 0:A.fromRouteId,A==null?void 0:A.relative),{path:V,submission:K,error:Ee}=NE(u.v7_normalizeFormMethod,!1,N,A),fe=g.location,pe=Au(g.location,V,A&&A.state);pe=St({},pe,t.history.encodeLocation(pe));let le=A&&A.replace!=null?A.replace:void 0,xe=bt.Push;le===!0?xe=bt.Replace:le===!1||K!=null&&gr(K.formMethod)&&K.formAction===g.location.pathname+g.location.search&&(xe=bt.Replace);let wt=A&&"preventScrollReset"in A?A.preventScrollReset===!0:void 0,Pe=(A&&A.unstable_flushSync)===!0,Ke=wo({currentLocation:fe,nextLocation:pe,historyAction:xe});if(Ke){kr(Ke,{state:"blocked",location:pe,proceed(){kr(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:pe}),ze(w,A)},reset(){let mt=new Map(g.blockers);mt.set(Ke,cl),ie({blockers:mt})}});return}return await We(xe,pe,{submission:K,pendingError:Ee,preventScrollReset:wt,replace:A&&A.replace,enableViewTransition:A&&A.unstable_viewTransition,flushSync:Pe})}function Ge(){if(x(),ie({revalidation:"loading"}),g.navigation.state!=="submitting"){if(g.navigation.state==="idle"){We(g.historyAction,g.location,{startUninterruptedRevalidation:!0});return}We(E||g.historyAction,g.navigation.location,{overrideNavigation:g.navigation})}}async function We(w,A,N){I&&I.abort(),I=null,E=w,me=(N&&N.startUninterruptedRevalidation)===!0,ee(g.location,g.matches),T=(N&&N.preventScrollReset)===!0,O=(N&&N.enableViewTransition)===!0;let V=a||o,K=N&&N.overrideNavigation,Ee=Wo(V,A,l),fe=(N&&N.flushSync)===!0;if(!Ee){let mt=Jn(404,{pathname:A.pathname}),{matches:yn,route:Pr}=$E(V);b(),Oe(A,{matches:yn,loaderData:{},errors:{[Pr.id]:mt}},{flushSync:fe});return}if(g.initialized&&!re&&ZO(g.location,A)&&!(N&&N.submission&&gr(N.submission.formMethod))){Oe(A,{matches:Ee},{flushSync:fe});return}I=new AbortController;let pe=hl(t.history,A,I.signal,N&&N.submission),le,xe;if(N&&N.pendingError)xe={[Gl(Ee).route.id]:N.pendingError};else if(N&&N.submission&&gr(N.submission.formMethod)){let mt=await mn(pe,A,N.submission,Ee,{replace:N.replace,flushSync:fe});if(mt.shortCircuited)return;le=mt.pendingActionData,xe=mt.pendingActionError,K=mm(A,N.submission),fe=!1,pe=new Request(pe.url,{signal:pe.signal})}let{shortCircuited:wt,loaderData:Pe,errors:Ke}=await Yn(pe,A,Ee,K,N&&N.submission,N&&N.fetcherSubmission,N&&N.replace,fe,le,xe);wt||(I=null,Oe(A,St({matches:Ee},le?{actionData:le}:{},{loaderData:Pe,errors:Ke})))}async function mn(w,A,N,V,K){K===void 0&&(K={}),x();let Ee=rV(A,N);ie({navigation:Ee},{flushSync:K.flushSync===!0});let fe,pe=py(V,A);if(!pe.route.action&&!pe.route.lazy)fe={type:At.error,error:Jn(405,{method:w.method,pathname:A.pathname,routeId:pe.route.id})};else if(fe=await dl("action",w,pe,V,s,i,l),w.signal.aborted)return{shortCircuited:!0};if(ea(fe)){let le;return K&&K.replace!=null?le=K.replace:le=fe.location===g.location.pathname+g.location.search,await Ti(g,fe,{submission:N,replace:le}),{shortCircuited:!0}}if(Kl(fe)){let le=Gl(V,pe.route.id);return(K&&K.replace)!==!0&&(E=bt.Push),{pendingActionData:{},pendingActionError:{[le.route.id]:fe.error}}}if(ks(fe))throw Jn(400,{type:"defer-action"});return{pendingActionData:{[pe.route.id]:fe.data}}}async function Yn(w,A,N,V,K,Ee,fe,pe,le,xe){let wt=V||mm(A,K),Pe=K||Ee||jE(wt),Ke=a||o,[mt,yn]=xE(t.history,g,N,Pe,A,re,J,ge,k,G,oe,Ke,l,le,xe);if(b(et=>!(N&&N.some(Xn=>Xn.route.id===et))||mt&&mt.some(Xn=>Xn.route.id===et)),Ue=++Be,mt.length===0&&yn.length===0){let et=gn();return Oe(A,St({matches:N,loaderData:{},errors:xe||null},le?{actionData:le}:{},et?{fetchers:new Map(g.fetchers)}:{}),{flushSync:pe}),{shortCircuited:!0}}if(!me){yn.forEach(Xn=>{let kt=g.fetchers.get(Xn.key),vs=fl(void 0,kt?kt.data:void 0);g.fetchers.set(Xn.key,vs)});let et=le||g.actionData;ie(St({navigation:wt},et?Object.keys(et).length===0?{actionData:null}:{actionData:et}:{},yn.length>0?{fetchers:new Map(g.fetchers)}:{}),{flushSync:pe})}yn.forEach(et=>{Re.has(et.key)&&Ve(et.key),et.controller&&Re.set(et.key,et.controller)});let Pr=()=>yn.forEach(et=>Ve(et.key));I&&I.signal.addEventListener("abort",Pr);let{results:tl,loaderResults:Dp,fetcherResults:Eo}=await S(g.matches,N,mt,yn,w);if(w.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Pr),yn.forEach(et=>Re.delete(et.key));let dr=FE(tl);if(dr){if(dr.idx>=mt.length){let et=yn[dr.idx-mt.length].key;oe.add(et)}return await Ti(g,dr.result,{replace:fe}),{shortCircuited:!0}}let{loaderData:kc,errors:Lp}=VE(g,N,mt,Dp,xe,yn,Eo,B);B.forEach((et,Xn)=>{et.subscribe(kt=>{(kt||et.done)&&B.delete(Xn)})});let Op=gn(),Vp=cr(Ue),So=Op||Vp||yn.length>0;return St({loaderData:kc,errors:Lp},So?{fetchers:new Map(g.fetchers)}:{})}function Kt(w,A,N,V){if(r)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");Re.has(w)&&Ve(w);let K=(V&&V.unstable_flushSync)===!0,Ee=a||o,fe=hy(g.location,g.matches,l,u.v7_prependBasename,N,A,V==null?void 0:V.relative),pe=Wo(Ee,fe,l);if(!pe){se(w,A,Jn(404,{pathname:fe}),{flushSync:K});return}let{path:le,submission:xe,error:wt}=NE(u.v7_normalizeFormMethod,!0,fe,V);if(wt){se(w,A,wt,{flushSync:K});return}let Pe=py(pe,le);if(T=(V&&V.preventScrollReset)===!0,xe&&gr(xe.formMethod)){rn(w,A,le,Pe,pe,K,xe);return}G.set(w,{routeId:A,path:le}),Za(w,A,le,Pe,pe,K,xe)}async function rn(w,A,N,V,K,Ee,fe){if(x(),G.delete(w),!V.route.action&&!V.route.lazy){let kt=Jn(405,{method:fe.formMethod,pathname:N,routeId:A});se(w,A,kt,{flushSync:Ee});return}let pe=g.fetchers.get(w);D(w,iV(fe,pe),{flushSync:Ee});let le=new AbortController,xe=hl(t.history,N,le.signal,fe);Re.set(w,le);let wt=Be,Pe=await dl("action",xe,V,K,s,i,l);if(xe.signal.aborted){Re.get(w)===le&&Re.delete(w);return}if(k.has(w)){D(w,Pi(void 0));return}if(ea(Pe))if(Re.delete(w),Ue>wt){D(w,Pi(void 0));return}else return oe.add(w),D(w,fl(fe)),Ti(g,Pe,{fetcherSubmission:fe});if(Kl(Pe)){se(w,A,Pe.error);return}if(ks(Pe))throw Jn(400,{type:"defer-action"});let Ke=g.navigation.location||g.location,mt=hl(t.history,Ke,le.signal),yn=a||o,Pr=g.navigation.state!=="idle"?Wo(yn,g.navigation.location,l):g.matches;Me(Pr,"Didn't find any matches after fetcher action");let tl=++Be;W.set(w,tl);let Dp=fl(fe,Pe.data);g.fetchers.set(w,Dp);let[Eo,dr]=xE(t.history,g,Pr,fe,Ke,re,J,ge,k,G,oe,yn,l,{[V.route.id]:Pe.data},void 0);dr.filter(kt=>kt.key!==w).forEach(kt=>{let vs=kt.key,o0=g.fetchers.get(vs),FN=fl(void 0,o0?o0.data:void 0);g.fetchers.set(vs,FN),Re.has(vs)&&Ve(vs),kt.controller&&Re.set(vs,kt.controller)}),ie({fetchers:new Map(g.fetchers)});let kc=()=>dr.forEach(kt=>Ve(kt.key));le.signal.addEventListener("abort",kc);let{results:Lp,loaderResults:Op,fetcherResults:Vp}=await S(g.matches,Pr,Eo,dr,mt);if(le.signal.aborted)return;le.signal.removeEventListener("abort",kc),W.delete(w),Re.delete(w),dr.forEach(kt=>Re.delete(kt.key));let So=FE(Lp);if(So){if(So.idx>=Eo.length){let kt=dr[So.idx-Eo.length].key;oe.add(kt)}return Ti(g,So.result)}let{loaderData:et,errors:Xn}=VE(g,g.matches,Eo,Op,void 0,dr,Vp,B);if(g.fetchers.has(w)){let kt=Pi(Pe.data);g.fetchers.set(w,kt)}cr(tl),g.navigation.state==="loading"&&tl>Ue?(Me(E,"Expected pending action"),I&&I.abort(),Oe(g.navigation.location,{matches:Pr,loaderData:et,errors:Xn,fetchers:new Map(g.fetchers)})):(ie({errors:Xn,loaderData:ME(g.loaderData,et,Pr,Xn),fetchers:new Map(g.fetchers)}),re=!1)}async function Za(w,A,N,V,K,Ee,fe){let pe=g.fetchers.get(w);D(w,fl(fe,pe?pe.data:void 0),{flushSync:Ee});let le=new AbortController,xe=hl(t.history,N,le.signal);Re.set(w,le);let wt=Be,Pe=await dl("loader",xe,V,K,s,i,l);if(ks(Pe)&&(Pe=await Z1(Pe,xe.signal,!0)||Pe),Re.get(w)===le&&Re.delete(w),!xe.signal.aborted){if(k.has(w)){D(w,Pi(void 0));return}if(ea(Pe))if(Ue>wt){D(w,Pi(void 0));return}else{oe.add(w),await Ti(g,Pe);return}if(Kl(Pe)){se(w,A,Pe.error);return}Me(!ks(Pe),"Unhandled fetcher deferred data"),D(w,Pi(Pe.data))}}async function Ti(w,A,N){let{submission:V,fetcherSubmission:K,replace:Ee}=N===void 0?{}:N;A.revalidate&&(re=!0);let fe=Au(w.location,A.location,{_isRedirect:!0});if(Me(fe,"Expected a location on the redirect navigation"),n){let Ke=!1;if(A.reloadDocument)Ke=!0;else if(Q1.test(A.location)){const mt=t.history.createURL(A.location);Ke=mt.origin!==e.location.origin||Ua(mt.pathname,l)==null}if(Ke){Ee?e.location.replace(A.location):e.location.assign(A.location);return}}I=null;let pe=Ee===!0?bt.Replace:bt.Push,{formMethod:le,formAction:xe,formEncType:wt}=w.navigation;!V&&!K&&le&&xe&&wt&&(V=jE(w.navigation));let Pe=V||K;if(qO.has(A.status)&&Pe&&gr(Pe.formMethod))await We(pe,fe,{submission:St({},Pe,{formAction:A.location}),preventScrollReset:T});else{let Ke=mm(fe,V);await We(pe,fe,{overrideNavigation:Ke,fetcherSubmission:K,preventScrollReset:T})}}async function S(w,A,N,V,K){let Ee=await Promise.all([...N.map(le=>dl("loader",K,le,A,s,i,l)),...V.map(le=>le.matches&&le.match&&le.controller?dl("loader",hl(t.history,le.path,le.controller.signal),le.match,le.matches,s,i,l):{type:At.error,error:Jn(404,{pathname:le.path})})]),fe=Ee.slice(0,N.length),pe=Ee.slice(N.length);return await Promise.all([UE(w,N,fe,fe.map(()=>K.signal),!1,g.loaderData),UE(w,V.map(le=>le.match),pe,V.map(le=>le.controller?le.controller.signal:null),!0)]),{results:Ee,loaderResults:fe,fetcherResults:pe}}function x(){re=!0,J.push(...b()),G.forEach((w,A)=>{Re.has(A)&&(ge.push(A),Ve(A))})}function D(w,A,N){N===void 0&&(N={}),g.fetchers.set(w,A),ie({fetchers:new Map(g.fetchers)},{flushSync:(N&&N.flushSync)===!0})}function se(w,A,N,V){V===void 0&&(V={});let K=Gl(g.matches,A);q(w),ie({errors:{[K.route.id]:N},fetchers:new Map(g.fetchers)},{flushSync:(V&&V.flushSync)===!0})}function Q(w){return u.v7_fetcherPersist&&(ae.set(w,(ae.get(w)||0)+1),k.has(w)&&k.delete(w)),g.fetchers.get(w)||HO}function q(w){let A=g.fetchers.get(w);Re.has(w)&&!(A&&A.state==="loading"&&W.has(w))&&Ve(w),G.delete(w),W.delete(w),oe.delete(w),k.delete(w),g.fetchers.delete(w)}function we(w){if(u.v7_fetcherPersist){let A=(ae.get(w)||0)-1;A<=0?(ae.delete(w),k.add(w)):ae.set(w,A)}else q(w);ie({fetchers:new Map(g.fetchers)})}function Ve(w){let A=Re.get(w);Me(A,"Expected fetch controller: "+w),A.abort(),Re.delete(w)}function pt(w){for(let A of w){let N=Q(A),V=Pi(N.data);g.fetchers.set(A,V)}}function gn(){let w=[],A=!1;for(let N of oe){let V=g.fetchers.get(N);Me(V,"Expected fetcher: "+N),V.state==="loading"&&(oe.delete(N),w.push(N),A=!0)}return pt(w),A}function cr(w){let A=[];for(let[N,V]of W)if(V<w){let K=g.fetchers.get(N);Me(K,"Expected fetcher: "+N),K.state==="loading"&&(Ve(N),W.delete(N),A.push(N))}return pt(A),A.length>0}function el(w,A){let N=g.blockers.get(w)||cl;return z.get(w)!==A&&z.set(w,A),N}function Xr(w){g.blockers.delete(w),z.delete(w)}function kr(w,A){let N=g.blockers.get(w)||cl;Me(N.state==="unblocked"&&A.state==="blocked"||N.state==="blocked"&&A.state==="blocked"||N.state==="blocked"&&A.state==="proceeding"||N.state==="blocked"&&A.state==="unblocked"||N.state==="proceeding"&&A.state==="unblocked","Invalid blocker state transition: "+N.state+" -> "+A.state);let V=new Map(g.blockers);V.set(w,A),ie({blockers:V})}function wo(w){let{currentLocation:A,nextLocation:N,historyAction:V}=w;if(z.size===0)return;z.size>1&&Ks(!1,"A router only supports one blocker at a time");let K=Array.from(z.entries()),[Ee,fe]=K[K.length-1],pe=g.blockers.get(Ee);if(!(pe&&pe.state==="proceeding")&&fe({currentLocation:A,nextLocation:N,historyAction:V}))return Ee}function b(w){let A=[];return B.forEach((N,V)=>{(!w||w(V))&&(N.cancel(),A.push(V),B.delete(V))}),A}function C(w,A,N){if(h=w,m=A,p=N||null,!_&&g.navigation===pm){_=!0;let V=Z(g.location,g.matches);V!=null&&ie({restoreScrollPosition:V})}return()=>{h=null,m=null,p=null}}function j(w,A){return p&&p(w,A.map(V=>EO(V,g.loaderData)))||w.key}function ee(w,A){if(h&&m){let N=j(w,A);h[N]=m()}}function Z(w,A){if(h){let N=j(w,A),V=h[N];if(typeof V=="number")return V}return null}function ue(w){s={},a=dy(w,i,void 0,s)}return v={get basename(){return l},get state(){return g},get routes(){return o},get window(){return e},initialize:X,subscribe:Te,enableScrollRestoration:C,navigate:ze,fetch:Kt,revalidate:Ge,createHref:w=>t.history.createHref(w),encodeLocation:w=>t.history.encodeLocation(w),getFetcher:Q,deleteFetcher:we,dispose:Se,getBlocker:el,deleteBlocker:Xr,_internalFetchControllers:Re,_internalActiveDeferreds:B,_internalSetRoutes:ue},v}function QO(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function hy(t,e,n,r,i,s,o){let a,l;if(s){a=[];for(let c of e)if(a.push(c),c.route.id===s){l=c;break}}else a=e,l=e[e.length-1];let u=yf(i||".",ec(a).map(c=>c.pathnameBase),Ua(t.pathname,n)||t.pathname,o==="path");return i==null&&(u.search=t.search,u.hash=t.hash),(i==null||i===""||i===".")&&l&&l.route.index&&!d_(u.search)&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),r&&n!=="/"&&(u.pathname=u.pathname==="/"?n:ui([n,u.pathname])),Qs(u)}function NE(t,e,n,r){if(!r||!QO(r))return{path:n};if(r.formMethod&&!nV(r.formMethod))return{path:n,error:Jn(405,{method:r.formMethod})};let i=()=>({path:n,error:Jn(400,{type:"invalid-body"})}),s=r.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=J1(n);if(r.body!==void 0){if(r.formEncType==="text/plain"){if(!gr(o))return i();let h=typeof r.body=="string"?r.body:r.body instanceof FormData||r.body instanceof URLSearchParams?Array.from(r.body.entries()).reduce((p,m)=>{let[_,R]=m;return""+p+_+"="+R+`
`},""):String(r.body);return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:void 0,text:h}}}else if(r.formEncType==="application/json"){if(!gr(o))return i();try{let h=typeof r.body=="string"?JSON.parse(r.body):r.body;return{path:n,submission:{formMethod:o,formAction:a,formEncType:r.formEncType,formData:void 0,json:h,text:void 0}}}catch{return i()}}}Me(typeof FormData=="function","FormData is not available in this environment");let l,u;if(r.formData)l=fy(r.formData),u=r.formData;else if(r.body instanceof FormData)l=fy(r.body),u=r.body;else if(r.body instanceof URLSearchParams)l=r.body,u=OE(l);else if(r.body==null)l=new URLSearchParams,u=new FormData;else try{l=new URLSearchParams(r.body),u=OE(l)}catch{return i()}let c={formMethod:o,formAction:a,formEncType:r&&r.formEncType||"application/x-www-form-urlencoded",formData:u,json:void 0,text:void 0};if(gr(c.formMethod))return{path:n,submission:c};let d=cs(n);return e&&d.search&&d_(d.search)&&l.append("index",""),d.search="?"+l,{path:Qs(d),submission:c}}function YO(t,e){let n=t;if(e){let r=t.findIndex(i=>i.route.id===e);r>=0&&(n=t.slice(0,r))}return n}function xE(t,e,n,r,i,s,o,a,l,u,c,d,h,p,m){let _=m?Object.values(m)[0]:p?Object.values(p)[0]:void 0,R=t.createURL(e.location),y=t.createURL(i),f=m?Object.keys(m)[0]:void 0,g=YO(n,f).filter((T,I)=>{if(T.route.lazy)return!0;if(T.route.loader==null)return!1;if(XO(e.loaderData,e.matches[I],T)||o.some(M=>M===T.route.id))return!0;let O=e.matches[I],U=T;return DE(T,St({currentUrl:R,currentParams:O.params,nextUrl:y,nextParams:U.params},r,{actionResult:_,defaultShouldRevalidate:s||R.pathname+R.search===y.pathname+y.search||R.search!==y.search||X1(O,U)}))}),E=[];return u.forEach((T,I)=>{if(!n.some(re=>re.route.id===T.routeId)||l.has(I))return;let O=Wo(d,T.path,h);if(!O){E.push({key:I,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let U=e.fetchers.get(I),M=py(O,T.path),me=!1;c.has(I)?me=!1:a.includes(I)?me=!0:U&&U.state!=="idle"&&U.data===void 0?me=s:me=DE(M,St({currentUrl:R,currentParams:e.matches[e.matches.length-1].params,nextUrl:y,nextParams:n[n.length-1].params},r,{actionResult:_,defaultShouldRevalidate:s})),me&&E.push({key:I,routeId:T.routeId,path:T.path,matches:O,match:M,controller:new AbortController})}),[g,E]}function XO(t,e,n){let r=!e||n.route.id!==e.route.id,i=t[n.route.id]===void 0;return r||i}function X1(t,e){let n=t.route.path;return t.pathname!==e.pathname||n!=null&&n.endsWith("*")&&t.params["*"]!==e.params["*"]}function DE(t,e){if(t.route.shouldRevalidate){let n=t.route.shouldRevalidate(e);if(typeof n=="boolean")return n}return e.defaultShouldRevalidate}async function LE(t,e,n){if(!t.lazy)return;let r=await t.lazy();if(!t.lazy)return;let i=n[t.id];Me(i,"No route found in manifest");let s={};for(let o in r){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Ks(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!_O.has(o)&&(s[o]=r[o])}Object.assign(i,s),Object.assign(i,St({},e(i),{lazy:void 0}))}async function dl(t,e,n,r,i,s,o,a){a===void 0&&(a={});let l,u,c,d=m=>{let _,R=new Promise((y,f)=>_=f);return c=()=>_(),e.signal.addEventListener("abort",c),Promise.race([m({request:e,params:n.params,context:a.requestContext}),R])};try{let m=n.route[t];if(n.route.lazy)if(m){let _,R=await Promise.all([d(m).catch(y=>{_=y}),LE(n.route,s,i)]);if(_)throw _;u=R[0]}else if(await LE(n.route,s,i),m=n.route[t],m)u=await d(m);else if(t==="action"){let _=new URL(e.url),R=_.pathname+_.search;throw Jn(405,{method:e.method,pathname:R,routeId:n.route.id})}else return{type:At.data,data:void 0};else if(m)u=await d(m);else{let _=new URL(e.url),R=_.pathname+_.search;throw Jn(404,{pathname:R})}Me(u!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+n.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(m){l=At.error,u=m}finally{c&&e.signal.removeEventListener("abort",c)}if(tV(u)){let m=u.status;if(WO.has(m)){let y=u.headers.get("Location");if(Me(y,"Redirects returned/thrown from loaders/actions must have a Location header"),!Q1.test(y))y=hy(new URL(e.url),r.slice(0,r.indexOf(n)+1),o,!0,y);else if(!a.isStaticRequest){let f=new URL(e.url),v=y.startsWith("//")?new URL(f.protocol+y):new URL(y),g=Ua(v.pathname,o)!=null;v.origin===f.origin&&g&&(y=v.pathname+v.search+v.hash)}if(a.isStaticRequest)throw u.headers.set("Location",y),u;return{type:At.redirect,status:m,location:y,revalidate:u.headers.get("X-Remix-Revalidate")!==null,reloadDocument:u.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:l===At.error?At.error:At.data,response:u};let _,R=u.headers.get("Content-Type");return R&&/\bapplication\/json\b/.test(R)?_=await u.json():_=await u.text(),l===At.error?{type:l,error:new c_(m,u.statusText,_),headers:u.headers}:{type:At.data,data:_,statusCode:u.status,headers:u.headers}}if(l===At.error)return{type:l,error:u};if(eV(u)){var h,p;return{type:At.deferred,deferredData:u,statusCode:(h=u.init)==null?void 0:h.status,headers:((p=u.init)==null?void 0:p.headers)&&new Headers(u.init.headers)}}return{type:At.data,data:u}}function hl(t,e,n,r){let i=t.createURL(J1(e)).toString(),s={signal:n};if(r&&gr(r.formMethod)){let{formMethod:o,formEncType:a}=r;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(r.json)):a==="text/plain"?s.body=r.text:a==="application/x-www-form-urlencoded"&&r.formData?s.body=fy(r.formData):s.body=r.formData}return new Request(i,s)}function fy(t){let e=new URLSearchParams;for(let[n,r]of t.entries())e.append(n,typeof r=="string"?r:r.name);return e}function OE(t){let e=new FormData;for(let[n,r]of t.entries())e.append(n,r);return e}function JO(t,e,n,r,i){let s={},o=null,a,l=!1,u={};return n.forEach((c,d)=>{let h=e[d].route.id;if(Me(!ea(c),"Cannot handle redirect results in processLoaderData"),Kl(c)){let p=Gl(t,h),m=c.error;r&&(m=Object.values(r)[0],r=void 0),o=o||{},o[p.route.id]==null&&(o[p.route.id]=m),s[h]=void 0,l||(l=!0,a=G1(c.error)?c.error.status:500),c.headers&&(u[h]=c.headers)}else ks(c)?(i.set(h,c.deferredData),s[h]=c.deferredData.data):s[h]=c.data,c.statusCode!=null&&c.statusCode!==200&&!l&&(a=c.statusCode),c.headers&&(u[h]=c.headers)}),r&&(o=r,s[Object.keys(r)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:u}}function VE(t,e,n,r,i,s,o,a){let{loaderData:l,errors:u}=JO(e,n,r,i,a);for(let c=0;c<s.length;c++){let{key:d,match:h,controller:p}=s[c];Me(o!==void 0&&o[c]!==void 0,"Did not find corresponding fetcher result");let m=o[c];if(!(p&&p.signal.aborted))if(Kl(m)){let _=Gl(t.matches,h==null?void 0:h.route.id);u&&u[_.route.id]||(u=St({},u,{[_.route.id]:m.error})),t.fetchers.delete(d)}else if(ea(m))Me(!1,"Unhandled fetcher revalidation redirect");else if(ks(m))Me(!1,"Unhandled fetcher deferred data");else{let _=Pi(m.data);t.fetchers.set(d,_)}}return{loaderData:l,errors:u}}function ME(t,e,n,r){let i=St({},e);for(let s of n){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),r&&r.hasOwnProperty(o))break}return i}function Gl(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function $E(t){let e=t.length===1?t[0]:t.find(n=>n.index||!n.path||n.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function Jn(t,e){let{pathname:n,routeId:r,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but '+('did not provide a `loader` for route "'+r+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):t===404?(o="Not Found",a='No route matches URL "'+n+'"'):t===405&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but '+('did not provide an `action` for route "'+r+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new c_(t||500,o,new Error(a),!0)}function FE(t){for(let e=t.length-1;e>=0;e--){let n=t[e];if(ea(n))return{result:n,idx:e}}}function J1(t){let e=typeof t=="string"?cs(t):t;return Qs(St({},e,{hash:""}))}function ZO(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ks(t){return t.type===At.deferred}function Kl(t){return t.type===At.error}function ea(t){return(t&&t.type)===At.redirect}function eV(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function tV(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function nV(t){return zO.has(t.toLowerCase())}function gr(t){return jO.has(t.toLowerCase())}async function UE(t,e,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=e[o];if(!l)continue;let u=t.find(d=>d.route.id===l.route.id),c=u!=null&&!X1(u,l)&&(s&&s[l.route.id])!==void 0;if(ks(a)&&(i||c)){let d=r[o];Me(d,"Expected an AbortSignal for revalidating fetcher deferred result"),await Z1(a,d,i).then(h=>{h&&(n[o]=h||n[o])})}}}async function Z1(t,e,n){if(n===void 0&&(n=!1),!await t.deferredData.resolveData(e)){if(n)try{return{type:At.data,data:t.deferredData.unwrappedData}}catch(i){return{type:At.error,error:i}}return{type:At.data,data:t.deferredData.data}}}function d_(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function py(t,e){let n=typeof e=="string"?cs(e).search:e.search;if(t[t.length-1].route.index&&d_(n||""))return t[t.length-1];let r=ec(t);return r[r.length-1]}function jE(t){let{formMethod:e,formAction:n,formEncType:r,text:i,formData:s,json:o}=t;if(!(!e||!n||!r)){if(i!=null)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:n,formEncType:r,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:n,formEncType:r,formData:void 0,json:o,text:void 0}}}function mm(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function rV(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function fl(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e}}function iV(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0}}function Pi(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t}}function sV(t,e){try{let n=t.sessionStorage.getItem(Y1);if(n){let r=JSON.parse(n);for(let[i,s]of Object.entries(r||{}))s&&Array.isArray(s)&&e.set(i,new Set(s||[]))}}catch{}}function oV(t,e){if(e.size>0){let n={};for(let[r,i]of e)n[r]=[...i];try{t.sessionStorage.setItem(Y1,JSON.stringify(n))}catch(r){Ks(!1,"Failed to save applied view transitions in sessionStorage ("+r+").")}}}/**
 * React Router v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function my(){return my=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},my.apply(this,arguments)}const vf=F.createContext(null),eA=F.createContext(null),ja=F.createContext(null),h_=F.createContext(null),Kr=F.createContext({outlet:null,matches:[],isDataRoute:!1}),tA=F.createContext(null);function aV(t,e){let{relative:n}=e===void 0?{}:e;Ba()||Me(!1);let{basename:r,navigator:i}=F.useContext(ja),{hash:s,pathname:o,search:a}=iA(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:ui([r,o])),i.createHref({pathname:l,search:a,hash:s})}function Ba(){return F.useContext(h_)!=null}function tc(){return Ba()||Me(!1),F.useContext(h_).location}function nA(t){F.useContext(ja).static||F.useLayoutEffect(t)}function uo(){let{isDataRoute:t}=F.useContext(Kr);return t?EV():lV()}function lV(){Ba()||Me(!1);let t=F.useContext(vf),{basename:e,navigator:n}=F.useContext(ja),{matches:r}=F.useContext(Kr),{pathname:i}=tc(),s=JSON.stringify(ec(r).map(l=>l.pathnameBase)),o=F.useRef(!1);return nA(()=>{o.current=!0}),F.useCallback(function(l,u){if(u===void 0&&(u={}),!o.current)return;if(typeof l=="number"){n.go(l);return}let c=yf(l,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:ui([e,c.pathname])),(u.replace?n.replace:n.push)(c,u.state,u)},[e,n,s,i,t])}const uV=F.createContext(null);function cV(t){let e=F.useContext(Kr).outlet;return e&&F.createElement(uV.Provider,{value:t},e)}function rA(){let{matches:t}=F.useContext(Kr),e=t[t.length-1];return e?e.params:{}}function iA(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=F.useContext(Kr),{pathname:i}=tc(),s=JSON.stringify(ec(r).map(o=>o.pathnameBase));return F.useMemo(()=>yf(t,JSON.parse(s),i,n==="path"),[t,s,i,n])}function dV(t,e,n){Ba()||Me(!1);let{navigator:r}=F.useContext(ja),{matches:i}=F.useContext(Kr),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l=tc(),u;u=l;let c=u.pathname||"/",d=a==="/"?c:c.slice(a.length)||"/",h=Wo(t,{pathname:d});return gV(h&&h.map(m=>Object.assign({},m,{params:Object.assign({},o,m.params),pathname:ui([a,r.encodeLocation?r.encodeLocation(m.pathname).pathname:m.pathname]),pathnameBase:m.pathnameBase==="/"?a:ui([a,r.encodeLocation?r.encodeLocation(m.pathnameBase).pathname:m.pathnameBase])})),i,n)}function hV(){let t=wV(),e=G1(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,null)}const fV=F.createElement(hV,null);class pV extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?F.createElement(Kr.Provider,{value:this.props.routeContext},F.createElement(tA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function mV(t){let{routeContext:e,match:n,children:r}=t,i=F.useContext(vf);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(Kr.Provider,{value:e},r)}function gV(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var i;if((i=n)!=null&&i.errors)t=n.matches;else return null}let s=t,o=(r=n)==null?void 0:r.errors;if(o!=null){let a=s.findIndex(l=>l.route.id&&(o==null?void 0:o[l.route.id]));a>=0||Me(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,l,u)=>{let c=l.route.id?o==null?void 0:o[l.route.id]:null,d=null;n&&(d=l.route.errorElement||fV);let h=e.concat(s.slice(0,u+1)),p=()=>{let m;return c?m=d:l.route.Component?m=F.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,F.createElement(mV,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||u===0)?F.createElement(pV,{location:n.location,revalidation:n.revalidation,component:d,error:c,children:p(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):p()},null)}var sA=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(sA||{}),ph=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ph||{});function yV(t){let e=F.useContext(vf);return e||Me(!1),e}function vV(t){let e=F.useContext(eA);return e||Me(!1),e}function _V(t){let e=F.useContext(Kr);return e||Me(!1),e}function oA(t){let e=_V(),n=e.matches[e.matches.length-1];return n.route.id||Me(!1),n.route.id}function wV(){var t;let e=F.useContext(tA),n=vV(ph.UseRouteError),r=oA(ph.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function EV(){let{router:t}=yV(sA.UseNavigateStable),e=oA(ph.UseNavigateStable),n=F.useRef(!1);return nA(()=>{n.current=!0}),F.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,my({fromRouteId:e},s)))},[t,e])}const SV="startTransition",BE=nx[SV];function TV(t){let{fallbackElement:e,router:n,future:r}=t,[i,s]=F.useState(n.state),{v7_startTransition:o}=r||{},a=F.useCallback(d=>{o&&BE?BE(()=>s(d)):s(d)},[s,o]);F.useLayoutEffect(()=>n.subscribe(a),[n,a]);let l=F.useMemo(()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:d=>n.navigate(d),push:(d,h,p)=>n.navigate(d,{state:h,preventScrollReset:p==null?void 0:p.preventScrollReset}),replace:(d,h,p)=>n.navigate(d,{replace:!0,state:h,preventScrollReset:p==null?void 0:p.preventScrollReset})}),[n]),u=n.basename||"/",c=F.useMemo(()=>({router:n,navigator:l,static:!1,basename:u}),[n,l,u]);return F.createElement(F.Fragment,null,F.createElement(vf.Provider,{value:c},F.createElement(eA.Provider,{value:i},F.createElement(CV,{basename:u,location:i.location,navigationType:i.historyAction,navigator:l},i.initialized?F.createElement(RV,{routes:n.routes,state:i}):e))),null)}function RV(t){let{routes:e,state:n}=t;return dV(e,void 0,n)}function IV(t){let{to:e,replace:n,state:r,relative:i}=t;Ba()||Me(!1);let{matches:s}=F.useContext(Kr),{pathname:o}=tc(),a=uo(),l=yf(e,ec(s).map(c=>c.pathnameBase),o,i==="path"),u=JSON.stringify(l);return F.useEffect(()=>a(JSON.parse(u),{replace:n,state:r,relative:i}),[a,u,i,n,r]),null}function AV(t){return cV(t.context)}function CV(t){let{basename:e="/",children:n=null,location:r,navigationType:i=bt.Pop,navigator:s,static:o=!1}=t;Ba()&&Me(!1);let a=e.replace(/^\/*/,"/"),l=F.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof r=="string"&&(r=cs(r));let{pathname:u="/",search:c="",hash:d="",state:h=null,key:p="default"}=r,m=F.useMemo(()=>{let _=Ua(u,a);return _==null?null:{location:{pathname:_,search:c,hash:d,state:h,key:p},navigationType:i}},[a,u,c,d,h,p,i]);return m==null?null:F.createElement(ja.Provider,{value:l},F.createElement(h_.Provider,{children:n,value:m}))}new Promise(()=>{});function kV(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:F.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:F.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}var aA={};function PV(t){const e=new Error(t);if(e.stack===void 0)try{throw e}catch{}return e}var bV=PV,Le=bV;function NV(t){return!!t&&typeof t.then=="function"}var ut=NV;function xV(t,e){if(t!=null)return t;throw Le(e??"Got unexpected null or undefined")}var ft=xV;function be(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}class _f{getValue(){throw Le("BaseLoadable")}toPromise(){throw Le("BaseLoadable")}valueMaybe(){throw Le("BaseLoadable")}valueOrThrow(){throw Le(`Loadable expected value, but in "${this.state}" state`)}promiseMaybe(){throw Le("BaseLoadable")}promiseOrThrow(){throw Le(`Loadable expected promise, but in "${this.state}" state`)}errorMaybe(){throw Le("BaseLoadable")}errorOrThrow(){throw Le(`Loadable expected error, but in "${this.state}" state`)}is(e){return e.state===this.state&&e.contents===this.contents}map(e){throw Le("BaseLoadable")}}class DV extends _f{constructor(e){super(),be(this,"state","hasValue"),be(this,"contents",void 0),this.contents=e}getValue(){return this.contents}toPromise(){return Promise.resolve(this.contents)}valueMaybe(){return this.contents}valueOrThrow(){return this.contents}promiseMaybe(){}errorMaybe(){}map(e){try{const n=e(this.contents);return ut(n)?Ys(n):wa(n)?n:nc(n)}catch(n){return ut(n)?Ys(n.next(()=>this.map(e))):wf(n)}}}class LV extends _f{constructor(e){super(),be(this,"state","hasError"),be(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return Promise.reject(this.contents)}valueMaybe(){}promiseMaybe(){}errorMaybe(){return this.contents}errorOrThrow(){return this.contents}map(e){return this}}class lA extends _f{constructor(e){super(),be(this,"state","loading"),be(this,"contents",void 0),this.contents=e}getValue(){throw this.contents}toPromise(){return this.contents}valueMaybe(){}promiseMaybe(){return this.contents}promiseOrThrow(){return this.contents}errorMaybe(){}map(e){return Ys(this.contents.then(n=>{const r=e(n);if(wa(r)){const i=r;switch(i.state){case"hasValue":return i.contents;case"hasError":throw i.contents;case"loading":return i.contents}}return r}).catch(n=>{if(ut(n))return n.then(()=>this.map(e).contents);throw n}))}}function nc(t){return Object.freeze(new DV(t))}function wf(t){return Object.freeze(new LV(t))}function Ys(t){return Object.freeze(new lA(t))}function uA(){return Object.freeze(new lA(new Promise(()=>{})))}function OV(t){return t.every(e=>e.state==="hasValue")?nc(t.map(e=>e.contents)):t.some(e=>e.state==="hasError")?wf(ft(t.find(e=>e.state==="hasError"),"Invalid loadable passed to loadableAll").contents):Ys(Promise.all(t.map(e=>e.contents)))}function cA(t){const n=(Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(i=>t[i])).map(i=>wa(i)?i:ut(i)?Ys(i):nc(i)),r=OV(n);return Array.isArray(t)?r:r.map(i=>Object.getOwnPropertyNames(t).reduce((s,o,a)=>({...s,[o]:i[a]}),{}))}function wa(t){return t instanceof _f}const VV={of:t=>ut(t)?Ys(t):wa(t)?t:nc(t),error:t=>wf(t),loading:()=>uA(),all:cA,isLoadable:wa};var co={loadableWithValue:nc,loadableWithError:wf,loadableWithPromise:Ys,loadableLoading:uA,loadableAll:cA,isLoadable:wa,RecoilLoadable:VV},MV=co.loadableWithValue,$V=co.loadableWithError,FV=co.loadableWithPromise,UV=co.loadableLoading,jV=co.loadableAll,BV=co.isLoadable,zV=co.RecoilLoadable,rc=Object.freeze({__proto__:null,loadableWithValue:MV,loadableWithError:$V,loadableWithPromise:FV,loadableLoading:UV,loadableAll:jV,isLoadable:BV,RecoilLoadable:zV});const gy={RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED:!0,RECOIL_GKS_ENABLED:new Set(["recoil_hamt_2020","recoil_sync_external_store","recoil_suppress_rerender_in_callback","recoil_memory_managament_2020"])};function WV(t,e){var n,r;const i=(n=aA[t])===null||n===void 0||(r=n.toLowerCase())===null||r===void 0?void 0:r.trim();if(i==null||i==="")return;if(!["true","false"].includes(i))throw Le(`process.env.${t} value must be 'true', 'false', or empty: ${i}`);e(i==="true")}function qV(t,e){var n;const r=(n=aA[t])===null||n===void 0?void 0:n.trim();r==null||r===""||e(r.split(/\s*,\s*|\s+/))}function HV(){var t;typeof process>"u"||((t=process)===null||t===void 0?void 0:t.env)!=null&&(WV("RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED",e=>{gy.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED=e}),qV("RECOIL_GKS_ENABLED",e=>{e.forEach(n=>{gy.RECOIL_GKS_ENABLED.add(n)})}))}HV();var za=gy;function Ef(t){return za.RECOIL_GKS_ENABLED.has(t)}Ef.setPass=t=>{za.RECOIL_GKS_ENABLED.add(t)};Ef.setFail=t=>{za.RECOIL_GKS_ENABLED.delete(t)};Ef.clear=()=>{za.RECOIL_GKS_ENABLED.clear()};var Ze=Ef;function GV(t,e,{error:n}={}){return null}var KV=GV,f_=KV,gm,ym,vm;const QV=(gm=he.createMutableSource)!==null&&gm!==void 0?gm:he.unstable_createMutableSource,dA=(ym=he.useMutableSource)!==null&&ym!==void 0?ym:he.unstable_useMutableSource,hA=(vm=he.useSyncExternalStore)!==null&&vm!==void 0?vm:he.unstable_useSyncExternalStore;function YV(){var t;const{ReactCurrentDispatcher:e,ReactCurrentOwner:n}=he.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;return((t=e==null?void 0:e.current)!==null&&t!==void 0?t:n.currentDispatcher).useSyncExternalStore!=null}function XV(){return Ze("recoil_transition_support")?{mode:"TRANSITION_SUPPORT",early:!0,concurrent:!0}:Ze("recoil_sync_external_store")&&hA!=null?{mode:"SYNC_EXTERNAL_STORE",early:!0,concurrent:!1}:Ze("recoil_mutable_source")&&dA!=null&&typeof window<"u"&&!window.$disableRecoilValueMutableSource_TEMP_HACK_DO_NOT_USE?Ze("recoil_suppress_rerender_in_callback")?{mode:"MUTABLE_SOURCE",early:!0,concurrent:!0}:{mode:"MUTABLE_SOURCE",early:!1,concurrent:!1}:Ze("recoil_suppress_rerender_in_callback")?{mode:"LEGACY",early:!0,concurrent:!1}:{mode:"LEGACY",early:!1,concurrent:!1}}function JV(){return!1}var ic={createMutableSource:QV,useMutableSource:dA,useSyncExternalStore:hA,currentRendererSupportsUseSyncExternalStore:YV,reactMode:XV,isFastRefreshEnabled:JV};class p_{constructor(e){be(this,"key",void 0),this.key=e}toJSON(){return{key:this.key}}}class fA extends p_{}class pA extends p_{}function ZV(t){return t instanceof fA||t instanceof pA}var Sf={AbstractRecoilValue:p_,RecoilState:fA,RecoilValueReadOnly:pA,isRecoilValue:ZV},eM=Sf.AbstractRecoilValue,tM=Sf.RecoilState,nM=Sf.RecoilValueReadOnly,rM=Sf.isRecoilValue,Ea=Object.freeze({__proto__:null,AbstractRecoilValue:eM,RecoilState:tM,RecoilValueReadOnly:nM,isRecoilValue:rM});function iM(t,e){return function*(){let n=0;for(const r of t)yield e(r,n++)}()}var Tf=iM;class mA{}const sM=new mA,Xs=new Map,m_=new Map;function oM(t){return Tf(t,e=>ft(m_.get(e)))}function aM(t){if(Xs.has(t)){const e=`Duplicate atom key "${t}". This is a FATAL ERROR in
      production. But it is safe to ignore this warning if it occurred because of
      hot module replacement.`;console.warn(e)}}function lM(t){za.RECOIL_DUPLICATE_ATOM_KEY_CHECKING_ENABLED&&aM(t.key),Xs.set(t.key,t);const e=t.set==null?new Ea.RecoilValueReadOnly(t.key):new Ea.RecoilState(t.key);return m_.set(t.key,e),e}class gA extends Error{}function uM(t){const e=Xs.get(t);if(e==null)throw new gA(`Missing definition for RecoilValue: "${t}""`);return e}function cM(t){return Xs.get(t)}const mh=new Map;function dM(t){var e;if(!Ze("recoil_memory_managament_2020"))return;const n=Xs.get(t);if(n!=null&&(e=n.shouldDeleteConfigOnRelease)!==null&&e!==void 0&&e.call(n)){var r;Xs.delete(t),(r=yA(t))===null||r===void 0||r(),mh.delete(t)}}function hM(t,e){Ze("recoil_memory_managament_2020")&&(e===void 0?mh.delete(t):mh.set(t,e))}function yA(t){return mh.get(t)}var Vn={nodes:Xs,recoilValues:m_,registerNode:lM,getNode:uM,getNodeMaybe:cM,deleteNodeConfigIfPossible:dM,setConfigDeletionHandler:hM,getConfigDeletionHandler:yA,recoilValuesForKeys:oM,NodeMissingError:gA,DefaultValue:mA,DEFAULT_VALUE:sM};function fM(t,e){e()}var pM={enqueueExecution:fM};function mM(t,e){return e={exports:{}},t(e,e.exports),e.exports}var gM=mM(function(t){var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b},n={},r=5,i=Math.pow(2,r),s=i-1,o=i/2,a=i/4,l={},u=function(C){return function(){return C}},c=n.hash=function(b){var C=typeof b>"u"?"undefined":e(b);if(C==="number")return b;C!=="string"&&(b+="");for(var j=0,ee=0,Z=b.length;ee<Z;++ee){var ue=b.charCodeAt(ee);j=(j<<5)-j+ue|0}return j},d=function(C){return C-=C>>1&1431655765,C=(C&858993459)+(C>>2&858993459),C=C+(C>>4)&252645135,C+=C>>8,C+=C>>16,C&127},h=function(C,j){return j>>>C&s},p=function(C){return 1<<C},m=function(C,j){return d(C&j-1)},_=function(C,j,ee,Z){var ue=Z;if(!C){var w=Z.length;ue=new Array(w);for(var A=0;A<w;++A)ue[A]=Z[A]}return ue[j]=ee,ue},R=function(C,j,ee){var Z=ee.length-1,ue=0,w=0,A=ee;if(C)ue=w=j;else for(A=new Array(Z);ue<j;)A[w++]=ee[ue++];for(++ue;ue<=Z;)A[w++]=ee[ue++];return C&&(A.length=Z),A},y=function(C,j,ee,Z){var ue=Z.length;if(C){for(var w=ue;w>=j;)Z[w--]=Z[w];return Z[j]=ee,Z}for(var A=0,N=0,V=new Array(ue+1);A<j;)V[N++]=Z[A++];for(V[j]=ee;A<ue;)V[++N]=Z[A++];return V},f=1,v=2,g=3,E=4,T={__hamt_isEmpty:!0},I=function(C){return C===T||C&&C.__hamt_isEmpty},O=function(C,j,ee,Z){return{type:f,edit:C,hash:j,key:ee,value:Z,_modify:W}},U=function(C,j,ee){return{type:v,edit:C,hash:j,children:ee,_modify:oe}},M=function(C,j,ee){return{type:g,edit:C,mask:j,children:ee,_modify:G}},me=function(C,j,ee){return{type:E,edit:C,size:j,children:ee,_modify:ae}},re=function(C){return C===T||C.type===f||C.type===v},J=function(C,j,ee,Z,ue){for(var w=[],A=Z,N=0,V=0;A;++V)A&1&&(w[V]=ue[N++]),A>>>=1;return w[j]=ee,me(C,N+1,w)},ge=function(C,j,ee,Z){for(var ue=new Array(j-1),w=0,A=0,N=0,V=Z.length;N<V;++N)if(N!==ee){var K=Z[N];K&&!I(K)&&(ue[w++]=K,A|=1<<N)}return M(C,A,ue)},Re=function b(C,j,ee,Z,ue,w){if(ee===ue)return U(C,ee,[w,Z]);var A=h(j,ee),N=h(j,ue);return M(C,p(A)|p(N),A===N?[b(C,j+r,ee,Z,ue,w)]:A<N?[Z,w]:[w,Z])},Be=function(C,j,ee,Z,ue,w,A,N){for(var V=ue.length,K=0;K<V;++K){var Ee=ue[K];if(ee(A,Ee.key)){var fe=Ee.value,pe=w(fe);return pe===fe?ue:pe===l?(--N.value,R(C,K,ue)):_(C,K,O(j,Z,A,pe),ue)}}var le=w();return le===l?ue:(++N.value,_(C,V,O(j,Z,A,le),ue))},Ue=function(C,j){return C===j.edit},W=function(C,j,ee,Z,ue,w,A){if(j(w,this.key)){var N=Z(this.value);return N===this.value?this:N===l?(--A.value,T):Ue(C,this)?(this.value=N,this):O(C,ue,w,N)}var V=Z();return V===l?this:(++A.value,Re(C,ee,this.hash,this,ue,O(C,ue,w,V)))},oe=function(C,j,ee,Z,ue,w,A){if(ue===this.hash){var N=Ue(C,this),V=Be(N,C,j,this.hash,this.children,Z,w,A);return V===this.children?this:V.length>1?U(C,this.hash,V):V[0]}var K=Z();return K===l?this:(++A.value,Re(C,ee,this.hash,this,ue,O(C,ue,w,K)))},G=function(C,j,ee,Z,ue,w,A){var N=this.mask,V=this.children,K=h(ee,ue),Ee=p(K),fe=m(N,Ee),pe=N&Ee,le=pe?V[fe]:T,xe=le._modify(C,j,ee+r,Z,ue,w,A);if(le===xe)return this;var wt=Ue(C,this),Pe=N,Ke=void 0;if(pe&&I(xe)){if(Pe&=~Ee,!Pe)return T;if(V.length<=2&&re(V[fe^1]))return V[fe^1];Ke=R(wt,fe,V)}else if(!pe&&!I(xe)){if(V.length>=o)return J(C,K,xe,N,V);Pe|=Ee,Ke=y(wt,fe,xe,V)}else Ke=_(wt,fe,xe,V);return wt?(this.mask=Pe,this.children=Ke,this):M(C,Pe,Ke)},ae=function(C,j,ee,Z,ue,w,A){var N=this.size,V=this.children,K=h(ee,ue),Ee=V[K],fe=(Ee||T)._modify(C,j,ee+r,Z,ue,w,A);if(Ee===fe)return this;var pe=Ue(C,this),le=void 0;if(I(Ee)&&!I(fe))++N,le=_(pe,K,fe,V);else if(!I(Ee)&&I(fe)){if(--N,N<=a)return ge(C,N,K,V);le=_(pe,K,T,V)}else le=_(pe,K,fe,V);return pe?(this.size=N,this.children=le,this):me(C,N,le)};T._modify=function(b,C,j,ee,Z,ue,w){var A=ee();return A===l?T:(++w.value,O(b,Z,ue,A))};function k(b,C,j,ee,Z){this._editable=b,this._edit=C,this._config=j,this._root=ee,this._size=Z}k.prototype.setTree=function(b,C){return this._editable?(this._root=b,this._size=C,this):b===this._root?this:new k(this._editable,this._edit,this._config,b,C)};var B=n.tryGetHash=function(b,C,j,ee){for(var Z=ee._root,ue=0,w=ee._config.keyEq;;)switch(Z.type){case f:return w(j,Z.key)?Z.value:b;case v:{if(C===Z.hash)for(var A=Z.children,N=0,V=A.length;N<V;++N){var K=A[N];if(w(j,K.key))return K.value}return b}case g:{var Ee=h(ue,C),fe=p(Ee);if(Z.mask&fe){Z=Z.children[m(Z.mask,fe)],ue+=r;break}return b}case E:{if(Z=Z.children[h(ue,C)],Z){ue+=r;break}return b}default:return b}};k.prototype.tryGetHash=function(b,C,j){return B(b,C,j,this)};var z=n.tryGet=function(b,C,j){return B(b,j._config.hash(C),C,j)};k.prototype.tryGet=function(b,C){return z(b,C,this)};var ye=n.getHash=function(b,C,j){return B(void 0,b,C,j)};k.prototype.getHash=function(b,C){return ye(b,C,this)},n.get=function(b,C){return B(void 0,C._config.hash(b),b,C)},k.prototype.get=function(b,C){return z(C,b,this)};var X=n.has=function(b,C,j){return B(l,b,C,j)!==l};k.prototype.hasHash=function(b,C){return X(b,C,this)};var Se=n.has=function(b,C){return X(C._config.hash(b),b,C)};k.prototype.has=function(b){return Se(b,this)};var Te=function(C,j){return C===j};n.make=function(b){return new k(0,0,{keyEq:b&&b.keyEq||Te,hash:b&&b.hash||c},T,0)},n.empty=n.make();var ie=n.isEmpty=function(b){return b&&!!I(b._root)};k.prototype.isEmpty=function(){return ie(this)};var Oe=n.modifyHash=function(b,C,j,ee){var Z={value:ee._size},ue=ee._root._modify(ee._editable?ee._edit:NaN,ee._config.keyEq,0,b,C,j,Z);return ee.setTree(ue,Z.value)};k.prototype.modifyHash=function(b,C,j){return Oe(j,b,C,this)};var ze=n.modify=function(b,C,j){return Oe(b,j._config.hash(C),C,j)};k.prototype.modify=function(b,C){return ze(C,b,this)};var Ge=n.setHash=function(b,C,j,ee){return Oe(u(j),b,C,ee)};k.prototype.setHash=function(b,C,j){return Ge(b,C,j,this)};var We=n.set=function(b,C,j){return Ge(j._config.hash(b),b,C,j)};k.prototype.set=function(b,C){return We(b,C,this)};var mn=u(l),Yn=n.removeHash=function(b,C,j){return Oe(mn,b,C,j)};k.prototype.removeHash=k.prototype.deleteHash=function(b,C){return Yn(b,C,this)};var Kt=n.remove=function(b,C){return Yn(C._config.hash(b),b,C)};k.prototype.remove=k.prototype.delete=function(b){return Kt(b,this)};var rn=n.beginMutation=function(b){return new k(b._editable+1,b._edit+1,b._config,b._root,b._size)};k.prototype.beginMutation=function(){return rn(this)};var Za=n.endMutation=function(b){return b._editable=b._editable&&b._editable-1,b};k.prototype.endMutation=function(){return Za(this)};var Ti=n.mutate=function(b,C){var j=rn(C);return b(j),Za(j)};k.prototype.mutate=function(b){return Ti(b,this)};var S=function(C){return C&&x(C[0],C[1],C[2],C[3],C[4])},x=function(C,j,ee,Z,ue){for(;ee<C;){var w=j[ee++];if(w&&!I(w))return D(w,Z,[C,j,ee,Z,ue])}return S(ue)},D=function(C,j,ee){switch(C.type){case f:return{value:j(C),rest:ee};case v:case E:case g:var Z=C.children;return x(Z.length,Z,0,j,ee);default:return S(ee)}},se={done:!0};function Q(b){this.v=b}Q.prototype.next=function(){if(!this.v)return se;var b=this.v;return this.v=S(b.rest),b},Q.prototype[Symbol.iterator]=function(){return this};var q=function(C,j){return new Q(D(C._root,j))},we=function(C){return[C.key,C.value]},Ve=n.entries=function(b){return q(b,we)};k.prototype.entries=k.prototype[Symbol.iterator]=function(){return Ve(this)};var pt=function(C){return C.key},gn=n.keys=function(b){return q(b,pt)};k.prototype.keys=function(){return gn(this)};var cr=function(C){return C.value},el=n.values=k.prototype.values=function(b){return q(b,cr)};k.prototype.values=function(){return el(this)};var Xr=n.fold=function(b,C,j){var ee=j._root;if(ee.type===f)return b(C,ee.value,ee.key);for(var Z=[ee.children],ue=void 0;ue=Z.pop();)for(var w=0,A=ue.length;w<A;){var N=ue[w++];N&&N.type&&(N.type===f?C=b(C,N.value,N.key):Z.push(N.children))}return C};k.prototype.fold=function(b,C){return Xr(b,C,this)};var kr=n.forEach=function(b,C){return Xr(function(j,ee,Z){return b(ee,Z,C)},null,C)};k.prototype.forEach=function(b){return kr(b,this)};var wo=n.count=function(b){return b._size};k.prototype.count=function(){return wo(this)},Object.defineProperty(k.prototype,"size",{get:k.prototype.count}),t.exports?t.exports=n:(void 0).hamt=n});class yM{constructor(e){be(this,"_map",void 0),this._map=new Map(e==null?void 0:e.entries())}keys(){return this._map.keys()}entries(){return this._map.entries()}get(e){return this._map.get(e)}has(e){return this._map.has(e)}set(e,n){return this._map.set(e,n),this}delete(e){return this._map.delete(e),this}clone(){return y_(this)}toMap(){return new Map(this._map)}}class g_{constructor(e){if(be(this,"_hamt",gM.empty.beginMutation()),e instanceof g_){const n=e._hamt.endMutation();e._hamt=n.beginMutation(),this._hamt=n.beginMutation()}else if(e)for(const[n,r]of e.entries())this._hamt.set(n,r)}keys(){return this._hamt.keys()}entries(){return this._hamt.entries()}get(e){return this._hamt.get(e)}has(e){return this._hamt.has(e)}set(e,n){return this._hamt.set(e,n),this}delete(e){return this._hamt.delete(e),this}clone(){return y_(this)}toMap(){return new Map(this._hamt)}}function y_(t){return Ze("recoil_hamt_2020")?new g_(t):new yM(t)}var vM={persistentMap:y_},_M=vM.persistentMap,wM=Object.freeze({__proto__:null,persistentMap:_M});function EM(t,...e){const n=new Set;e:for(const r of t){for(const i of e)if(i.has(r))continue e;n.add(r)}return n}var Ql=EM;function SM(t,e){const n=new Map;return t.forEach((r,i)=>{n.set(i,e(r,i))}),n}var gh=SM;function TM(){return{nodeDeps:new Map,nodeToNodeSubscriptions:new Map}}function RM(t){return{nodeDeps:gh(t.nodeDeps,e=>new Set(e)),nodeToNodeSubscriptions:gh(t.nodeToNodeSubscriptions,e=>new Set(e))}}function _m(t,e,n,r){const{nodeDeps:i,nodeToNodeSubscriptions:s}=n,o=i.get(t);if(o&&r&&o!==r.nodeDeps.get(t))return;i.set(t,e);const a=o==null?e:Ql(e,o);for(const l of a)s.has(l)||s.set(l,new Set),ft(s.get(l)).add(t);if(o){const l=Ql(o,e);for(const u of l){if(!s.has(u))return;const c=ft(s.get(u));c.delete(t),c.size===0&&s.delete(u)}}}function IM(t,e,n,r){var i,s,o,a;const l=n.getState();r===l.currentTree.version||r===((i=l.nextTree)===null||i===void 0?void 0:i.version)||((s=l.previousTree)===null||s===void 0||s.version);const u=n.getGraph(r);if(_m(t,e,u),r===((o=l.previousTree)===null||o===void 0?void 0:o.version)){const d=n.getGraph(l.currentTree.version);_m(t,e,d,u)}if(r===((a=l.previousTree)===null||a===void 0?void 0:a.version)||r===l.currentTree.version){var c;const d=(c=l.nextTree)===null||c===void 0?void 0:c.version;if(d!==void 0){const h=n.getGraph(d);_m(t,e,h,u)}}}var sc={cloneGraph:RM,graph:TM,saveDepsToStore:IM};let AM=0;const CM=()=>AM++;let kM=0;const PM=()=>kM++;let bM=0;const NM=()=>bM++;var Rf={getNextTreeStateVersion:CM,getNextStoreID:PM,getNextComponentID:NM};const{persistentMap:zE}=wM,{graph:xM}=sc,{getNextTreeStateVersion:vA}=Rf;function _A(){const t=vA();return{version:t,stateID:t,transactionMetadata:{},dirtyAtoms:new Set,atomValues:zE(),nonvalidatedAtoms:zE()}}function DM(){const t=_A();return{currentTree:t,nextTree:null,previousTree:null,commitDepth:0,knownAtoms:new Set,knownSelectors:new Set,transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(t.version,xM()),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map}}var wA={makeEmptyTreeState:_A,makeEmptyStoreState:DM,getNextTreeStateVersion:vA};class EA{}function LM(){return new EA}var If={RetentionZone:EA,retentionZone:LM};function OM(t,e){const n=new Set(t);return n.add(e),n}function VM(t,e){const n=new Set(t);return n.delete(e),n}function MM(t,e,n){const r=new Map(t);return r.set(e,n),r}function $M(t,e,n){const r=new Map(t);return r.set(e,n(r.get(e))),r}function FM(t,e){const n=new Map(t);return n.delete(e),n}function UM(t,e){const n=new Map(t);return e.forEach(r=>n.delete(r)),n}var SA={setByAddingToSet:OM,setByDeletingFromSet:VM,mapBySettingInMap:MM,mapByUpdatingInMap:$M,mapByDeletingFromMap:FM,mapByDeletingMultipleFromMap:UM};function*jM(t,e){let n=0;for(const r of t)e(r,n++)&&(yield r)}var v_=jM;function BM(t,e){return new Proxy(t,{get:(r,i)=>(!(i in r)&&i in e&&(r[i]=e[i]()),r[i]),ownKeys:r=>Object.keys(r)})}var TA=BM;const{getNode:oc,getNodeMaybe:zM,recoilValuesForKeys:WE}=Vn,{RetentionZone:qE}=If,{setByAddingToSet:WM}=SA,qM=Object.freeze(new Set);class HM extends Error{}function GM(t,e,n){if(!Ze("recoil_memory_managament_2020"))return()=>{};const{nodesRetainedByZone:r}=t.getState().retention;function i(s){let o=r.get(s);o||r.set(s,o=new Set),o.add(e)}if(n instanceof qE)i(n);else if(Array.isArray(n))for(const s of n)i(s);return()=>{if(!Ze("recoil_memory_managament_2020"))return;const{retention:s}=t.getState();function o(a){const l=s.nodesRetainedByZone.get(a);l==null||l.delete(e),l&&l.size===0&&s.nodesRetainedByZone.delete(a)}if(n instanceof qE)o(n);else if(Array.isArray(n))for(const a of n)o(a)}}function __(t,e,n,r){const i=t.getState();if(i.nodeCleanupFunctions.has(n))return;const s=oc(n),o=GM(t,n,s.retainedBy),a=s.init(t,e,r);i.nodeCleanupFunctions.set(n,()=>{a(),o()})}function KM(t,e,n){__(t,t.getState().currentTree,e,n)}function QM(t,e){var n;const r=t.getState();(n=r.nodeCleanupFunctions.get(e))===null||n===void 0||n(),r.nodeCleanupFunctions.delete(e)}function YM(t,e,n){return __(t,e,n,"get"),oc(n).get(t,e)}function RA(t,e,n){return oc(n).peek(t,e)}function XM(t,e,n){var r;const i=zM(e);return i==null||(r=i.invalidate)===null||r===void 0||r.call(i,t),{...t,atomValues:t.atomValues.clone().delete(e),nonvalidatedAtoms:t.nonvalidatedAtoms.clone().set(e,n),dirtyAtoms:WM(t.dirtyAtoms,e)}}function JM(t,e,n,r){const i=oc(n);if(i.set==null)throw new HM(`Attempt to set read-only RecoilValue: ${n}`);const s=i.set;return __(t,e,n,"set"),s(t,e,r)}function ZM(t,e,n){const r=t.getState(),i=t.getGraph(e.version),s=oc(n).nodeType;return TA({type:s},{loadable:()=>RA(t,e,n),isActive:()=>r.knownAtoms.has(n)||r.knownSelectors.has(n),isSet:()=>s==="selector"?!1:e.atomValues.has(n),isModified:()=>e.dirtyAtoms.has(n),deps:()=>{var o;return WE((o=i.nodeDeps.get(n))!==null&&o!==void 0?o:[])},subscribers:()=>{var o,a;return{nodes:WE(v_(IA(t,e,new Set([n])),l=>l!==n)),components:Tf((o=(a=r.nodeToComponentSubscriptions.get(n))===null||a===void 0?void 0:a.values())!==null&&o!==void 0?o:[],([l])=>({name:l}))}}})}function IA(t,e,n){const r=new Set,i=Array.from(n),s=t.getGraph(e.version);for(let a=i.pop();a;a=i.pop()){var o;r.add(a);const l=(o=s.nodeToNodeSubscriptions.get(a))!==null&&o!==void 0?o:qM;for(const u of l)r.has(u)||i.push(u)}return r}var ds={getNodeLoadable:YM,peekNodeLoadable:RA,setNodeValue:JM,initializeNode:KM,cleanUpNode:QM,setUnvalidatedAtomValue_DEPRECATED:XM,peekNodeInfo:ZM,getDownstreamNodes:IA};let AA=null;function e$(t){AA=t}function t$(){var t;(t=AA)===null||t===void 0||t()}var CA={setInvalidateMemoizedSnapshot:e$,invalidateMemoizedSnapshot:t$};const{getDownstreamNodes:n$,getNodeLoadable:kA,setNodeValue:r$}=ds,{getNextComponentID:i$}=Rf,{getNode:s$,getNodeMaybe:PA}=Vn,{DefaultValue:w_}=Vn,{reactMode:o$}=ic,{AbstractRecoilValue:a$,RecoilState:l$,RecoilValueReadOnly:u$,isRecoilValue:c$}=Ea,{invalidateMemoizedSnapshot:d$}=CA;function h$(t,{key:e},n=t.getState().currentTree){var r,i;const s=t.getState();n.version===s.currentTree.version||n.version===((r=s.nextTree)===null||r===void 0?void 0:r.version)||(n.version,(i=s.previousTree)===null||i===void 0||i.version);const o=kA(t,n,e);return o.state==="loading"&&o.contents.catch(()=>{}),o}function f$(t,e){const n=t.clone();return e.forEach((r,i)=>{r.state==="hasValue"&&r.contents instanceof w_?n.delete(i):n.set(i,r)}),n}function p$(t,e,{key:n},r){if(typeof r=="function"){const i=kA(t,e,n);if(i.state==="loading"){const s=`Tried to set atom or selector "${n}" using an updater function while the current state is pending, this is not currently supported.`;throw Le(s)}else if(i.state==="hasError")throw i.contents;return r(i.contents)}else return r}function m$(t,e,n){if(n.type==="set"){const{recoilValue:i,valueOrUpdater:s}=n,o=p$(t,e,i,s),a=r$(t,e,i.key,o);for(const[l,u]of a.entries())yy(e,l,u)}else if(n.type==="setLoadable"){const{recoilValue:{key:i},loadable:s}=n;yy(e,i,s)}else if(n.type==="markModified"){const{recoilValue:{key:i}}=n;e.dirtyAtoms.add(i)}else if(n.type==="setUnvalidated"){var r;const{recoilValue:{key:i},unvalidatedValue:s}=n,o=PA(i);o==null||(r=o.invalidate)===null||r===void 0||r.call(o,e),e.atomValues.delete(i),e.nonvalidatedAtoms.set(i,s),e.dirtyAtoms.add(i)}else f_(`Unknown action ${n.type}`)}function yy(t,e,n){n.state==="hasValue"&&n.contents instanceof w_?t.atomValues.delete(e):t.atomValues.set(e,n),t.dirtyAtoms.add(e),t.nonvalidatedAtoms.delete(e)}function bA(t,e){t.replaceState(n=>{const r=NA(n);for(const i of e)m$(t,r,i);return xA(t,r),d$(),r})}function Af(t,e){if(Yl.length){const n=Yl[Yl.length-1];let r=n.get(t);r||n.set(t,r=[]),r.push(e)}else bA(t,[e])}const Yl=[];function g$(){const t=new Map;return Yl.push(t),()=>{for(const[e,n]of t)bA(e,n);Yl.pop()}}function NA(t){return{...t,atomValues:t.atomValues.clone(),nonvalidatedAtoms:t.nonvalidatedAtoms.clone(),dirtyAtoms:new Set(t.dirtyAtoms)}}function xA(t,e){const n=n$(t,e,e.dirtyAtoms);for(const s of n){var r,i;(r=PA(s))===null||r===void 0||(i=r.invalidate)===null||i===void 0||i.call(r,e)}}function DA(t,e,n){Af(t,{type:"set",recoilValue:e,valueOrUpdater:n})}function y$(t,e,n){if(n instanceof w_)return DA(t,e,n);Af(t,{type:"setLoadable",recoilValue:e,loadable:n})}function v$(t,e){Af(t,{type:"markModified",recoilValue:e})}function _$(t,e,n){Af(t,{type:"setUnvalidated",recoilValue:e,unvalidatedValue:n})}function w$(t,{key:e},n,r=null){const i=i$(),s=t.getState();s.nodeToComponentSubscriptions.has(e)||s.nodeToComponentSubscriptions.set(e,new Map),ft(s.nodeToComponentSubscriptions.get(e)).set(i,[r??"<not captured>",n]);const o=o$();if(o.early&&(o.mode==="LEGACY"||o.mode==="MUTABLE_SOURCE")){const a=t.getState().nextTree;a&&a.dirtyAtoms.has(e)&&n(a)}return{release:()=>{const a=t.getState(),l=a.nodeToComponentSubscriptions.get(e);l===void 0||!l.has(i)||(l.delete(i),l.size===0&&a.nodeToComponentSubscriptions.delete(e))}}}function E$(t,e){var n;const{currentTree:r}=t.getState(),i=s$(e.key);(n=i.clearCache)===null||n===void 0||n.call(i,t,r)}var Qr={RecoilValueReadOnly:u$,AbstractRecoilValue:a$,RecoilState:l$,getRecoilValueAsLoadable:h$,setRecoilValue:DA,setRecoilValueLoadable:y$,markRecoilValueModified:v$,setUnvalidatedRecoilValue:_$,subscribeToRecoilValue:w$,isRecoilValue:c$,applyAtomValueWrites:f$,batchStart:g$,writeLoadableToTreeState:yy,invalidateDownstreams:xA,copyTreeState:NA,refreshRecoilValue:E$};function S$(t,e,n){const r=t.entries();let i=r.next();for(;!i.done;){const s=i.value;if(e.call(n,s[1],s[0],t))return!0;i=r.next()}return!1}var T$=S$;const{cleanUpNode:R$}=ds,{deleteNodeConfigIfPossible:I$,getNode:LA}=Vn,{RetentionZone:OA}=If,A$=12e4,VA=new Set;function MA(t,e){const n=t.getState(),r=n.currentTree;if(n.nextTree)return;const i=new Set;for(const o of e)if(o instanceof OA)for(const a of b$(n,o))i.add(a);else i.add(o);const s=C$(t,i);for(const o of s)P$(t,r,o)}function C$(t,e){const n=t.getState(),r=n.currentTree,i=t.getGraph(r.version),s=new Set,o=new Set;return a(e),s;function a(l){const u=new Set,c=k$(t,r,l,s,o);for(const m of c){var d;if(LA(m).retainedBy==="recoilRoot"){o.add(m);continue}if(((d=n.retention.referenceCounts.get(m))!==null&&d!==void 0?d:0)>0){o.add(m);continue}if($A(m).some(R=>n.retention.referenceCounts.get(R))){o.add(m);continue}const _=i.nodeToNodeSubscriptions.get(m);if(_&&T$(_,R=>o.has(R))){o.add(m);continue}s.add(m),u.add(m)}const h=new Set;for(const m of u)for(const _ of(p=i.nodeDeps.get(m))!==null&&p!==void 0?p:VA){var p;s.has(_)||h.add(_)}h.size&&a(h)}}function k$(t,e,n,r,i){const s=t.getGraph(e.version),o=[],a=new Set;for(;n.size>0;)l(ft(n.values().next().value));return o;function l(u){if(r.has(u)||i.has(u)){n.delete(u);return}if(a.has(u))return;const c=s.nodeToNodeSubscriptions.get(u);if(c)for(const d of c)l(d);a.add(u),n.delete(u),o.push(u)}}function P$(t,e,n){if(!Ze("recoil_memory_managament_2020"))return;R$(t,n);const r=t.getState();r.knownAtoms.delete(n),r.knownSelectors.delete(n),r.nodeTransactionSubscriptions.delete(n),r.retention.referenceCounts.delete(n);const i=$A(n);for(const l of i){var s;(s=r.retention.nodesRetainedByZone.get(l))===null||s===void 0||s.delete(n)}e.atomValues.delete(n),e.dirtyAtoms.delete(n),e.nonvalidatedAtoms.delete(n);const o=r.graphsByVersion.get(e.version);if(o){const l=o.nodeDeps.get(n);if(l!==void 0){o.nodeDeps.delete(n);for(const u of l){var a;(a=o.nodeToNodeSubscriptions.get(u))===null||a===void 0||a.delete(n)}}o.nodeToNodeSubscriptions.delete(n)}I$(n)}function b$(t,e){var n;return(n=t.retention.nodesRetainedByZone.get(e))!==null&&n!==void 0?n:VA}function $A(t){const e=LA(t).retainedBy;return e===void 0||e==="components"||e==="recoilRoot"?[]:e instanceof OA?[e]:e}function N$(t,e){const n=t.getState();n.nextTree?n.retention.retainablesToCheckForRelease.add(e):MA(t,new Set([e]))}function x$(t,e,n){var r;if(!Ze("recoil_memory_managament_2020"))return;const i=t.getState().retention.referenceCounts,s=((r=i.get(e))!==null&&r!==void 0?r:0)+n;s===0?FA(t,e):i.set(e,s)}function FA(t,e){if(!Ze("recoil_memory_managament_2020"))return;t.getState().retention.referenceCounts.delete(e),N$(t,e)}function D$(t){if(!Ze("recoil_memory_managament_2020"))return;const e=t.getState();MA(t,e.retention.retainablesToCheckForRelease),e.retention.retainablesToCheckForRelease.clear()}function L$(t){return t===void 0?"recoilRoot":t}var ho={SUSPENSE_TIMEOUT_MS:A$,updateRetainCount:x$,updateRetainCountToZero:FA,releaseScheduledRetainablesNow:D$,retainedByOptionWithDefault:L$};const{unstable_batchedUpdates:O$}=hL;var V$={unstable_batchedUpdates:O$};const{unstable_batchedUpdates:M$}=V$;var $$={unstable_batchedUpdates:M$};const{batchStart:F$}=Qr,{unstable_batchedUpdates:U$}=$$;let E_=U$||(t=>t());const j$=t=>{E_=t},B$=()=>E_,z$=t=>{E_(()=>{let e=()=>{};try{e=F$(),t()}finally{e()}})};var Cf={getBatcher:B$,setBatcher:j$,batchUpdates:z$};function*W$(t){for(const e of t)for(const n of e)yield n}var UA=W$;const jA=typeof Window>"u"||typeof window>"u",q$=t=>!jA&&(t===window||t instanceof Window),H$=typeof navigator<"u"&&navigator.product==="ReactNative";var kf={isSSR:jA,isReactNative:H$,isWindow:q$};function G$(t,e){let n;return(...r)=>{n||(n={});const i=e(...r);return Object.hasOwnProperty.call(n,i)||(n[i]=t(...r)),n[i]}}function K$(t,e){let n,r;return(...i)=>{const s=e(...i);return n===s||(n=s,r=t(...i)),r}}function Q$(t,e){let n,r;return[(...o)=>{const a=e(...o);return n===a||(n=a,r=t(...o)),r},()=>{n=null}]}var Y$={memoizeWithArgsHash:G$,memoizeOneWithArgsHash:K$,memoizeOneWithArgsHashAndInvalidation:Q$};const{batchUpdates:vy}=Cf,{initializeNode:X$,peekNodeInfo:J$}=ds,{graph:Z$}=sc,{getNextStoreID:e2}=Rf,{DEFAULT_VALUE:t2,recoilValues:HE,recoilValuesForKeys:GE}=Vn,{AbstractRecoilValue:n2,getRecoilValueAsLoadable:r2,setRecoilValue:KE,setUnvalidatedRecoilValue:i2}=Qr,{updateRetainCount:Nd}=ho,{setInvalidateMemoizedSnapshot:s2}=CA,{getNextTreeStateVersion:o2,makeEmptyStoreState:a2}=wA,{isSSR:l2}=kf,{memoizeOneWithArgsHashAndInvalidation:u2}=Y$;class Pf{constructor(e,n){be(this,"_store",void 0),be(this,"_refCount",1),be(this,"getLoadable",r=>(this.checkRefCount_INTERNAL(),r2(this._store,r))),be(this,"getPromise",r=>(this.checkRefCount_INTERNAL(),this.getLoadable(r).toPromise())),be(this,"getNodes_UNSTABLE",r=>{if(this.checkRefCount_INTERNAL(),(r==null?void 0:r.isModified)===!0){if((r==null?void 0:r.isInitialized)===!1)return[];const o=this._store.getState().currentTree;return GE(o.dirtyAtoms)}const i=this._store.getState().knownAtoms,s=this._store.getState().knownSelectors;return(r==null?void 0:r.isInitialized)==null?HE.values():r.isInitialized===!0?GE(UA([i,s])):v_(HE.values(),({key:o})=>!i.has(o)&&!s.has(o))}),be(this,"getInfo_UNSTABLE",({key:r})=>(this.checkRefCount_INTERNAL(),J$(this._store,this._store.getState().currentTree,r))),be(this,"map",r=>{this.checkRefCount_INTERNAL();const i=new _y(this,vy);return r(i),i}),be(this,"asyncMap",async r=>{this.checkRefCount_INTERNAL();const i=new _y(this,vy);return i.retain(),await r(i),i.autoRelease_INTERNAL(),i}),this._store={storeID:e2(),parentStoreID:n,getState:()=>e,replaceState:r=>{e.currentTree=r(e.currentTree)},getGraph:r=>{const i=e.graphsByVersion;if(i.has(r))return ft(i.get(r));const s=Z$();return i.set(r,s),s},subscribeToTransactions:()=>({release:()=>{}}),addTransactionMetadata:()=>{throw Le("Cannot subscribe to Snapshots")}};for(const r of this._store.getState().knownAtoms)X$(this._store,r,"get"),Nd(this._store,r,1);this.autoRelease_INTERNAL()}retain(){this._refCount<=0,this._refCount++;let e=!1;return()=>{e||(e=!0,this._release())}}autoRelease_INTERNAL(){l2||window.setTimeout(()=>this._release(),10)}_release(){if(this._refCount--,this._refCount===0){if(this._store.getState().nodeCleanupFunctions.forEach(e=>e()),this._store.getState().nodeCleanupFunctions.clear(),!Ze("recoil_memory_managament_2020"))return}else this._refCount<0}isRetained(){return this._refCount>0}checkRefCount_INTERNAL(){Ze("recoil_memory_managament_2020")&&this._refCount<=0}getStore_INTERNAL(){return this.checkRefCount_INTERNAL(),this._store}getID(){return this.checkRefCount_INTERNAL(),this._store.getState().currentTree.stateID}getStoreID(){return this.checkRefCount_INTERNAL(),this._store.storeID}}function BA(t,e,n=!1){const r=t.getState(),i=n?o2():e.version;return{currentTree:{version:n?i:e.version,stateID:n?i:e.stateID,transactionMetadata:{...e.transactionMetadata},dirtyAtoms:new Set(e.dirtyAtoms),atomValues:e.atomValues.clone(),nonvalidatedAtoms:e.nonvalidatedAtoms.clone()},commitDepth:0,nextTree:null,previousTree:null,knownAtoms:new Set(r.knownAtoms),knownSelectors:new Set(r.knownSelectors),transactionSubscriptions:new Map,nodeTransactionSubscriptions:new Map,nodeToComponentSubscriptions:new Map,queuedComponentCallbacks_DEPRECATED:[],suspendedComponentResolvers:new Set,graphsByVersion:new Map().set(i,t.getGraph(e.version)),retention:{referenceCounts:new Map,nodesRetainedByZone:new Map,retainablesToCheckForRelease:new Set},nodeCleanupFunctions:new Map(Tf(r.nodeCleanupFunctions.entries(),([s])=>[s,()=>{}]))}}function c2(t){const e=new Pf(a2());return t!=null?e.map(t):e}const[QE,zA]=u2((t,e)=>{var n;const r=t.getState(),i=e==="latest"?(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree:ft(r.previousTree);return new Pf(BA(t,i),t.storeID)},(t,e)=>{var n,r;return String(e)+String(t.storeID)+String((n=t.getState().nextTree)===null||n===void 0?void 0:n.version)+String(t.getState().currentTree.version)+String((r=t.getState().previousTree)===null||r===void 0?void 0:r.version)});s2(zA);function d2(t,e="latest"){const n=QE(t,e);return n.isRetained()?n:(zA(),QE(t,e))}class _y extends Pf{constructor(e,n){super(BA(e.getStore_INTERNAL(),e.getStore_INTERNAL().getState().currentTree,!0),e.getStoreID()),be(this,"_batch",void 0),be(this,"set",(r,i)=>{this.checkRefCount_INTERNAL();const s=this.getStore_INTERNAL();this._batch(()=>{Nd(s,r.key,1),KE(this.getStore_INTERNAL(),r,i)})}),be(this,"reset",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();this._batch(()=>{Nd(i,r.key,1),KE(this.getStore_INTERNAL(),r,t2)})}),be(this,"setUnvalidatedAtomValues_DEPRECATED",r=>{this.checkRefCount_INTERNAL();const i=this.getStore_INTERNAL();vy(()=>{for(const[s,o]of r.entries())Nd(i,s,1),i2(i,new n2(s),o)})}),this._batch=n}}var bf={Snapshot:Pf,MutableSnapshot:_y,freshSnapshot:c2,cloneSnapshot:d2},h2=bf.Snapshot,f2=bf.MutableSnapshot,p2=bf.freshSnapshot,m2=bf.cloneSnapshot,Nf=Object.freeze({__proto__:null,Snapshot:h2,MutableSnapshot:f2,freshSnapshot:p2,cloneSnapshot:m2});function g2(...t){const e=new Set;for(const n of t)for(const r of n)e.add(r);return e}var y2=g2;const{useRef:v2}=he;function _2(t){const e=v2(t);return e.current===t&&typeof t=="function"&&(e.current=t()),e}var YE=_2;const{getNextTreeStateVersion:w2,makeEmptyStoreState:WA}=wA,{cleanUpNode:E2,getDownstreamNodes:S2,initializeNode:T2,setNodeValue:R2,setUnvalidatedAtomValue_DEPRECATED:I2}=ds,{graph:A2}=sc,{cloneGraph:C2}=sc,{getNextStoreID:qA}=Rf,{createMutableSource:wm,reactMode:HA}=ic,{applyAtomValueWrites:k2}=Qr,{releaseScheduledRetainablesNow:GA}=ho,{freshSnapshot:P2}=Nf,{useCallback:b2,useContext:KA,useEffect:wy,useMemo:N2,useRef:x2,useState:D2}=he;function pl(){throw Le("This component must be used inside a <RecoilRoot> component.")}const QA=Object.freeze({storeID:qA(),getState:pl,replaceState:pl,getGraph:pl,subscribeToTransactions:pl,addTransactionMetadata:pl});let Ey=!1;function XE(t){if(Ey)throw Le("An atom update was triggered within the execution of a state updater function. State updater functions provided to Recoil must be pure functions.");const e=t.getState();if(e.nextTree===null){Ze("recoil_memory_managament_2020")&&Ze("recoil_release_on_cascading_update_killswitch_2021")&&e.commitDepth>0&&GA(t);const n=e.currentTree.version,r=w2();e.nextTree={...e.currentTree,version:r,stateID:r,dirtyAtoms:new Set,transactionMetadata:{}},e.graphsByVersion.set(r,C2(ft(e.graphsByVersion.get(n))))}}const YA=he.createContext({current:QA}),xf=()=>KA(YA),XA=he.createContext(null);function L2(){return KA(XA)}function S_(t,e,n){const r=S2(t,n,n.dirtyAtoms);for(const i of r){const s=e.nodeToComponentSubscriptions.get(i);if(s)for(const[o,[a,l]]of s)l(n)}}function JA(t){const e=t.getState(),n=e.currentTree,r=n.dirtyAtoms;if(r.size){for(const[i,s]of e.nodeTransactionSubscriptions)if(r.has(i))for(const[o,a]of s)a(t);for(const[i,s]of e.transactionSubscriptions)s(t);(!HA().early||e.suspendedComponentResolvers.size>0)&&(S_(t,e,n),e.suspendedComponentResolvers.forEach(i=>i()),e.suspendedComponentResolvers.clear())}e.queuedComponentCallbacks_DEPRECATED.forEach(i=>i(n)),e.queuedComponentCallbacks_DEPRECATED.splice(0,e.queuedComponentCallbacks_DEPRECATED.length)}function O2(t){const e=t.getState();e.commitDepth++;try{const{nextTree:n}=e;if(n==null)return;e.previousTree=e.currentTree,e.currentTree=n,e.nextTree=null,JA(t),e.previousTree!=null?e.graphsByVersion.delete(e.previousTree.version):f_("Ended batch with no previous state, which is unexpected","recoil"),e.previousTree=null,Ze("recoil_memory_managament_2020")&&n==null&&GA(t)}finally{e.commitDepth--}}function V2({setNotifyBatcherOfChange:t}){const e=xf(),[,n]=D2([]);return t(()=>n({})),wy(()=>(t(()=>n({})),()=>{t(()=>{})}),[t]),wy(()=>{pM.enqueueExecution("Batcher",()=>{O2(e.current)})}),null}function M2(t,e){const n=WA();return e({set:(r,i)=>{const s=n.currentTree,o=R2(t,s,r.key,i),a=new Set(o.keys()),l=s.nonvalidatedAtoms.clone();for(const u of a)l.delete(u);n.currentTree={...s,dirtyAtoms:y2(s.dirtyAtoms,a),atomValues:k2(s.atomValues,o),nonvalidatedAtoms:l}},setUnvalidatedAtomValues:r=>{r.forEach((i,s)=>{n.currentTree=I2(n.currentTree,s,i)})}}),n}function $2(t){const e=P2(t),n=e.getStore_INTERNAL().getState();return e.retain(),n.nodeCleanupFunctions.forEach(r=>r()),n.nodeCleanupFunctions.clear(),n}let JE=0;function F2({initializeState_DEPRECATED:t,initializeState:e,store_INTERNAL:n,children:r}){let i;const s=p=>{const m=i.current.graphsByVersion;if(m.has(p))return ft(m.get(p));const _=A2();return m.set(p,_),_},o=(p,m)=>{if(m==null){const{transactionSubscriptions:_}=d.current.getState(),R=JE++;return _.set(R,p),{release:()=>{_.delete(R)}}}else{const{nodeTransactionSubscriptions:_}=d.current.getState();_.has(m)||_.set(m,new Map);const R=JE++;return ft(_.get(m)).set(R,p),{release:()=>{const y=_.get(m);y&&(y.delete(R),y.size===0&&_.delete(m))}}}},a=p=>{XE(d.current);for(const m of Object.keys(p))ft(d.current.getState().nextTree).transactionMetadata[m]=p[m]},l=p=>{XE(d.current);const m=ft(i.current.nextTree);let _;try{Ey=!0,_=p(m)}finally{Ey=!1}_!==m&&(i.current.nextTree=_,HA().early&&S_(d.current,i.current,_),ft(u.current)())},u=x2(null),c=b2(p=>{u.current=p},[u]),d=YE(()=>n??{storeID:qA(),getState:()=>i.current,replaceState:l,getGraph:s,subscribeToTransactions:o,addTransactionMetadata:a});n!=null&&(d.current=n),i=YE(()=>t!=null?M2(d.current,t):e!=null?$2(e):WA());const h=N2(()=>wm==null?void 0:wm(i,()=>i.current.currentTree.version),[i]);return wy(()=>{const p=d.current;for(const m of new Set(p.getState().knownAtoms))T2(p,m,"get");return()=>{for(const m of p.getState().knownAtoms)E2(p,m)}},[d]),he.createElement(YA.Provider,{value:d},he.createElement(XA.Provider,{value:h},he.createElement(V2,{setNotifyBatcherOfChange:c}),r))}function U2(t){const{override:e,...n}=t,r=xf();return e===!1&&r.current!==QA?t.children:he.createElement(F2,n)}function j2(){return xf().current.storeID}var wi={RecoilRoot:U2,useStoreRef:xf,useRecoilMutableSource:L2,useRecoilStoreID:j2,notifyComponents_FOR_TESTING:S_,sendEndOfBatchNotifications_FOR_TESTING:JA};function B2(t,e){if(t===e)return!0;if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}var z2=B2;const{useEffect:W2,useRef:q2}=he;function H2(t){const e=q2();return W2(()=>{e.current=t}),e.current}var ZA=H2;const{useStoreRef:G2}=wi,{SUSPENSE_TIMEOUT_MS:K2}=ho,{updateRetainCount:ml}=ho,{RetentionZone:Q2}=If,{useEffect:Y2,useRef:X2}=he,{isSSR:ZE}=kf;function J2(t){if(Ze("recoil_memory_managament_2020"))return Z2(t)}function Z2(t){const n=(Array.isArray(t)?t:[t]).map(o=>o instanceof Q2?o:o.key),r=G2();Y2(()=>{if(!Ze("recoil_memory_managament_2020"))return;const o=r.current;if(i.current&&!ZE)window.clearTimeout(i.current),i.current=null;else for(const a of n)ml(o,a,1);return()=>{for(const a of n)ml(o,a,-1)}},[r,...n]);const i=X2(),s=ZA(n);if(!ZE&&(s===void 0||!z2(s,n))){const o=r.current;for(const a of n)ml(o,a,1);if(s)for(const a of s)ml(o,a,-1);i.current&&window.clearTimeout(i.current),i.current=window.setTimeout(()=>{i.current=null;for(const a of n)ml(o,a,-1)},K2)}}var T_=J2;function eF(){return"<component name not available>"}var ac=eF;const{batchUpdates:tF}=Cf,{DEFAULT_VALUE:eC}=Vn,{currentRendererSupportsUseSyncExternalStore:nF,reactMode:Wa,useMutableSource:rF,useSyncExternalStore:iF}=ic,{useRecoilMutableSource:sF,useStoreRef:Yr}=wi,{AbstractRecoilValue:Sy,getRecoilValueAsLoadable:lc,setRecoilValue:yh,setUnvalidatedRecoilValue:oF,subscribeToRecoilValue:Sa}=Qr,{useCallback:xn,useEffect:Ta,useMemo:tC,useRef:Xl,useState:R_}=he,{setByAddingToSet:aF}=SA,{isSSR:lF}=kf;function I_(t,e,n){if(t.state==="hasValue")return t.contents;throw t.state==="loading"?new Promise(i=>{const s=n.current.getState().suspendedComponentResolvers;s.add(i),lF&&ut(t.contents)&&t.contents.finally(()=>{s.delete(i)})}):t.state==="hasError"?t.contents:Le(`Invalid value of loadable atom "${e.key}"`)}function uF(){const t=ac(),e=Yr(),[,n]=R_([]),r=Xl(new Set);r.current=new Set;const i=Xl(new Set),s=Xl(new Map),o=xn(l=>{const u=s.current.get(l);u&&(u.release(),s.current.delete(l))},[s]),a=xn((l,u)=>{s.current.has(u)&&n([])},[]);return Ta(()=>{const l=e.current;Ql(r.current,i.current).forEach(u=>{if(s.current.has(u))return;const c=Sa(l,new Sy(u),h=>a(h,u),t);s.current.set(u,c),l.getState().nextTree?l.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{a(l.getState(),u)}):a(l.getState(),u)}),Ql(i.current,r.current).forEach(u=>{o(u)}),i.current=r.current}),Ta(()=>{const l=s.current;return Ql(r.current,new Set(l.keys())).forEach(u=>{const c=Sa(e.current,new Sy(u),d=>a(d,u),t);l.set(u,c)}),()=>l.forEach((u,c)=>o(c))},[t,e,o,a]),tC(()=>{function l(m){return _=>{yh(e.current,m,_)}}function u(m){return()=>yh(e.current,m,eC)}function c(m){var _;r.current.has(m.key)||(r.current=aF(r.current,m.key));const R=e.current.getState();return lc(e.current,m,Wa().early&&(_=R.nextTree)!==null&&_!==void 0?_:R.currentTree)}function d(m){const _=c(m);return I_(_,m,e)}function h(m){return[d(m),l(m)]}function p(m){return[c(m),l(m)]}return{getRecoilValue:d,getRecoilValueLoadable:c,getRecoilState:h,getRecoilStateLoadable:p,getSetRecoilState:l,getResetRecoilState:u}},[r,e])}const cF={current:0};function dF(t){const e=Yr(),n=ac(),r=xn(()=>{var a;const l=e.current,u=l.getState(),c=Wa().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return{loadable:lc(l,t,c),key:t.key}},[e,t]),i=xn(a=>{let l;return()=>{var u,c;const d=a();return(u=l)!==null&&u!==void 0&&u.loadable.is(d.loadable)&&((c=l)===null||c===void 0?void 0:c.key)===d.key?l:(l=d,d)}},[]),s=tC(()=>i(r),[r,i]),o=xn(a=>{const l=e.current;return Sa(l,t,a,n).release},[e,t,n]);return iF(o,s,s).loadable}function hF(t){const e=Yr(),n=xn(()=>{var u;const c=e.current,d=c.getState(),h=Wa().early&&(u=d.nextTree)!==null&&u!==void 0?u:d.currentTree;return lc(c,t,h)},[e,t]),r=xn(()=>n(),[n]),i=ac(),s=xn((u,c)=>{const d=e.current;return Sa(d,t,()=>{if(!Ze("recoil_suppress_rerender_in_callback"))return c();const p=n();l.current.is(p)||c(),l.current=p},i).release},[e,t,i,n]),o=sF();if(o==null)throw Le("Recoil hooks must be used in components contained within a <RecoilRoot> component.");const a=rF(o,r,s),l=Xl(a);return Ta(()=>{l.current=a}),a}function Ty(t){const e=Yr(),n=ac(),r=xn(()=>{var l;const u=e.current,c=u.getState(),d=Wa().early&&(l=c.nextTree)!==null&&l!==void 0?l:c.currentTree;return lc(u,t,d)},[e,t]),i=xn(()=>({loadable:r(),key:t.key}),[r,t.key]),s=xn(l=>{const u=i();return l.loadable.is(u.loadable)&&l.key===u.key?l:u},[i]);Ta(()=>{const l=Sa(e.current,t,u=>{a(s)},n);return a(s),l.release},[n,t,e,s]);const[o,a]=R_(i);return o.key!==t.key?i().loadable:o.loadable}function fF(t){const e=Yr(),[,n]=R_([]),r=ac(),i=xn(()=>{var a;const l=e.current,u=l.getState(),c=Wa().early&&(a=u.nextTree)!==null&&a!==void 0?a:u.currentTree;return lc(l,t,c)},[e,t]),s=i(),o=Xl(s);return Ta(()=>{o.current=s}),Ta(()=>{const a=e.current,l=a.getState(),u=Sa(a,t,d=>{var h;if(!Ze("recoil_suppress_rerender_in_callback"))return n([]);const p=i();(h=o.current)!==null&&h!==void 0&&h.is(p)||n(p),o.current=p},r);if(l.nextTree)a.getState().queuedComponentCallbacks_DEPRECATED.push(()=>{o.current=null,n([])});else{var c;if(!Ze("recoil_suppress_rerender_in_callback"))return n([]);const d=i();(c=o.current)!==null&&c!==void 0&&c.is(d)||n(d),o.current=d}return u.release},[r,i,t,e]),s}function A_(t){return Ze("recoil_memory_managament_2020")&&T_(t),{TRANSITION_SUPPORT:Ty,SYNC_EXTERNAL_STORE:nF()?dF:Ty,MUTABLE_SOURCE:hF,LEGACY:fF}[Wa().mode](t)}function nC(t){const e=Yr(),n=A_(t);return I_(n,t,e)}function Df(t){const e=Yr();return xn(n=>{yh(e.current,t,n)},[e,t])}function pF(t){const e=Yr();return xn(()=>{yh(e.current,t,eC)},[e,t])}function mF(t){return[nC(t),Df(t)]}function gF(t){return[A_(t),Df(t)]}function yF(){const t=Yr();return(e,n={})=>{tF(()=>{t.current.addTransactionMetadata(n),e.forEach((r,i)=>oF(t.current,new Sy(i),r))})}}function rC(t){return Ze("recoil_memory_managament_2020")&&T_(t),Ty(t)}function iC(t){const e=Yr(),n=rC(t);return I_(n,t,e)}function vF(t){return[iC(t),Df(t)]}var _F={recoilComponentGetRecoilValueCount_FOR_TESTING:cF,useRecoilInterface:uF,useRecoilState:mF,useRecoilStateLoadable:gF,useRecoilValue:nC,useRecoilValueLoadable:A_,useResetRecoilState:pF,useSetRecoilState:Df,useSetUnvalidatedAtomValues:yF,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:rC,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:iC,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:vF};function wF(t,e){const n=new Map;for(const[r,i]of t)e(i,r)&&n.set(r,i);return n}var EF=wF;function SF(t,e){const n=new Set;for(const r of t)e(r)&&n.add(r);return n}var TF=SF;function RF(...t){const e=new Map;for(let n=0;n<t.length;n++){const r=t[n].keys();let i;for(;!(i=r.next()).done;)e.set(i.value,t[n].get(i.value))}return e}var IF=RF;const{batchUpdates:AF}=Cf,{DEFAULT_VALUE:CF,getNode:sC,nodes:kF}=Vn,{useStoreRef:C_}=wi,{AbstractRecoilValue:PF,setRecoilValueLoadable:bF}=Qr,{SUSPENSE_TIMEOUT_MS:NF}=ho,{cloneSnapshot:vh}=Nf,{useCallback:Lf,useEffect:oC,useRef:eS,useState:xF}=he,{isSSR:tS}=kf;function Of(t){const e=C_();oC(()=>e.current.subscribeToTransactions(t).release,[t,e])}function nS(t){const e=t.atomValues.toMap(),n=gh(EF(e,(r,i)=>{const o=sC(i).persistence_UNSTABLE;return o!=null&&o.type!=="none"&&r.state==="hasValue"}),r=>r.contents);return IF(t.nonvalidatedAtoms.toMap(),n)}function DF(t){Of(Lf(e=>{let n=e.getState().previousTree;const r=e.getState().currentTree;n||(n=e.getState().currentTree);const i=nS(r),s=nS(n),o=gh(kF,l=>{var u,c,d,h;return{persistence_UNSTABLE:{type:(u=(c=l.persistence_UNSTABLE)===null||c===void 0?void 0:c.type)!==null&&u!==void 0?u:"none",backButton:(d=(h=l.persistence_UNSTABLE)===null||h===void 0?void 0:h.backButton)!==null&&d!==void 0?d:!1}}}),a=TF(r.dirtyAtoms,l=>i.has(l)||s.has(l));t({atomValues:i,previousAtomValues:s,atomInfo:o,modifiedAtoms:a,transactionMetadata:{...r.transactionMetadata}})},[t]))}function LF(t){Of(Lf(e=>{const n=vh(e,"latest"),r=vh(e,"previous");t({snapshot:n,previousSnapshot:r})},[t]))}function OF(){const t=C_(),[e,n]=xF(()=>vh(t.current)),r=ZA(e),i=eS(),s=eS();if(Of(Lf(a=>n(vh(a)),[])),oC(()=>{const a=e.retain();if(i.current&&!tS){var l;window.clearTimeout(i.current),i.current=null,(l=s.current)===null||l===void 0||l.call(s),s.current=null}return()=>{window.setTimeout(a,10)}},[e]),r!==e&&!tS){if(i.current){var o;window.clearTimeout(i.current),i.current=null,(o=s.current)===null||o===void 0||o.call(s),s.current=null}s.current=e.retain(),i.current=window.setTimeout(()=>{var a;i.current=null,(a=s.current)===null||a===void 0||a.call(s),s.current=null},NF)}return e}function aC(t,e){var n;const r=t.getState(),i=(n=r.nextTree)!==null&&n!==void 0?n:r.currentTree,s=e.getStore_INTERNAL().getState().currentTree;AF(()=>{const o=new Set;for(const u of[i.atomValues.keys(),s.atomValues.keys()])for(const c of u){var a,l;((a=i.atomValues.get(c))===null||a===void 0?void 0:a.contents)!==((l=s.atomValues.get(c))===null||l===void 0?void 0:l.contents)&&sC(c).shouldRestoreFromSnapshots&&o.add(c)}o.forEach(u=>{bF(t,new PF(u),s.atomValues.has(u)?ft(s.atomValues.get(u)):CF)}),t.replaceState(u=>({...u,stateID:e.getID()}))})}function VF(){const t=C_();return Lf(e=>aC(t.current,e),[t])}var lC={useRecoilSnapshot:OF,gotoSnapshot:aC,useGotoRecoilSnapshot:VF,useRecoilTransactionObserver:LF,useTransactionObservation_DEPRECATED:DF,useTransactionSubscription_DEPRECATED:Of};const{peekNodeInfo:MF}=ds,{useStoreRef:$F}=wi;function FF(){const t=$F();return({key:e})=>MF(t.current,t.current.getState().currentTree,e)}var UF=FF;const{reactMode:jF}=ic,{RecoilRoot:BF,useStoreRef:zF}=wi,{useMemo:WF}=he;function qF(){jF().mode==="MUTABLE_SOURCE"&&console.warn("Warning: There are known issues using useRecoilBridgeAcrossReactRoots() in recoil_mutable_source rendering mode.  Please consider upgrading to recoil_sync_external_store mode.");const t=zF().current;return WF(()=>{function e({children:n}){return he.createElement(BF,{store_INTERNAL:t},n)}return e},[t])}var HF=qF;const{loadableWithValue:GF}=rc,{initializeNode:KF}=ds,{DEFAULT_VALUE:QF,getNode:YF}=Vn,{copyTreeState:XF,getRecoilValueAsLoadable:JF,invalidateDownstreams:ZF,writeLoadableToTreeState:eU}=Qr;function rS(t){return YF(t.key).nodeType==="atom"}class tU{constructor(e,n){be(this,"_store",void 0),be(this,"_treeState",void 0),be(this,"_changes",void 0),be(this,"get",r=>{if(this._changes.has(r.key))return this._changes.get(r.key);if(!rS(r))throw Le("Reading selectors within atomicUpdate is not supported");const i=JF(this._store,r,this._treeState);if(i.state==="hasValue")return i.contents;throw i.state==="hasError"?i.contents:Le(`Expected Recoil atom ${r.key} to have a value, but it is in a loading state.`)}),be(this,"set",(r,i)=>{if(!rS(r))throw Le("Setting selectors within atomicUpdate is not supported");if(typeof i=="function"){const s=this.get(r);this._changes.set(r.key,i(s))}else KF(this._store,r.key,"set"),this._changes.set(r.key,i)}),be(this,"reset",r=>{this.set(r,QF)}),this._store=e,this._treeState=n,this._changes=new Map}newTreeState_INTERNAL(){if(this._changes.size===0)return this._treeState;const e=XF(this._treeState);for(const[n,r]of this._changes)eU(e,n,GF(r));return ZF(this._store,e),e}}function nU(t){return e=>{t.replaceState(n=>{const r=new tU(t,n);return e(r),r.newTreeState_INTERNAL()})}}var rU={atomicUpdater:nU},iU=rU.atomicUpdater,uC=Object.freeze({__proto__:null,atomicUpdater:iU});function sU(t,e){if(!t)throw new Error(e)}var oU=sU,Pl=oU;const{atomicUpdater:aU}=uC,{batchUpdates:lU}=Cf,{DEFAULT_VALUE:uU}=Vn,{useStoreRef:cU}=wi,{refreshRecoilValue:dU,setRecoilValue:iS}=Qr,{cloneSnapshot:hU}=Nf,{gotoSnapshot:fU}=lC,{useCallback:pU}=he;class cC{}const mU=new cC;function dC(t,e,n,r){let i=mU,s;if(lU(()=>{const a="useRecoilCallback() expects a function that returns a function: it accepts a function of the type (RecoilInterface) => (Args) => ReturnType and returns a callback function (Args) => ReturnType, where RecoilInterface is an object {snapshot, set, ...} and Args and ReturnType are the argument and return types of the callback you want to create.  Please see the docs at recoiljs.org for details.";if(typeof e!="function")throw Le(a);const l=TA({...r??{},set:(c,d)=>iS(t,c,d),reset:c=>iS(t,c,uU),refresh:c=>dU(t,c),gotoSnapshot:c=>fU(t,c),transact_UNSTABLE:c=>aU(t)(c)},{snapshot:()=>{const c=hU(t);return s=c.retain(),c}}),u=e(l);if(typeof u!="function")throw Le(a);i=u(...n)}),i instanceof cC&&Pl(!1),ut(i))i=i.finally(()=>{var a;(a=s)===null||a===void 0||a()});else{var o;(o=s)===null||o===void 0||o()}return i}function gU(t,e){const n=cU();return pU((...r)=>dC(n.current,t,r),e!=null?[...e,n]:void 0)}var hC={recoilCallback:dC,useRecoilCallback:gU};const{useStoreRef:yU}=wi,{refreshRecoilValue:vU}=Qr,{useCallback:_U}=he;function wU(t){const e=yU();return _U(()=>{const n=e.current;vU(n,t)},[t,e])}var EU=wU;const{atomicUpdater:SU}=uC,{useStoreRef:TU}=wi,{useMemo:RU}=he;function IU(t,e){const n=TU();return RU(()=>(...r)=>{SU(n.current)(s=>{t(s)(...r)})},e!=null?[...e,n]:void 0)}var AU=IU;class CU{constructor(e){be(this,"value",void 0),this.value=e}}var kU={WrappedValue:CU},PU=kU.WrappedValue,fC=Object.freeze({__proto__:null,WrappedValue:PU});const{isFastRefreshEnabled:bU}=ic;class sS extends Error{}class NU{constructor(e){var n,r,i;be(this,"_name",void 0),be(this,"_numLeafs",void 0),be(this,"_root",void 0),be(this,"_onHit",void 0),be(this,"_onSet",void 0),be(this,"_mapNodeValue",void 0),this._name=e==null?void 0:e.name,this._numLeafs=0,this._root=null,this._onHit=(n=e==null?void 0:e.onHit)!==null&&n!==void 0?n:()=>{},this._onSet=(r=e==null?void 0:e.onSet)!==null&&r!==void 0?r:()=>{},this._mapNodeValue=(i=e==null?void 0:e.mapNodeValue)!==null&&i!==void 0?i:s=>s}size(){return this._numLeafs}root(){return this._root}get(e,n){var r;return(r=this.getLeafNode(e,n))===null||r===void 0?void 0:r.value}getLeafNode(e,n){if(this._root==null)return;let r=this._root;for(;r;){if(n==null||n.onNodeVisit(r),r.type==="leaf")return this._onHit(r),r;const i=this._mapNodeValue(e(r.nodeKey));r=r.branches.get(i)}}set(e,n,r){const i=()=>{var s,o,a,l;let u,c;for(const[R,y]of e){var d,h,p;const f=this._root;if((f==null?void 0:f.type)==="leaf")throw this.invalidCacheError();const v=u;if(u=v?v.branches.get(c):f,u=(d=u)!==null&&d!==void 0?d:{type:"branch",nodeKey:R,parent:v,branches:new Map,branchKey:c},u.type!=="branch"||u.nodeKey!==R)throw this.invalidCacheError();v==null||v.branches.set(c,u),r==null||(h=r.onNodeVisit)===null||h===void 0||h.call(r,u),c=this._mapNodeValue(y),this._root=(p=this._root)!==null&&p!==void 0?p:u}const m=u?(s=u)===null||s===void 0?void 0:s.branches.get(c):this._root;if(m!=null&&(m.type!=="leaf"||m.branchKey!==c))throw this.invalidCacheError();const _={type:"leaf",value:n,parent:u,branchKey:c};(o=u)===null||o===void 0||o.branches.set(c,_),this._root=(a=this._root)!==null&&a!==void 0?a:_,this._numLeafs++,this._onSet(_),r==null||(l=r.onNodeVisit)===null||l===void 0||l.call(r,_)};try{i()}catch(s){if(s instanceof sS)this.clear(),i();else throw s}}delete(e){const n=this.root();if(!n)return!1;if(e===n)return this._root=null,this._numLeafs=0,!0;let r=e.parent,i=e.branchKey;for(;r;){var s;if(r.branches.delete(i),r===n)return r.branches.size===0?(this._root=null,this._numLeafs=0):this._numLeafs--,!0;if(r.branches.size>0)break;i=(s=r)===null||s===void 0?void 0:s.branchKey,r=r.parent}for(;r!==n;r=r.parent)if(r==null)return!1;return this._numLeafs--,!0}clear(){this._numLeafs=0,this._root=null}invalidCacheError(){const e=bU()?"Possible Fast Refresh module reload detected.  This may also be caused by an selector returning inconsistent values. Resetting cache.":"Invalid cache values.  This happens when selectors do not return consistent values for the same input dependency values.  That may also be caused when using Fast Refresh to change a selector implementation.  Resetting cache.";throw f_(e+(this._name!=null?` - ${this._name}`:"")),new sS}}var xU={TreeCache:NU},DU=xU.TreeCache,pC=Object.freeze({__proto__:null,TreeCache:DU});class LU{constructor(e){var n;be(this,"_maxSize",void 0),be(this,"_size",void 0),be(this,"_head",void 0),be(this,"_tail",void 0),be(this,"_map",void 0),be(this,"_keyMapper",void 0),this._maxSize=e.maxSize,this._size=0,this._head=null,this._tail=null,this._map=new Map,this._keyMapper=(n=e.mapKey)!==null&&n!==void 0?n:r=>r}head(){return this._head}tail(){return this._tail}size(){return this._size}maxSize(){return this._maxSize}has(e){return this._map.has(this._keyMapper(e))}get(e){const n=this._keyMapper(e),r=this._map.get(n);if(r)return this.set(e,r.value),r.value}set(e,n){const r=this._keyMapper(e);this._map.get(r)&&this.delete(e);const s=this.head(),o={key:e,right:s,left:null,value:n};s?s.left=o:this._tail=o,this._map.set(r,o),this._head=o,this._size++,this._maybeDeleteLRU()}_maybeDeleteLRU(){this.size()>this.maxSize()&&this.deleteLru()}deleteLru(){const e=this.tail();e&&this.delete(e.key)}delete(e){const n=this._keyMapper(e);if(!this._size||!this._map.has(n))return;const r=ft(this._map.get(n)),i=r.right,s=r.left;i&&(i.left=r.left),s&&(s.right=r.right),r===this.head()&&(this._head=i),r===this.tail()&&(this._tail=s),this._map.delete(n),this._size--}clear(){this._size=0,this._head=null,this._tail=null,this._map=new Map}}var OU={LRUCache:LU},VU=OU.LRUCache,mC=Object.freeze({__proto__:null,LRUCache:VU});const{LRUCache:MU}=mC,{TreeCache:$U}=pC;function FU({name:t,maxSize:e,mapNodeValue:n=r=>r}){const r=new MU({maxSize:e}),i=new $U({name:t,mapNodeValue:n,onHit:s=>{r.set(s,!0)},onSet:s=>{const o=r.tail();r.set(s,!0),o&&i.size()>e&&i.delete(o.key)}});return i}var oS=FU;function fr(t,e,n){if(typeof t=="string"&&!t.includes('"')&&!t.includes("\\"))return`"${t}"`;switch(typeof t){case"undefined":return"";case"boolean":return t?"true":"false";case"number":case"symbol":return String(t);case"string":return JSON.stringify(t);case"function":if((e==null?void 0:e.allowFunctions)!==!0)throw Le("Attempt to serialize function in a Recoil cache key");return`__FUNCTION(${t.name})__`}if(t===null)return"null";if(typeof t!="object"){var r;return(r=JSON.stringify(t))!==null&&r!==void 0?r:""}if(ut(t))return"__PROMISE__";if(Array.isArray(t))return`[${t.map((i,s)=>fr(i,e,s.toString()))}]`;if(typeof t.toJSON=="function")return fr(t.toJSON(n),e,n);if(t instanceof Map){const i={};for(const[s,o]of t)i[typeof s=="string"?s:fr(s,e)]=o;return fr(i,e,n)}return t instanceof Set?fr(Array.from(t).sort((i,s)=>fr(i,e).localeCompare(fr(s,e))),e,n):Symbol!==void 0&&t[Symbol.iterator]!=null&&typeof t[Symbol.iterator]=="function"?fr(Array.from(t),e,n):`{${Object.keys(t).filter(i=>t[i]!==void 0).sort().map(i=>`${fr(i,e)}:${fr(t[i],e,i)}`).join(",")}}`}function UU(t,e={allowFunctions:!1}){return fr(t,e)}var Vf=UU;const{TreeCache:jU}=pC,Gc={equality:"reference",eviction:"keep-all",maxSize:1/0};function BU({equality:t=Gc.equality,eviction:e=Gc.eviction,maxSize:n=Gc.maxSize}=Gc,r){const i=zU(t);return WU(e,n,i,r)}function zU(t){switch(t){case"reference":return e=>e;case"value":return e=>Vf(e)}throw Le(`Unrecognized equality policy ${t}`)}function WU(t,e,n,r){switch(t){case"keep-all":return new jU({name:r,mapNodeValue:n});case"lru":return oS({name:r,maxSize:ft(e),mapNodeValue:n});case"most-recent":return oS({name:r,maxSize:1,mapNodeValue:n})}throw Le(`Unrecognized eviction policy ${t}`)}var qU=BU;function HU(t){return()=>null}var GU={startPerfBlock:HU};const{isLoadable:KU,loadableWithError:Kc,loadableWithPromise:QU,loadableWithValue:Em}=rc,{WrappedValue:gC}=fC,{getNodeLoadable:Qc,peekNodeLoadable:YU,setNodeValue:XU}=ds,{saveDepsToStore:JU}=sc,{DEFAULT_VALUE:ZU,getConfigDeletionHandler:e4,getNode:t4,registerNode:aS}=Vn,{isRecoilValue:n4}=Ea,{markRecoilValueModified:lS}=Qr,{retainedByOptionWithDefault:r4}=ho,{recoilCallback:i4}=hC,{startPerfBlock:s4}=GU;class yC{}const gl=new yC,yl=[],Yc=new Map,o4=(()=>{let t=0;return()=>t++})();function vC(t){let e=null;const{key:n,get:r,cachePolicy_UNSTABLE:i}=t,s=t.set!=null?t.set:void 0,o=new Set,a=qU(i??{equality:"reference",eviction:"keep-all"},n),l=r4(t.retainedBy_UNSTABLE),u=new Map;let c=0;function d(){return!Ze("recoil_memory_managament_2020")||c>0}function h(k){return k.getState().knownSelectors.add(n),c++,()=>{c--}}function p(){return e4(n)!==void 0&&!d()}function m(k,B,z,ye,X){Be(B,ye,X),_(k,z)}function _(k,B){ge(k,B)&&J(k),y(B,!0)}function R(k,B){ge(k,B)&&(ft(M(k)).stateVersions.clear(),y(B,!1))}function y(k,B){const z=Yc.get(k);if(z!=null){for(const ye of z)lS(ye,ft(e));B&&Yc.delete(k)}}function f(k,B){let z=Yc.get(B);z==null&&Yc.set(B,z=new Set),z.add(k)}function v(k,B,z,ye,X,Se){return B.then(Te=>{if(!d())throw J(k),gl;const ie=Em(Te);return m(k,z,X,ie,ye),Te}).catch(Te=>{if(!d())throw J(k),gl;if(ut(Te))return g(k,Te,z,ye,X,Se);const ie=Kc(Te);throw m(k,z,X,ie,ye),Te})}function g(k,B,z,ye,X,Se){return B.then(Te=>{if(!d())throw J(k),gl;Se.loadingDepKey!=null&&Se.loadingDepPromise===B?z.atomValues.set(Se.loadingDepKey,Em(Te)):k.getState().knownSelectors.forEach(Ge=>{z.atomValues.delete(Ge)});const ie=I(k,z);if(ie&&ie.state!=="loading"){if((ge(k,X)||M(k)==null)&&_(k,X),ie.state==="hasValue")return ie.contents;throw ie.contents}if(!ge(k,X)){const Ge=U(k,z);if(Ge!=null)return Ge.loadingLoadable.contents}const[Oe,ze]=T(k,z,X);if(Oe.state!=="loading"&&m(k,z,X,Oe,ze),Oe.state==="hasError")throw Oe.contents;return Oe.contents}).catch(Te=>{if(Te instanceof yC)throw gl;if(!d())throw J(k),gl;const ie=Kc(Te);throw m(k,z,X,ie,ye),Te})}function E(k,B,z,ye){var X,Se,Te,ie;if(ge(k,ye)||B.version===((X=k.getState())===null||X===void 0||(Se=X.currentTree)===null||Se===void 0?void 0:Se.version)||B.version===((Te=k.getState())===null||Te===void 0||(ie=Te.nextTree)===null||ie===void 0?void 0:ie.version)){var Oe,ze,Ge;JU(n,z,k,(Oe=(ze=k.getState())===null||ze===void 0||(Ge=ze.nextTree)===null||Ge===void 0?void 0:Ge.version)!==null&&Oe!==void 0?Oe:k.getState().currentTree.version)}for(const We of z)o.add(We)}function T(k,B,z){const ye=s4(n);let X=!0,Se=!0;const Te=()=>{ye(),Se=!1};let ie,Oe=!1,ze;const Ge={loadingDepKey:null,loadingDepPromise:null},We=new Map;function mn({key:Kt}){const rn=Qc(k,B,Kt);switch(We.set(Kt,rn),X||(E(k,B,new Set(We.keys()),z),R(k,z)),rn.state){case"hasValue":return rn.contents;case"hasError":throw rn.contents;case"loading":throw Ge.loadingDepKey=Kt,Ge.loadingDepPromise=rn.contents,rn.contents}throw Le("Invalid Loadable state")}const Yn=Kt=>(...rn)=>{if(Se)throw Le("Callbacks from getCallback() should only be called asynchronously after the selector is evalutated.  It can be used for selectors to return objects with callbacks that can work with Recoil state without a subscription.");return e==null&&Pl(!1),i4(k,Kt,rn,{node:e})};try{ie=r({get:mn,getCallback:Yn}),ie=n4(ie)?mn(ie):ie,KU(ie)&&(ie.state==="hasError"&&(Oe=!0),ie=ie.contents),ut(ie)?ie=v(k,ie,B,We,z,Ge).finally(Te):Te(),ie=ie instanceof gC?ie.value:ie}catch(Kt){ie=Kt,ut(ie)?ie=g(k,ie,B,We,z,Ge).finally(Te):(Oe=!0,Te())}return Oe?ze=Kc(ie):ut(ie)?ze=QU(ie):ze=Em(ie),X=!1,re(k,z,We),E(k,B,new Set(We.keys()),z),[ze,We]}function I(k,B){let z=B.atomValues.get(n);if(z!=null)return z;const ye=new Set;try{z=a.get(Se=>(typeof Se!="string"&&Pl(!1),Qc(k,B,Se).contents),{onNodeVisit:Se=>{Se.type==="branch"&&Se.nodeKey!==n&&ye.add(Se.nodeKey)}})}catch(Se){throw Le(`Problem with cache lookup for selector "${n}": ${Se.message}`)}if(z){var X;B.atomValues.set(n,z),E(k,B,ye,(X=M(k))===null||X===void 0?void 0:X.executionID)}return z}function O(k,B){const z=I(k,B);if(z!=null)return J(k),z;const ye=U(k,B);if(ye!=null){var X;return((X=ye.loadingLoadable)===null||X===void 0?void 0:X.state)==="loading"&&f(k,ye.executionID),ye.loadingLoadable}const Se=o4(),[Te,ie]=T(k,B,Se);return Te.state==="loading"?(me(k,Se,Te,ie,B),f(k,Se)):(J(k),Be(B,Te,ie)),Te}function U(k,B){const z=UA([u.has(k)?[ft(u.get(k))]:[],Tf(v_(u,([X])=>X!==k),([,X])=>X)]);function ye(X){for(const[Se,Te]of X)if(!Qc(k,B,Se).is(Te))return!0;return!1}for(const X of z){if(X.stateVersions.get(B.version)||!ye(X.depValuesDiscoveredSoFarDuringAsyncWork))return X.stateVersions.set(B.version,!0),X;X.stateVersions.set(B.version,!1)}}function M(k){return u.get(k)}function me(k,B,z,ye,X){u.set(k,{depValuesDiscoveredSoFarDuringAsyncWork:ye,executionID:B,loadingLoadable:z,stateVersions:new Map([[X.version,!0]])})}function re(k,B,z){if(ge(k,B)){const ye=M(k);ye!=null&&(ye.depValuesDiscoveredSoFarDuringAsyncWork=z)}}function J(k){u.delete(k)}function ge(k,B){var z;return B===((z=M(k))===null||z===void 0?void 0:z.executionID)}function Re(k){return Array.from(k.entries()).map(([B,z])=>[B,z.contents])}function Be(k,B,z){k.atomValues.set(n,B);try{a.set(Re(z),B)}catch(ye){throw Le(`Problem with setting cache for selector "${n}": ${ye.message}`)}}function Ue(k){if(yl.includes(n)){const B=`Recoil selector has circular dependencies: ${yl.slice(yl.indexOf(n)).join(" → ")}`;return Kc(Le(B))}yl.push(n);try{return k()}finally{yl.pop()}}function W(k,B){const z=B.atomValues.get(n);return z??a.get(ye=>{var X;return typeof ye!="string"&&Pl(!1),(X=YU(k,B,ye))===null||X===void 0?void 0:X.contents})}function oe(k,B){return Ue(()=>O(k,B))}function G(k){k.atomValues.delete(n)}function ae(k,B){e==null&&Pl(!1);for(const ye of o){var z;const X=t4(ye);(z=X.clearCache)===null||z===void 0||z.call(X,k,B)}o.clear(),G(B),a.clear(),lS(k,e)}return s!=null?e=aS({key:n,nodeType:"selector",peek:W,get:oe,set:(B,z,ye)=>{let X=!1;const Se=new Map;function Te({key:Ge}){if(X)throw Le("Recoil: Async selector sets are not currently supported.");const We=Qc(B,z,Ge);if(We.state==="hasValue")return We.contents;if(We.state==="loading"){const mn=`Getting value of asynchronous atom or selector "${Ge}" in a pending state while setting selector "${n}" is not yet supported.`;throw Le(mn)}else throw We.contents}function ie(Ge,We){if(X)throw Le("Recoil: Async selector sets are not currently supported.");const mn=typeof We=="function"?We(Te(Ge)):We;XU(B,z,Ge.key,mn).forEach((Kt,rn)=>Se.set(rn,Kt))}function Oe(Ge){ie(Ge,ZU)}const ze=s({set:ie,get:Te,reset:Oe},ye);if(ze!==void 0)throw ut(ze)?Le("Recoil: Async selector sets are not currently supported."):Le("Recoil: selector set should be a void function.");return X=!0,Se},init:h,invalidate:G,clearCache:ae,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l}):e=aS({key:n,nodeType:"selector",peek:W,get:oe,init:h,invalidate:G,clearCache:ae,shouldDeleteConfigOnRelease:p,dangerouslyAllowMutability:t.dangerouslyAllowMutability,shouldRestoreFromSnapshots:!1,retainedBy:l})}vC.value=t=>new gC(t);var Ra=vC;const{isLoadable:a4,loadableWithError:Sm,loadableWithPromise:Tm,loadableWithValue:Io}=rc,{WrappedValue:_C}=fC,{peekNodeInfo:l4}=ds,{DEFAULT_VALUE:Ss,DefaultValue:xi,getConfigDeletionHandler:wC,registerNode:u4,setConfigDeletionHandler:c4}=Vn,{isRecoilValue:d4}=Ea,{getRecoilValueAsLoadable:h4,markRecoilValueModified:f4,setRecoilValue:uS,setRecoilValueLoadable:p4}=Qr,{retainedByOptionWithDefault:m4}=ho,vl=t=>t instanceof _C?t.value:t;function g4(t){const{key:e,persistence_UNSTABLE:n}=t,r=m4(t.retainedBy_UNSTABLE);let i=0;function s(f){return Tm(f.then(v=>(o=Io(v),v)).catch(v=>{throw o=Sm(v),v}))}let o=ut(t.default)?s(t.default):a4(t.default)?t.default.state==="loading"?s(t.default.contents):t.default:Io(vl(t.default));o.contents;let a;const l=new Map;function u(f){return f}function c(f,v){const g=v.then(E=>{var T,I;return((I=((T=f.getState().nextTree)!==null&&T!==void 0?T:f.getState().currentTree).atomValues.get(e))===null||I===void 0?void 0:I.contents)===g&&uS(f,y,E),E}).catch(E=>{var T,I;throw((I=((T=f.getState().nextTree)!==null&&T!==void 0?T:f.getState().currentTree).atomValues.get(e))===null||I===void 0?void 0:I.contents)===g&&p4(f,y,Sm(E)),E});return g}function d(f,v,g){var E;i++;const T=()=>{var M;i--,(M=l.get(f))===null||M===void 0||M.forEach(me=>me()),l.delete(f)};if(f.getState().knownAtoms.add(e),o.state==="loading"){const M=()=>{var me;((me=f.getState().nextTree)!==null&&me!==void 0?me:f.getState().currentTree).atomValues.has(e)||f4(f,y)};o.contents.finally(M)}const I=(E=t.effects)!==null&&E!==void 0?E:t.effects_UNSTABLE;if(I!=null){let M=function(G){if(ge&&G.key===e){const ae=J;return ae instanceof xi?h(f,v):ut(ae)?Tm(ae.then(k=>k instanceof xi?o.toPromise():k)):Io(ae)}return h4(f,G)},me=function(G){return M(G).toPromise()},re=function(G){var ae;const k=l4(f,(ae=f.getState().nextTree)!==null&&ae!==void 0?ae:f.getState().currentTree,G.key);return ge&&G.key===e&&!(J instanceof xi)?{...k,isSet:!0,loadable:M(G)}:k},J=Ss,ge=!0,Re=!1,Be=null;const Ue=G=>ae=>{if(ge){const k=M(y),B=k.state==="hasValue"?k.contents:Ss;J=typeof ae=="function"?ae(B):ae,ut(J)&&(J=J.then(z=>(Be={effect:G,value:z},z)))}else{if(ut(ae))throw Le("Setting atoms to async values is not implemented.");typeof ae!="function"&&(Be={effect:G,value:vl(ae)}),uS(f,y,typeof ae=="function"?k=>{const B=vl(ae(k));return Be={effect:G,value:B},B}:vl(ae))}},W=G=>()=>Ue(G)(Ss),oe=G=>ae=>{var k;const{release:B}=f.subscribeToTransactions(z=>{var ye;let{currentTree:X,previousTree:Se}=z.getState();Se||(Se=X);const Te=(ye=X.atomValues.get(e))!==null&&ye!==void 0?ye:o;if(Te.state==="hasValue"){var ie,Oe,ze,Ge;const We=Te.contents,mn=(ie=Se.atomValues.get(e))!==null&&ie!==void 0?ie:o,Yn=mn.state==="hasValue"?mn.contents:Ss;((Oe=Be)===null||Oe===void 0?void 0:Oe.effect)!==G||((ze=Be)===null||ze===void 0?void 0:ze.value)!==We?ae(We,Yn,!X.atomValues.has(e)):((Ge=Be)===null||Ge===void 0?void 0:Ge.effect)===G&&(Be=null)}},e);l.set(f,[...(k=l.get(f))!==null&&k!==void 0?k:[],B])};for(const G of I)try{const ae=G({node:y,storeID:f.storeID,parentStoreID_UNSTABLE:f.parentStoreID,trigger:g,setSelf:Ue(G),resetSelf:W(G),onSet:oe(G),getPromise:me,getLoadable:M,getInfo_UNSTABLE:re});if(ae!=null){var O;l.set(f,[...(O=l.get(f))!==null&&O!==void 0?O:[],ae])}}catch(ae){J=ae,Re=!0}if(ge=!1,!(J instanceof xi)){var U;const G=Re?Sm(J):ut(J)?Tm(c(f,J)):Io(vl(J));G.contents,v.atomValues.set(e,G),(U=f.getState().nextTree)===null||U===void 0||U.atomValues.set(e,G)}}return T}function h(f,v){var g,E;return(g=(E=v.atomValues.get(e))!==null&&E!==void 0?E:a)!==null&&g!==void 0?g:o}function p(f,v){if(v.atomValues.has(e))return ft(v.atomValues.get(e));if(v.nonvalidatedAtoms.has(e)){if(a!=null)return a;if(n==null)return o;const g=v.nonvalidatedAtoms.get(e),E=n.validator(g,Ss);return a=E instanceof xi?o:Io(E),a}else return o}function m(){a=void 0}function _(f,v,g){if(v.atomValues.has(e)){const E=ft(v.atomValues.get(e));if(E.state==="hasValue"&&g===E.contents)return new Map}else if(!v.nonvalidatedAtoms.has(e)&&g instanceof xi)return new Map;return a=void 0,new Map().set(e,Io(g))}function R(){return wC(e)!==void 0&&i<=0}const y=u4({key:e,nodeType:"atom",peek:h,get:p,set:_,init:d,invalidate:m,shouldDeleteConfigOnRelease:R,dangerouslyAllowMutability:t.dangerouslyAllowMutability,persistence_UNSTABLE:t.persistence_UNSTABLE?{type:t.persistence_UNSTABLE.type,backButton:t.persistence_UNSTABLE.backButton}:void 0,shouldRestoreFromSnapshots:!0,retainedBy:r});return y}function k_(t){const{...e}=t,n="default"in t?t.default:new Promise(()=>{});return d4(n)?y4({...e,default:n}):g4({...e,default:n})}function y4(t){const e=k_({...t,default:Ss,persistence_UNSTABLE:t.persistence_UNSTABLE===void 0?void 0:{...t.persistence_UNSTABLE,validator:r=>r instanceof xi?r:ft(t.persistence_UNSTABLE).validator(r,Ss)},effects:t.effects,effects_UNSTABLE:t.effects_UNSTABLE}),n=Ra({key:`${t.key}__withFallback`,get:({get:r})=>{const i=r(e);return i instanceof xi?t.default:i},set:({set:r},i)=>r(e,i),cachePolicy_UNSTABLE:{eviction:"most-recent"},dangerouslyAllowMutability:t.dangerouslyAllowMutability});return c4(n.key,wC(t.key)),n}k_.value=t=>new _C(t);var EC=k_;class v4{constructor(e){var n;be(this,"_map",void 0),be(this,"_keyMapper",void 0),this._map=new Map,this._keyMapper=(n=e==null?void 0:e.mapKey)!==null&&n!==void 0?n:r=>r}size(){return this._map.size}has(e){return this._map.has(this._keyMapper(e))}get(e){return this._map.get(this._keyMapper(e))}set(e,n){this._map.set(this._keyMapper(e),n)}delete(e){this._map.delete(this._keyMapper(e))}clear(){this._map.clear()}}var _4={MapCache:v4},w4=_4.MapCache,E4=Object.freeze({__proto__:null,MapCache:w4});const{LRUCache:cS}=mC,{MapCache:S4}=E4,Xc={equality:"reference",eviction:"none",maxSize:1/0};function T4({equality:t=Xc.equality,eviction:e=Xc.eviction,maxSize:n=Xc.maxSize}=Xc){const r=R4(t);return I4(e,n,r)}function R4(t){switch(t){case"reference":return e=>e;case"value":return e=>Vf(e)}throw Le(`Unrecognized equality policy ${t}`)}function I4(t,e,n){switch(t){case"keep-all":return new S4({mapKey:n});case"lru":return new cS({mapKey:n,maxSize:ft(e)});case"most-recent":return new cS({mapKey:n,maxSize:1})}throw Le(`Unrecognized eviction policy ${t}`)}var SC=T4;const{setConfigDeletionHandler:A4}=Vn;function C4(t){var e,n;const r=SC({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s,o;const a=r.get(i);if(a!=null)return a;const{cachePolicyForParams_UNSTABLE:l,...u}=t,c="default"in t?t.default:new Promise(()=>{}),d=EC({...u,key:`${t.key}__${(s=Vf(i))!==null&&s!==void 0?s:"void"}`,default:typeof c=="function"?c(i):c,retainedBy_UNSTABLE:typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE,effects:typeof t.effects=="function"?t.effects(i):typeof t.effects_UNSTABLE=="function"?t.effects_UNSTABLE(i):(o=t.effects)!==null&&o!==void 0?o:t.effects_UNSTABLE});return r.set(i,d),A4(d.key,()=>{r.delete(i)}),d}}var k4=C4;const{setConfigDeletionHandler:P4}=Vn;let b4=0;function N4(t){var e,n;const r=SC({equality:(e=(n=t.cachePolicyForParams_UNSTABLE)===null||n===void 0?void 0:n.equality)!==null&&e!==void 0?e:"value",eviction:"keep-all"});return i=>{var s;let o;try{o=r.get(i)}catch(h){throw Le(`Problem with cache lookup for selector ${t.key}: ${h.message}`)}if(o!=null)return o;const a=`${t.key}__selectorFamily/${(s=Vf(i,{allowFunctions:!0}))!==null&&s!==void 0?s:"void"}/${b4++}`,l=h=>t.get(i)(h),u=t.cachePolicy_UNSTABLE,c=typeof t.retainedBy_UNSTABLE=="function"?t.retainedBy_UNSTABLE(i):t.retainedBy_UNSTABLE;let d;if(t.set!=null){const h=t.set;d=Ra({key:a,get:l,set:(m,_)=>h(i)(m,_),cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c})}else d=Ra({key:a,get:l,cachePolicy_UNSTABLE:u,dangerouslyAllowMutability:t.dangerouslyAllowMutability,retainedBy_UNSTABLE:c});return r.set(i,d),P4(d.key,()=>{r.delete(i)}),d}}var hs=N4;const x4=hs({key:"__constant",get:t=>()=>t,cachePolicyForParams_UNSTABLE:{equality:"reference"}});function D4(t){return x4(t)}var L4=D4;const O4=hs({key:"__error",get:t=>()=>{throw Le(t)},cachePolicyForParams_UNSTABLE:{equality:"reference"}});function V4(t){return O4(t)}var M4=V4;function $4(t){return t}var F4=$4;const{loadableWithError:TC,loadableWithPromise:RC,loadableWithValue:IC}=rc;function Mf(t,e){const n=Array(e.length).fill(void 0),r=Array(e.length).fill(void 0);for(const[i,s]of e.entries())try{n[i]=t(s)}catch(o){r[i]=o}return[n,r]}function U4(t){return t!=null&&!ut(t)}function $f(t){return Array.isArray(t)?t:Object.getOwnPropertyNames(t).map(e=>t[e])}function Ry(t,e){return Array.isArray(t)?e:Object.getOwnPropertyNames(t).reduce((n,r,i)=>({...n,[r]:e[i]}),{})}function ta(t,e,n){const r=n.map((i,s)=>i==null?IC(e[s]):ut(i)?RC(i):TC(i));return Ry(t,r)}function j4(t,e){return e.map((n,r)=>n===void 0?t[r]:n)}const B4=hs({key:"__waitForNone",get:t=>({get:e})=>{const n=$f(t),[r,i]=Mf(e,n);return ta(t,r,i)},dangerouslyAllowMutability:!0}),z4=hs({key:"__waitForAny",get:t=>({get:e})=>{const n=$f(t),[r,i]=Mf(e,n);return i.some(s=>!ut(s))?ta(t,r,i):new Promise(s=>{for(const[o,a]of i.entries())ut(a)&&a.then(l=>{r[o]=l,i[o]=void 0,s(ta(t,r,i))}).catch(l=>{i[o]=l,s(ta(t,r,i))})})},dangerouslyAllowMutability:!0}),W4=hs({key:"__waitForAll",get:t=>({get:e})=>{const n=$f(t),[r,i]=Mf(e,n);if(i.every(o=>o==null))return Ry(t,r);const s=i.find(U4);if(s!=null)throw s;return Promise.all(i).then(o=>Ry(t,j4(r,o)))},dangerouslyAllowMutability:!0}),q4=hs({key:"__waitForAllSettled",get:t=>({get:e})=>{const n=$f(t),[r,i]=Mf(e,n);return i.every(s=>!ut(s))?ta(t,r,i):Promise.all(i.map((s,o)=>ut(s)?s.then(a=>{r[o]=a,i[o]=void 0}).catch(a=>{r[o]=void 0,i[o]=a}):null)).then(()=>ta(t,r,i))},dangerouslyAllowMutability:!0}),H4=hs({key:"__noWait",get:t=>({get:e})=>{try{return Ra.value(IC(e(t)))}catch(n){return Ra.value(ut(n)?RC(n):TC(n))}},dangerouslyAllowMutability:!0});var G4={waitForNone:B4,waitForAny:z4,waitForAll:W4,waitForAllSettled:q4,noWait:H4};const{RecoilLoadable:K4}=rc,{DefaultValue:Q4}=Vn,{RecoilRoot:Y4,useRecoilStoreID:X4}=wi,{isRecoilValue:J4}=Ea,{retentionZone:Z4}=If,{freshSnapshot:ej}=Nf,{useRecoilState:tj,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:nj,useRecoilStateLoadable:rj,useRecoilValue:ij,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:sj,useRecoilValueLoadable:oj,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:aj,useResetRecoilState:lj,useSetRecoilState:uj}=_F,{useGotoRecoilSnapshot:cj,useRecoilSnapshot:dj,useRecoilTransactionObserver:hj}=lC,{useRecoilCallback:fj}=hC,{noWait:pj,waitForAll:mj,waitForAllSettled:gj,waitForAny:yj,waitForNone:vj}=G4;var Ff={DefaultValue:Q4,isRecoilValue:J4,RecoilLoadable:K4,RecoilEnv:za,RecoilRoot:Y4,useRecoilStoreID:X4,useRecoilBridgeAcrossReactRoots_UNSTABLE:HF,atom:EC,selector:Ra,atomFamily:k4,selectorFamily:hs,constSelector:L4,errorSelector:M4,readOnlySelector:F4,noWait:pj,waitForNone:vj,waitForAny:yj,waitForAll:mj,waitForAllSettled:gj,useRecoilValue:ij,useRecoilValueLoadable:oj,useRecoilState:tj,useRecoilStateLoadable:rj,useSetRecoilState:uj,useResetRecoilState:lj,useGetRecoilValueInfo_UNSTABLE:UF,useRecoilRefresher_UNSTABLE:EU,useRecoilValueLoadable_TRANSITION_SUPPORT_UNSTABLE:aj,useRecoilValue_TRANSITION_SUPPORT_UNSTABLE:sj,useRecoilState_TRANSITION_SUPPORT_UNSTABLE:nj,useRecoilCallback:fj,useRecoilTransaction_UNSTABLE:AU,useGotoRecoilSnapshot:cj,useRecoilSnapshot:dj,useRecoilTransactionObserver_UNSTABLE:hj,snapshot_UNSTABLE:ej,useRetain:T_,retentionZone:Z4},_j=Ff.RecoilRoot,wj=Ff.atom,AC=Ff.useRecoilState,Ej=Ff.useResetRecoilState;const Sj={bgColor:"#ffc4d6",bodyColor:"#fadde1",headerColor:"#ffc4d6",textColor:"",fontSize:"20px",buttonColor:"#f4acb7"};/**
 * React Router DOM v6.20.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Cu(){return Cu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Cu.apply(this,arguments)}function Tj(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function Rj(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ij(t,e){return t.button===0&&(!e||e==="_self")&&!Rj(t)}const Aj=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"];function Cj(t,e){return KO({basename:void 0,future:Cu({},void 0,{v7_prependBasename:!0}),history:gO({window:void 0}),hydrationData:kj(),routes:t,mapRouteProperties:kV,window:void 0}).initialize()}function kj(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=Cu({},e,{errors:Pj(e.errors)})),e}function Pj(t){if(!t)return null;let e=Object.entries(t),n={};for(let[r,i]of e)if(i&&i.__type==="RouteErrorResponse")n[r]=new c_(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",n[r]=o}catch{}}if(n[r]==null){let s=new Error(i.message);s.stack="",n[r]=s}}else n[r]=i;return n}const bj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Nj=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,P_=F.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,unstable_viewTransition:d}=e,h=Tj(e,Aj),{basename:p}=F.useContext(ja),m,_=!1;if(typeof u=="string"&&Nj.test(u)&&(m=u,bj))try{let v=new URL(window.location.href),g=u.startsWith("//")?new URL(v.protocol+u):new URL(u),E=Ua(g.pathname,p);g.origin===v.origin&&E!=null?u=E+g.search+g.hash:_=!0}catch{}let R=aV(u,{relative:i}),y=xj(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,unstable_viewTransition:d});function f(v){r&&r(v),v.defaultPrevented||y(v)}return F.createElement("a",Cu({},h,{href:m||R,onClick:_||s?r:f,ref:n,target:l}))});var dS;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(dS||(dS={}));var hS;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hS||(hS={}));function xj(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a}=e===void 0?{}:e,l=uo(),u=tc(),c=iA(t,{relative:o});return F.useCallback(d=>{if(Ij(d,n)){d.preventDefault();let h=r!==void 0?r:Qs(u)===Qs(c);l(t,{replace:h,state:i,preventScrollReset:s,relative:o,unstable_viewTransition:a})}},[u,l,c,r,i,n,t,s,o,a])}function Dj(){return P.jsx("h1",{children:"Error"})}var fS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Lj=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},kC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(CC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Lj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const u=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new Oj;const h=s<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const m=u<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Oj extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Vj=function(t){const e=CC(t);return kC.encodeByteArray(e,!0)},_h=function(t){return Vj(t).replace(/\./g,"")},PC=function(t){try{return kC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $j=()=>Mj().__FIREBASE_DEFAULTS__,Fj=()=>{if(typeof process>"u"||typeof fS>"u")return;const t=fS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Uj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&PC(t[1]);return e&&JSON.parse(e)},Uf=()=>{try{return $j()||Fj()||Uj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bC=t=>{var e,n;return(n=(e=Uf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},NC=t=>{const e=bC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},xC=()=>{var t;return(t=Uf())===null||t===void 0?void 0:t.config},DC=t=>{var e;return(e=Uf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jj{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[_h(JSON.stringify(n)),_h(JSON.stringify(o)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ot(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Bj(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ot())}function zj(){var t;const e=(t=Uf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function OC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Wj(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function qj(){const t=Ot();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Hj(){return!zj()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function b_(){try{return typeof indexedDB=="object"}catch{return!1}}function VC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function Gj(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kj="FirebaseError";class Mn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=Kj,Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,fo.prototype.create)}}class fo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Qj(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Mn(i,a,r)}}function Qj(t,e){return t.replace(Yj,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Yj=/\{\$([^}]+)}/g;function Xj(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ku(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(pS(s)&&pS(o)){if(!ku(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function pS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function bl(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Nl(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function Jj(t,e){const n=new Zj(t,e);return n.subscribe.bind(n)}class Zj{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");eB(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Rm),i.error===void 0&&(i.error=Rm),i.complete===void 0&&(i.complete=Rm);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function eB(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Rm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tB=1e3,nB=2,rB=4*60*60*1e3,iB=.5;function mS(t,e=tB,n=nB){const r=e*Math.pow(n,t),i=Math.round(iB*r*(Math.random()-.5)*2);return Math.min(rB,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){return t&&t._delegate?t._delegate:t}class ur{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Es="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sB{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new jj;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(aB(e))try{this.getOrInitializeService({instanceIdentifier:Es})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Es){return this.instances.has(e)}getOptions(e=Es){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oB(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Es){return this.component?this.component.multipleInstances?e:Es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function oB(t){return t===Es?void 0:t}function aB(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new sB(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(je||(je={}));const uB={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},cB=je.INFO,dB={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},hB=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=dB[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class jf{constructor(e){this.name=e,this._logLevel=cB,this._logHandler=hB,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?uB[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const fB=(t,e)=>e.some(n=>t instanceof n);let gS,yS;function pB(){return gS||(gS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function mB(){return yS||(yS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const MC=new WeakMap,Iy=new WeakMap,$C=new WeakMap,Im=new WeakMap,N_=new WeakMap;function gB(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Zi(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&MC.set(n,t)}).catch(()=>{}),N_.set(e,t),e}function yB(t){if(Iy.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});Iy.set(t,e)}let Ay={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Iy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||$C.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vB(t){Ay=t(Ay)}function _B(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Am(this),e,...n);return $C.set(r,e.sort?e.sort():[e]),Zi(r)}:mB().includes(t)?function(...e){return t.apply(Am(this),e),Zi(MC.get(this))}:function(...e){return Zi(t.apply(Am(this),e))}}function wB(t){return typeof t=="function"?_B(t):(t instanceof IDBTransaction&&yB(t),fB(t,pB())?new Proxy(t,Ay):t)}function Zi(t){if(t instanceof IDBRequest)return gB(t);if(Im.has(t))return Im.get(t);const e=wB(t);return e!==t&&(Im.set(t,e),N_.set(e,t)),e}const Am=t=>N_.get(t);function FC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Zi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Zi(o.result),l.oldVersion,l.newVersion,Zi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const EB=["get","getKey","getAll","getAllKeys","count"],SB=["put","add","delete","clear"],Cm=new Map;function vS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Cm.get(e))return Cm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=SB.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||EB.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return Cm.set(e,s),s}vB(t=>({...t,get:(e,n,r)=>vS(e,n)||t.get(e,n,r),has:(e,n)=>!!vS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(RB(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function RB(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Cy="@firebase/app",_S="0.9.27";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Js=new jf("@firebase/app"),IB="@firebase/app-compat",AB="@firebase/analytics-compat",CB="@firebase/analytics",kB="@firebase/app-check-compat",PB="@firebase/app-check",bB="@firebase/auth",NB="@firebase/auth-compat",xB="@firebase/database",DB="@firebase/database-compat",LB="@firebase/functions",OB="@firebase/functions-compat",VB="@firebase/installations",MB="@firebase/installations-compat",$B="@firebase/messaging",FB="@firebase/messaging-compat",UB="@firebase/performance",jB="@firebase/performance-compat",BB="@firebase/remote-config",zB="@firebase/remote-config-compat",WB="@firebase/storage",qB="@firebase/storage-compat",HB="@firebase/firestore",GB="@firebase/firestore-compat",KB="firebase",QB="10.8.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky="[DEFAULT]",YB={[Cy]:"fire-core",[IB]:"fire-core-compat",[CB]:"fire-analytics",[AB]:"fire-analytics-compat",[PB]:"fire-app-check",[kB]:"fire-app-check-compat",[bB]:"fire-auth",[NB]:"fire-auth-compat",[xB]:"fire-rtdb",[DB]:"fire-rtdb-compat",[LB]:"fire-fn",[OB]:"fire-fn-compat",[VB]:"fire-iid",[MB]:"fire-iid-compat",[$B]:"fire-fcm",[FB]:"fire-fcm-compat",[UB]:"fire-perf",[jB]:"fire-perf-compat",[BB]:"fire-rc",[zB]:"fire-rc-compat",[WB]:"fire-gcs",[qB]:"fire-gcs-compat",[HB]:"fire-fst",[GB]:"fire-fst-compat","fire-js":"fire-js",[KB]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,Py=new Map;function XB(t,e){try{t.container.addComponent(e)}catch(n){Js.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Tr(t){const e=t.name;if(Py.has(e))return Js.debug(`There were multiple attempts to register component ${e}.`),!1;Py.set(e,t);for(const n of wh.values())XB(n,t);return!0}function fs(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JB={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},es=new fo("app","Firebase",JB);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZB{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ur("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw es.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const po=QB;function UC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:ky,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw es.create("bad-app-name",{appName:String(i)});if(n||(n=xC()),!n)throw es.create("no-options");const s=wh.get(i);if(s){if(ku(n,s.options)&&ku(r,s.config))return s;throw es.create("duplicate-app",{appName:i})}const o=new lB(i);for(const l of Py.values())o.addComponent(l);const a=new ZB(n,r,o);return wh.set(i,a),a}function Bf(t=ky){const e=wh.get(t);if(!e&&t===ky&&xC())return UC();if(!e)throw es.create("no-app",{appName:t});return e}function Dn(t,e,n){var r;let i=(r=YB[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Js.warn(a.join(" "));return}Tr(new ur(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e9="firebase-heartbeat-database",t9=1,Pu="firebase-heartbeat-store";let km=null;function jC(){return km||(km=FC(e9,t9,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Pu)}catch(n){console.warn(n)}}}}).catch(t=>{throw es.create("idb-open",{originalErrorMessage:t.message})})),km}async function n9(t){try{const n=(await jC()).transaction(Pu),r=await n.objectStore(Pu).get(BC(t));return await n.done,r}catch(e){if(e instanceof Mn)Js.warn(e.message);else{const n=es.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Js.warn(n.message)}}}async function wS(t,e){try{const r=(await jC()).transaction(Pu,"readwrite");await r.objectStore(Pu).put(e,BC(t)),await r.done}catch(n){if(n instanceof Mn)Js.warn(n.message);else{const r=es.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Js.warn(r.message)}}}function BC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=1024,i9=30*24*60*60*1e3;class s9{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new a9(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=ES();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const a=new Date(o.date).valueOf();return Date.now()-a<=i9}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ES(),{heartbeatsToSend:r,unsentEntries:i}=o9(this._heartbeatsCache.heartbeats),s=_h(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}}function ES(){return new Date().toISOString().substring(0,10)}function o9(t,e=r9){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),SS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),SS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class a9{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return b_()?VC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await n9(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return wS(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function SS(t){return _h(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function l9(t){Tr(new ur("platform-logger",e=>new TB(e),"PRIVATE")),Tr(new ur("heartbeat",e=>new s9(e),"PRIVATE")),Dn(Cy,_S,t),Dn(Cy,_S,"esm2017"),Dn("fire-js","")}l9("");function zC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const u9=zC,WC=new fo("auth","Firebase",zC());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eh=new jf("@firebase/auth");function c9(t,...e){Eh.logLevel<=je.WARN&&Eh.warn(`Auth (${po}): ${t}`,...e)}function xd(t,...e){Eh.logLevel<=je.ERROR&&Eh.error(`Auth (${po}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(t,...e){throw x_(t,...e)}function jr(t,...e){return x_(t,...e)}function d9(t,e,n){const r=Object.assign(Object.assign({},u9()),{[e]:n});return new fo("auth","Firebase",r).create(e,{appName:t.name})}function x_(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return WC.create(t,...e)}function Ie(t,e,...n){if(!t)throw x_(e,...n)}function si(t){const e="INTERNAL ASSERTION FAILED: "+t;throw xd(e),new Error(e)}function mi(t,e){t||si(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function by(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function h9(){return TS()==="http:"||TS()==="https:"}function TS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f9(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(h9()||OC()||"connection"in navigator)?navigator.onLine:!0}function p9(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,n){this.shortDelay=e,this.longDelay=n,mi(n>e,"Short delay should be less than long delay!"),this.isMobile=Bj()||Wj()}get(){return f9()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_(t,e){mi(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;si("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;si("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;si("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m9={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g9=new cc(3e4,6e4);function ps(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function Ei(t,e,n,r,i={}){return HC(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=uc(Object.assign({key:t.config.apiKey},o)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),qC.fetch()(GC(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},s))})}async function HC(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},m9),e);try{const i=new v9(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Jc(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jc(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Jc(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Jc(t,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw d9(t,c,u);Rr(t,c)}}catch(i){if(i instanceof Mn)throw i;Rr(t,"network-request-failed",{message:String(i)})}}async function dc(t,e,n,r,i={}){const s=await Ei(t,e,n,r,i);return"mfaPendingCredential"in s&&Rr(t,"multi-factor-auth-required",{_serverResponse:s}),s}function GC(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?D_(t.config,i):`${t.config.apiScheme}://${i}`}function y9(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class v9{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(jr(this.auth,"network-request-failed")),g9.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jc(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=jr(t,e,r);return i.customData._tokenResponse=n,i}function RS(t){return t!==void 0&&t.enterprise!==void 0}class _9{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return y9(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function w9(t,e){return Ei(t,"GET","/v2/recaptchaConfig",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function E9(t,e){return Ei(t,"POST","/v1/accounts:delete",e)}async function S9(t,e){return Ei(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jl(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function T9(t,e=!1){const n=dt(t),r=await n.getIdToken(e),i=L_(r);Ie(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Jl(Pm(i.auth_time)),issuedAtTime:Jl(Pm(i.iat)),expirationTime:Jl(Pm(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Pm(t){return Number(t)*1e3}function L_(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return xd("JWT malformed, contained fewer than 3 sections"),null;try{const i=PC(n);return i?JSON.parse(i):(xd("Failed to decode base64 JWT payload"),null)}catch(i){return xd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function R9(t){const e=L_(t);return Ie(e,"internal-error"),Ie(typeof e.exp<"u","internal-error"),Ie(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ia(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Mn&&I9(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function I9({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A9{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KC{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Jl(this.lastLoginAt),this.creationTime=Jl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await Ia(t,S9(n,{idToken:r}));Ie(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?P9(s.providerUserInfo):[],a=k9(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new KC(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(t,d)}async function C9(t){const e=dt(t);await Sh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function k9(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function P9(t){return t.map(e=>{var{providerId:n}=e,r=i_(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b9(t,e){const n=await HC(t,{},async()=>{const r=uc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=GC(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",qC.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function N9(t,e){return Ei(t,"POST","/v2/accounts:revokeToken",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ie(e.idToken,"internal-error"),Ie(typeof e.idToken<"u","internal-error"),Ie(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):R9(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return Ie(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await b9(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new bu;return r&&(Ie(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Ie(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Ie(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new bu,this.toJSON())}_performRefresh(){return si("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ii(t,e){Ie(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class $s{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=i_(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new A9(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new KC(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await Ia(this,this.stsTokenManager.getToken(this.auth,e));return Ie(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return T9(this,e)}reload(){return C9(this)}_assign(e){this!==e&&(Ie(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new $s(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Ie(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Sh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Ia(this,E9(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,m=(o=n.photoURL)!==null&&o!==void 0?o:void 0,_=(a=n.tenantId)!==null&&a!==void 0?a:void 0,R=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(u=n.createdAt)!==null&&u!==void 0?u:void 0,f=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:v,emailVerified:g,isAnonymous:E,providerData:T,stsTokenManager:I}=n;Ie(v&&I,e,"internal-error");const O=bu.fromJSON(this.name,I);Ie(typeof v=="string",e,"internal-error"),Ii(d,e.name),Ii(h,e.name),Ie(typeof g=="boolean",e,"internal-error"),Ie(typeof E=="boolean",e,"internal-error"),Ii(p,e.name),Ii(m,e.name),Ii(_,e.name),Ii(R,e.name),Ii(y,e.name),Ii(f,e.name);const U=new $s({uid:v,auth:e,email:h,emailVerified:g,displayName:d,isAnonymous:E,photoURL:m,phoneNumber:p,tenantId:_,stsTokenManager:O,createdAt:y,lastLoginAt:f});return T&&Array.isArray(T)&&(U.providerData=T.map(M=>Object.assign({},M))),R&&(U._redirectEventId=R),U}static async _fromIdTokenResponse(e,n,r=!1){const i=new bu;i.updateFromServerResponse(n);const s=new $s({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Sh(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=new Map;function oi(t){mi(t instanceof Function,"Expected a class definition");let e=IS.get(t);return e?(mi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,IS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}QC.type="NONE";const AS=QC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dd(t,e,n){return`firebase:${t}:${e}:${n}`}class na{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Dd(this.userKey,i.apiKey,s),this.fullPersistenceKey=Dd("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?$s._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new na(oi(AS),e,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||oi(AS);const o=Dd(r,e.config.apiKey,e.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=$s._fromJSON(e,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new na(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new na(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(YC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(ek(e))return"Blackberry";if(tk(e))return"Webos";if(O_(e))return"Safari";if((e.includes("chrome/")||XC(e))&&!e.includes("edge/"))return"Chrome";if(ZC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function YC(t=Ot()){return/firefox\//i.test(t)}function O_(t=Ot()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XC(t=Ot()){return/crios\//i.test(t)}function JC(t=Ot()){return/iemobile/i.test(t)}function ZC(t=Ot()){return/android/i.test(t)}function ek(t=Ot()){return/blackberry/i.test(t)}function tk(t=Ot()){return/webos/i.test(t)}function zf(t=Ot()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function x9(t=Ot()){var e;return zf(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function D9(){return qj()&&document.documentMode===10}function nk(t=Ot()){return zf(t)||ZC(t)||tk(t)||ek(t)||/windows phone/i.test(t)||JC(t)}function L9(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rk(t,e=[]){let n;switch(t){case"Browser":n=CS(Ot());break;case"Worker":n=`${CS(Ot())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${po}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O9{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V9(t,e={}){return Ei(t,"GET","/v2/passwordPolicy",ps(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M9=6;class $9{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:M9,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F9{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new kS(this),this.idTokenSubscription=new kS(this),this.beforeStateQueue=new O9(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=WC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=oi(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await na.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ie(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Sh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=p9()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?dt(e):null;return n&&Ie(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Ie(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(oi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await V9(this),n=new $9(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new fo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await N9(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&oi(e)||this._popupRedirectResolver;Ie(n,this,"argument-error"),this.redirectPersistenceManager=await na.create(this,[oi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ie(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ie(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rk(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&c9(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function mo(t){return dt(t)}class kS{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jj(n=>this.observer=n)}get next(){return Ie(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function U9(t){Wf=t}function ik(t){return Wf.loadJS(t)}function j9(){return Wf.recaptchaEnterpriseScript}function B9(){return Wf.gapiScript}function z9(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const W9="recaptcha-enterprise",q9="NO_RECAPTCHA";class H9{constructor(e){this.type=W9,this.auth=mo(e)}async verify(e="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{w9(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new _9(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;RS(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(q9)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&RS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=j9();l.length!==0&&(l+=a),ik(l).then(()=>{i(a,s,o)}).catch(u=>{o(u)})}}).catch(a=>{o(a)})})}}async function PS(t,e,n,r=!1){const i=new H9(t);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ny(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=await PS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(async s=>{if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await PS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G9(t,e){const n=fs(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(ku(s,e??{}))return i;Rr(i,"already-initialized")}return n.initialize({options:e})}function K9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(oi);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function Q9(t,e,n){const r=mo(t);Ie(r._canInitEmulator,r,"emulator-config-failed"),Ie(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=sk(e),{host:o,port:a}=Y9(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),X9()}function sk(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Y9(t){const e=sk(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:bS(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:bS(o)}}}function bS(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function X9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return si("not implemented")}_getIdTokenResponse(e){return si("not implemented")}_linkToIdToken(e,n){return si("not implemented")}_getReauthenticationResolver(e){return si("not implemented")}}async function J9(t,e){return Ei(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Z9(t,e){return dc(t,"POST","/v1/accounts:signInWithPassword",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ez(t,e){return dc(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,e))}async function tz(t,e){return dc(t,"POST","/v1/accounts:signInWithEmailLink",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu extends V_{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Nu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Nu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ny(e,n,"signInWithPassword",Z9);case"emailLink":return ez(e,{email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ny(e,r,"signUpPassword",J9);case"emailLink":return tz(e,{idToken:n,email:this._email,oobCode:this._password});default:Rr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ra(t,e){return dc(t,"POST","/v1/accounts:signInWithIdp",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nz="http://localhost";class Zs extends V_{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Rr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=i_(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new Zs(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return ra(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ra(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ra(e,n)}buildRequest(){const e={requestUri:nz,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=uc(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rz(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function iz(t){const e=bl(Nl(t)).link,n=e?bl(Nl(e)).deep_link_id:null,r=bl(Nl(t)).deep_link_id;return(r?bl(Nl(r)).link:null)||r||n||e||t}class M_{constructor(e){var n,r,i,s,o,a;const l=bl(Nl(e)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=rz((i=l.mode)!==null&&i!==void 0?i:null);Ie(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){const n=iz(e);try{return new M_(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{constructor(){this.providerId=qa.PROVIDER_ID}static credential(e,n){return Nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=M_.parseLink(n);return Ie(r,"argument-error"),Nu._fromEmailAndCode(e,r.code,r.tenantId)}}qa.PROVIDER_ID="password";qa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";qa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ok{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends ok{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends hc{constructor(){super("facebook.com")}static credential(e){return Zs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Oi.credential(e.oauthAccessToken)}catch{return null}}}Oi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Oi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vi extends hc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Zs._fromParams({providerId:Vi.PROVIDER_ID,signInMethod:Vi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Vi.credentialFromTaggedObject(e)}static credentialFromError(e){return Vi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Vi.credential(n,r)}catch{return null}}}Vi.GOOGLE_SIGN_IN_METHOD="google.com";Vi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mi extends hc{constructor(){super("github.com")}static credential(e){return Zs._fromParams({providerId:Mi.PROVIDER_ID,signInMethod:Mi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Mi.credentialFromTaggedObject(e)}static credentialFromError(e){return Mi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Mi.credential(e.oauthAccessToken)}catch{return null}}}Mi.GITHUB_SIGN_IN_METHOD="github.com";Mi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i extends hc{constructor(){super("twitter.com")}static credential(e,n){return Zs._fromParams({providerId:$i.PROVIDER_ID,signInMethod:$i.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return $i.credentialFromTaggedObject(e)}static credentialFromError(e){return $i.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return $i.credential(n,r)}catch{return null}}}$i.TWITTER_SIGN_IN_METHOD="twitter.com";$i.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sz(t,e){return dc(t,"POST","/v1/accounts:signUp",ps(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await $s._fromIdTokenResponse(e,r,i),o=NS(r);return new eo({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=NS(r);return new eo({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function NS(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th extends Mn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Th.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new Th(e,n,r,i)}}function ak(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Th._fromErrorAndOperation(t,s,e,r):s})}async function oz(t,e,n=!1){const r=await Ia(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return eo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function az(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=await Ia(t,ak(r,i,e,t),n);Ie(s.idToken,r,"internal-error");const o=L_(s.idToken);Ie(o,r,"internal-error");const{sub:a}=o;return Ie(t.uid===a,r,"user-mismatch"),eo._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Rr(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lk(t,e,n=!1){const r="signIn",i=await ak(t,r,e),s=await eo._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}async function lz(t,e){return lk(mo(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uk(t){const e=mo(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function uz(t,e,n){const r=mo(t),o=await Ny(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",sz).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&uk(t),l}),a=await eo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function cz(t,e,n){return lz(dt(t),qa.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&uk(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dz(t,e){return Ei(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hz(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=dt(t),s={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},o=await Ia(r,dz(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function fz(t,e,n,r){return dt(t).onIdTokenChanged(e,n,r)}function pz(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}const Rh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Rh,"1"),this.storage.removeItem(Rh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mz(){const t=Ot();return O_(t)||zf(t)}const gz=1e3,yz=10;class dk extends ck{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=mz()&&L9(),this.fallbackToPolling=nk(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);D9()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,yz):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},gz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dk.type="LOCAL";const vz=dk;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hk extends ck{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hk.type="SESSION";const fk=hk;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _z(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new qf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await _z(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}qf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $_(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wz{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=$_("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===u)switch(h.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(h.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function Ez(t){Br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function Sz(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Tz(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function Rz(){return pk()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mk="firebaseLocalStorageDb",Iz=1,Ih="firebaseLocalStorage",gk="fbase_key";class fc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Hf(t,e){return t.transaction([Ih],e?"readwrite":"readonly").objectStore(Ih)}function Az(){const t=indexedDB.deleteDatabase(mk);return new fc(t).toPromise()}function xy(){const t=indexedDB.open(mk,Iz);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Ih,{keyPath:gk})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Ih)?e(r):(r.close(),await Az(),e(await xy()))})})}async function xS(t,e,n){const r=Hf(t,!0).put({[gk]:e,value:n});return new fc(r).toPromise()}async function Cz(t,e){const n=Hf(t,!1).get(e),r=await new fc(n).toPromise();return r===void 0?null:r.value}function DS(t,e){const n=Hf(t,!0).delete(e);return new fc(n).toPromise()}const kz=800,Pz=3;class yk{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await xy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>Pz)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pk()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=qf._getInstance(Rz()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await Sz(),!this.activeServiceWorker)return;this.sender=new wz(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||Tz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await xy();return await xS(e,Rh,"1"),await DS(e,Rh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>xS(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>Cz(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DS(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Hf(i,!1).getAll();return new fc(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),kz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yk.type="LOCAL";const bz=yk;new cc(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nz(t,e){return e?oi(e):(Ie(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F_ extends V_{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ra(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ra(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ra(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function xz(t){return lk(t.auth,new F_(t),t.bypassAuthState)}function Dz(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),az(n,new F_(t),t.bypassAuthState)}async function Lz(t){const{auth:e,user:n}=t;return Ie(n,e,"internal-error"),oz(n,new F_(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vk{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return xz;case"linkViaPopup":case"linkViaRedirect":return Lz;case"reauthViaPopup":case"reauthViaRedirect":return Dz;default:Rr(this.auth,"internal-error")}}resolve(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){mi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oz=new cc(2e3,1e4);class qo extends vk{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,qo.currentPopupAction&&qo.currentPopupAction.cancel(),qo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ie(e,this.auth,"internal-error"),e}async onExecution(){mi(this.filter.length===1,"Popup operations only handle one event");const e=$_();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(jr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(jr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,qo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(jr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Oz.get())};e()}}qo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vz="pendingRedirect",Ld=new Map;class Mz extends vk{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Ld.get(this.auth._key());if(!e){try{const r=await $z(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Ld.set(this.auth._key(),e)}return this.bypassAuthState||Ld.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function $z(t,e){const n=jz(e),r=Uz(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Fz(t,e){Ld.set(t._key(),e)}function Uz(t){return oi(t._redirectPersistence)}function jz(t){return Dd(Vz,t.config.apiKey,t.name)}async function Bz(t,e,n=!1){const r=mo(t),i=Nz(r,e),o=await new Mz(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zz=10*60*1e3;class Wz{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!qz(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!_k(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(jr(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=zz&&this.cachedEventUids.clear(),this.cachedEventUids.has(LS(e))}saveEventToCache(e){this.cachedEventUids.add(LS(e)),this.lastProcessedEventTime=Date.now()}}function LS(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function _k({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function qz(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return _k(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hz(t,e={}){return Ei(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kz=/^https?/;async function Qz(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Hz(t);for(const n of e)try{if(Yz(n))return}catch{}Rr(t,"unauthorized-domain")}function Yz(t){const e=by(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!Kz.test(n))return!1;if(Gz.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xz=new cc(3e4,6e4);function OS(){const t=Br().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Jz(t){return new Promise((e,n)=>{var r,i,s;function o(){OS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OS(),n(jr(t,"network-request-failed"))},timeout:Xz.get()})}if(!((i=(r=Br().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=Br().gapi)===null||s===void 0)&&s.load)o();else{const a=z9("iframefcb");return Br()[a]=()=>{gapi.load?o():n(jr(t,"network-request-failed"))},ik(`${B9()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Od=null,e})}let Od=null;function Zz(t){return Od=Od||Jz(t),Od}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=new cc(5e3,15e3),t3="__/auth/iframe",n3="emulator/auth/iframe",r3={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},i3=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function s3(t){const e=t.config;Ie(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?D_(e,n3):`https://${t.config.authDomain}/${t3}`,r={apiKey:e.apiKey,appName:t.name,v:po},i=i3.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${uc(r).slice(1)}`}async function o3(t){const e=await Zz(t),n=Br().gapi;return Ie(n,t,"internal-error"),e.open({where:document.body,url:s3(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:r3,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=jr(t,"network-request-failed"),a=Br().setTimeout(()=>{s(o)},e3.get());function l(){Br().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a3={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},l3=500,u3=600,c3="_blank",d3="http://localhost";class VS{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function h3(t,e,n,r=l3,i=u3){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},a3),{width:r.toString(),height:i.toString(),top:s,left:o}),u=Ot().toLowerCase();n&&(a=XC(u)?c3:n),YC(u)&&(e=e||d3,l.scrollbars="yes");const c=Object.entries(l).reduce((h,[p,m])=>`${h}${p}=${m},`,"");if(x9(u)&&a!=="_self")return f3(e||"",a),new VS(null);const d=window.open(e||"",a,c);Ie(d,t,"popup-blocked");try{d.focus()}catch{}return new VS(d)}function f3(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const p3="__/auth/handler",m3="emulator/auth/handler",g3=encodeURIComponent("fac");async function MS(t,e,n,r,i,s){Ie(t.config.authDomain,t,"auth-domain-config-required"),Ie(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:po,eventId:i};if(e instanceof ok){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",Xj(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[c,d]of Object.entries({}))o[c]=d}if(e instanceof hc){const c=e.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await t._getAppCheckToken(),u=l?`#${g3}=${encodeURIComponent(l)}`:"";return`${y3(t)}?${uc(a).slice(1)}${u}`}function y3({config:t}){return t.emulator?D_(t,m3):`https://${t.authDomain}/${p3}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bm="webStorageSupport";class v3{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fk,this._completeRedirectFn=Bz,this._overrideRedirectResult=Fz}async _openPopup(e,n,r,i){var s;mi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await MS(e,n,r,by(),i);return h3(e,o,$_())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await MS(e,n,r,by(),i);return Ez(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(mi(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await o3(e),r=new Wz(e);return n.register("authEvent",i=>(Ie(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(bm,{type:bm},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[bm];o!==void 0&&n(!!o),Rr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=Qz(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nk()||O_()||zf()}}const _3=v3;var $S="@firebase/auth",FS="1.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w3{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ie(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E3(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function S3(t){Tr(new ur("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ie(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rk(t)},u=new F9(r,i,s,l);return K9(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Tr(new ur("auth-internal",e=>{const n=mo(e.getProvider("auth").getImmediate());return(r=>new w3(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Dn($S,FS,E3(t)),Dn($S,FS,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T3=5*60,R3=DC("authIdTokenMaxAge")||T3;let US=null;const I3=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>R3)return;const i=n==null?void 0:n.token;US!==i&&(US=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function A3(t=Bf()){const e=fs(t,"auth");if(e.isInitialized())return e.getImmediate();const n=G9(t,{popupRedirectResolver:_3,persistence:[bz,vz,fk]}),r=DC("authTokenSyncURL");if(r){const s=I3(r);pz(n,s,()=>s(n.currentUser)),fz(n,o=>s(o))}const i=bC("auth");return i&&Q9(n,`http://${i}`),n}function C3(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}U9({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=jr("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",C3().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});S3("Browser");var pc=t=>t.type==="checkbox",Ho=t=>t instanceof Date,wn=t=>t==null;const wk=t=>typeof t=="object";var Ft=t=>!wn(t)&&!Array.isArray(t)&&wk(t)&&!Ho(t),k3=t=>Ft(t)&&t.target?pc(t.target)?t.target.checked:t.target.value:t,P3=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,b3=(t,e)=>t.has(P3(e)),N3=t=>{const e=t.constructor&&t.constructor.prototype;return Ft(e)&&e.hasOwnProperty("isPrototypeOf")},U_=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function In(t){let e;const n=Array.isArray(t);if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(U_&&(t instanceof Blob||t instanceof FileList))&&(n||Ft(t)))if(e=n?[]:{},!n&&!N3(t))e=t;else for(const r in t)t.hasOwnProperty(r)&&(e[r]=In(t[r]));else return t;return e}var Ha=t=>Array.isArray(t)?t.filter(Boolean):[],at=t=>t===void 0,ce=(t,e,n)=>{if(!e||!Ft(t))return n;const r=Ha(e.split(/[,[\].]+?/)).reduce((i,s)=>wn(i)?i:i[s],t);return at(r)||r===t?at(t[e])?n:t[e]:r},ni=t=>typeof t=="boolean";const jS={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},tr={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Jr={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},x3=he.createContext(null),D3=()=>he.useContext(x3);var L3=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==tr.all&&(e._proxyFormState[o]=!r||tr.all),t[o]}});return i},Un=t=>Ft(t)&&!Object.keys(t).length,O3=(t,e,n,r)=>{n(t);const{name:i,...s}=t;return Un(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===tr.all)},ir=t=>Array.isArray(t)?t:[t];function Ek(t){const e=he.useRef(t);e.current=t,he.useEffect(()=>{const n=!t.disabled&&e.current.subject&&e.current.subject.subscribe({next:e.current.next});return()=>{n&&n.unsubscribe()}},[t.disabled])}var Or=t=>typeof t=="string",V3=(t,e,n,r,i)=>Or(t)?(r&&e.watch.add(t),ce(n,t,i)):Array.isArray(t)?t.map(s=>(r&&e.watch.add(s),ce(n,s))):(r&&(e.watchAll=!0),n),j_=t=>/^\w*$/.test(t),Sk=t=>Ha(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ot=(t,e,n)=>{let r=-1;const i=j_(e)?[e]:Sk(e),s=i.length,o=s-1;for(;++r<s;){const a=i[r];let l=n;if(r!==o){const u=t[a];l=Ft(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}t[a]=l,t=t[a]}return t},M3=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Ai=()=>{const t=typeof performance>"u"?Date.now():performance.now()*1e3;return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const n=(Math.random()*16+t)%16|0;return(e=="x"?n:n&3|8).toString(16)})},Nm=(t,e,n={})=>n.shouldFocus||at(n.shouldFocus)?n.focusName||`${t}.${at(n.focusIndex)?e:n.focusIndex}.`:"",Dy=t=>({isOnSubmit:!t||t===tr.onSubmit,isOnBlur:t===tr.onBlur,isOnChange:t===tr.onChange,isOnAll:t===tr.all,isOnTouch:t===tr.onTouched}),Ly=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const ia=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const s=ce(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!r)break;if(o.ref&&e(o.ref,o.name)&&!r)break;ia(a,e)}else Ft(a)&&ia(a,e)}}};var Tk=(t,e,n)=>{const r=Ha(ce(t,n));return ot(r,"root",e[n]),ot(t,n,r),t},B_=t=>t.type==="file",Bi=t=>typeof t=="function",Ah=t=>{if(!U_)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},Vd=t=>Or(t),z_=t=>t.type==="radio",Ch=t=>t instanceof RegExp;const BS={value:!1,isValid:!1},zS={value:!0,isValid:!0};var Rk=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!at(t[0].attributes.value)?at(t[0].value)||t[0].value===""?zS:{value:t[0].value,isValid:!0}:zS:BS}return BS};const WS={isValid:!1,value:null};var Ik=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,WS):WS;function qS(t,e,n="validate"){if(Vd(t)||Array.isArray(t)&&t.every(Vd)||ni(t)&&!t)return{type:n,message:Vd(t)?t:"",ref:e}}var Ao=t=>Ft(t)&&!Ch(t)?t:{value:t,message:""},Oy=async(t,e,n,r,i)=>{const{ref:s,refs:o,required:a,maxLength:l,minLength:u,min:c,max:d,pattern:h,validate:p,name:m,valueAsNumber:_,mount:R,disabled:y}=t._f,f=ce(e,m);if(!R||y)return{};const v=o?o[0]:s,g=re=>{r&&v.reportValidity&&(v.setCustomValidity(ni(re)?"":re||""),v.reportValidity())},E={},T=z_(s),I=pc(s),O=T||I,U=(_||B_(s))&&at(s.value)&&at(f)||Ah(s)&&s.value===""||f===""||Array.isArray(f)&&!f.length,M=M3.bind(null,m,n,E),me=(re,J,ge,Re=Jr.maxLength,Be=Jr.minLength)=>{const Ue=re?J:ge;E[m]={type:re?Re:Be,message:Ue,ref:s,...M(re?Re:Be,Ue)}};if(i?!Array.isArray(f)||!f.length:a&&(!O&&(U||wn(f))||ni(f)&&!f||I&&!Rk(o).isValid||T&&!Ik(o).isValid)){const{value:re,message:J}=Vd(a)?{value:!!a,message:a}:Ao(a);if(re&&(E[m]={type:Jr.required,message:J,ref:v,...M(Jr.required,J)},!n))return g(J),E}if(!U&&(!wn(c)||!wn(d))){let re,J;const ge=Ao(d),Re=Ao(c);if(!wn(f)&&!isNaN(f)){const Be=s.valueAsNumber||f&&+f;wn(ge.value)||(re=Be>ge.value),wn(Re.value)||(J=Be<Re.value)}else{const Be=s.valueAsDate||new Date(f),Ue=G=>new Date(new Date().toDateString()+" "+G),W=s.type=="time",oe=s.type=="week";Or(ge.value)&&f&&(re=W?Ue(f)>Ue(ge.value):oe?f>ge.value:Be>new Date(ge.value)),Or(Re.value)&&f&&(J=W?Ue(f)<Ue(Re.value):oe?f<Re.value:Be<new Date(Re.value))}if((re||J)&&(me(!!re,ge.message,Re.message,Jr.max,Jr.min),!n))return g(E[m].message),E}if((l||u)&&!U&&(Or(f)||i&&Array.isArray(f))){const re=Ao(l),J=Ao(u),ge=!wn(re.value)&&f.length>+re.value,Re=!wn(J.value)&&f.length<+J.value;if((ge||Re)&&(me(ge,re.message,J.message),!n))return g(E[m].message),E}if(h&&!U&&Or(f)){const{value:re,message:J}=Ao(h);if(Ch(re)&&!f.match(re)&&(E[m]={type:Jr.pattern,message:J,ref:s,...M(Jr.pattern,J)},!n))return g(J),E}if(p){if(Bi(p)){const re=await p(f,e),J=qS(re,v);if(J&&(E[m]={...J,...M(Jr.validate,J.message)},!n))return g(J.message),E}else if(Ft(p)){let re={};for(const J in p){if(!Un(re)&&!n)break;const ge=qS(await p[J](f,e),v,J);ge&&(re={...ge,...M(J,ge.message)},g(ge.message),n&&(E[m]=re))}if(!Un(re)&&(E[m]={ref:v,...re},!n))return E}}return g(!0),E},xm=(t,e)=>[...t,...ir(e)],Dm=t=>Array.isArray(t)?t.map(()=>{}):void 0;function Lm(t,e,n){return[...t.slice(0,e),...ir(n),...t.slice(e)]}var Om=(t,e,n)=>Array.isArray(t)?(at(t[n])&&(t[n]=void 0),t.splice(n,0,t.splice(e,1)[0]),t):[],Vm=(t,e)=>[...ir(e),...ir(t)];function $3(t,e){let n=0;const r=[...t];for(const i of e)r.splice(i-n,1),n++;return Ha(r).length?r:[]}var Mm=(t,e)=>at(e)?[]:$3(t,ir(e).sort((n,r)=>n-r)),$m=(t,e,n)=>{[t[e],t[n]]=[t[n],t[e]]};function F3(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=at(t)?r++:t[e[r++]];return t}function U3(t){for(const e in t)if(t.hasOwnProperty(e)&&!at(t[e]))return!1;return!0}function Ut(t,e){const n=Array.isArray(e)?e:j_(e)?[e]:Sk(e),r=n.length===1?t:F3(t,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Ft(r)&&Un(r)||Array.isArray(r)&&U3(r))&&Ut(t,n.slice(0,-1)),t}var HS=(t,e,n)=>(t[e]=n,t);function j3(t){const e=D3(),{control:n=e.control,name:r,keyName:i="id",shouldUnregister:s}=t,[o,a]=he.useState(n._getFieldArray(r)),l=he.useRef(n._getFieldArray(r).map(Ai)),u=he.useRef(o),c=he.useRef(r),d=he.useRef(!1);c.current=r,u.current=o,n._names.array.add(r),t.rules&&n.register(r,t.rules),Ek({next:({values:E,name:T})=>{if(T===c.current||!T){const I=ce(E,c.current);Array.isArray(I)&&(a(I),l.current=I.map(Ai))}},subject:n._subjects.array});const h=he.useCallback(E=>{d.current=!0,n._updateFieldArray(r,E)},[n,r]),p=(E,T)=>{const I=ir(In(E)),O=xm(n._getFieldArray(r),I);n._names.focus=Nm(r,O.length-1,T),l.current=xm(l.current,I.map(Ai)),h(O),a(O),n._updateFieldArray(r,O,xm,{argA:Dm(E)})},m=(E,T)=>{const I=ir(In(E)),O=Vm(n._getFieldArray(r),I);n._names.focus=Nm(r,0,T),l.current=Vm(l.current,I.map(Ai)),h(O),a(O),n._updateFieldArray(r,O,Vm,{argA:Dm(E)})},_=E=>{const T=Mm(n._getFieldArray(r),E);l.current=Mm(l.current,E),h(T),a(T),n._updateFieldArray(r,T,Mm,{argA:E})},R=(E,T,I)=>{const O=ir(In(T)),U=Lm(n._getFieldArray(r),E,O);n._names.focus=Nm(r,E,I),l.current=Lm(l.current,E,O.map(Ai)),h(U),a(U),n._updateFieldArray(r,U,Lm,{argA:E,argB:Dm(T)})},y=(E,T)=>{const I=n._getFieldArray(r);$m(I,E,T),$m(l.current,E,T),h(I),a(I),n._updateFieldArray(r,I,$m,{argA:E,argB:T},!1)},f=(E,T)=>{const I=n._getFieldArray(r);Om(I,E,T),Om(l.current,E,T),h(I),a(I),n._updateFieldArray(r,I,Om,{argA:E,argB:T},!1)},v=(E,T)=>{const I=In(T),O=HS(n._getFieldArray(r),E,I);l.current=[...O].map((U,M)=>!U||M===E?Ai():l.current[M]),h(O),a([...O]),n._updateFieldArray(r,O,HS,{argA:E,argB:I},!0,!1)},g=E=>{const T=ir(In(E));l.current=T.map(Ai),h([...T]),a([...T]),n._updateFieldArray(r,[...T],I=>I,{},!0,!1)};return he.useEffect(()=>{if(n._state.action=!1,Ly(r,n._names)&&n._subjects.state.next({...n._formState}),d.current&&(!Dy(n._options.mode).isOnSubmit||n._formState.isSubmitted))if(n._options.resolver)n._executeSchema([r]).then(E=>{const T=ce(E.errors,r),I=ce(n._formState.errors,r);(I?!T&&I.type||T&&(I.type!==T.type||I.message!==T.message):T&&T.type)&&(T?ot(n._formState.errors,r,T):Ut(n._formState.errors,r),n._subjects.state.next({errors:n._formState.errors}))});else{const E=ce(n._fields,r);E&&E._f&&Oy(E,n._formValues,n._options.criteriaMode===tr.all,n._options.shouldUseNativeValidation,!0).then(T=>!Un(T)&&n._subjects.state.next({errors:Tk(n._formState.errors,T,r)}))}n._subjects.values.next({name:r,values:{...n._formValues}}),n._names.focus&&ia(n._fields,(E,T)=>{if(n._names.focus&&T.startsWith(n._names.focus)&&E.focus)return E.focus(),1}),n._names.focus="",n._updateValid(),d.current=!1},[o,r,n]),he.useEffect(()=>(!ce(n._formValues,r)&&n._updateFieldArray(r),()=>{(n._options.shouldUnregister||s)&&n.unregister(r)}),[r,n,i,s]),{swap:he.useCallback(y,[h,r,n]),move:he.useCallback(f,[h,r,n]),prepend:he.useCallback(m,[h,r,n]),append:he.useCallback(p,[h,r,n]),remove:he.useCallback(_,[h,r,n]),insert:he.useCallback(R,[h,r,n]),update:he.useCallback(v,[h,r,n]),replace:he.useCallback(g,[h,r,n]),fields:he.useMemo(()=>o.map((E,T)=>({...E,[i]:l.current[T]||Ai()})),[o,i])}}var Fm=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}},kh=t=>wn(t)||!wk(t);function Ps(t,e){if(kh(t)||kh(e))return t===e;if(Ho(t)&&Ho(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const s=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const o=e[i];if(Ho(s)&&Ho(o)||Ft(s)&&Ft(o)||Array.isArray(s)&&Array.isArray(o)?!Ps(s,o):s!==o)return!1}}return!0}var Ak=t=>t.type==="select-multiple",B3=t=>z_(t)||pc(t),Um=t=>Ah(t)&&t.isConnected,Ck=t=>{for(const e in t)if(Bi(t[e]))return!0;return!1};function Ph(t,e={}){const n=Array.isArray(t);if(Ft(t)||n)for(const r in t)Array.isArray(t[r])||Ft(t[r])&&!Ck(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Ph(t[r],e[r])):wn(t[r])||(e[r]=!0);return e}function kk(t,e,n){const r=Array.isArray(t);if(Ft(t)||r)for(const i in t)Array.isArray(t[i])||Ft(t[i])&&!Ck(t[i])?at(e)||kh(n[i])?n[i]=Array.isArray(t[i])?Ph(t[i],[]):{...Ph(t[i])}:kk(t[i],wn(e)?{}:e[i],n[i]):n[i]=!Ps(t[i],e[i]);return n}var jm=(t,e)=>kk(t,e,Ph(e)),Pk=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>at(t)?t:e?t===""?NaN:t&&+t:n&&Or(t)?new Date(t):r?r(t):t;function Bm(t){const e=t.ref;if(!(t.refs?t.refs.every(n=>n.disabled):e.disabled))return B_(e)?e.files:z_(e)?Ik(t.refs).value:Ak(e)?[...e.selectedOptions].map(({value:n})=>n):pc(e)?Rk(t.refs).value:Pk(at(e.value)?t.ref.value:e.value,t)}var z3=(t,e,n,r)=>{const i={};for(const s of t){const o=ce(e,s);o&&ot(i,s,o._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},_l=t=>at(t)?t:Ch(t)?t.source:Ft(t)?Ch(t.value)?t.value.source:t.value:t,W3=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate);function GS(t,e,n){const r=ce(t,n);if(r||j_(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),o=ce(e,s),a=ce(t,s);if(o&&!Array.isArray(o)&&n!==s)return{name:n};if(a&&a.type)return{name:s,error:a};i.pop()}return{name:n}}var q3=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,H3=(t,e)=>!Ha(ce(t,e)).length&&Ut(t,e);const G3={mode:tr.onSubmit,reValidateMode:tr.onChange,shouldFocusError:!0};function K3(t={},e){let n={...G3,...t},r={submitCount:0,isDirty:!1,isLoading:Bi(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:n.errors||{},disabled:!1},i={},s=Ft(n.defaultValues)||Ft(n.values)?In(n.defaultValues||n.values)||{}:{},o=n.shouldUnregister?{}:In(s),a={action:!1,mount:!1,watch:!1},l={mount:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={values:Fm(),array:Fm(),state:Fm()},p=t.resetOptions&&t.resetOptions.keepDirtyValues,m=Dy(n.mode),_=Dy(n.reValidateMode),R=n.criteriaMode===tr.all,y=S=>x=>{clearTimeout(c),c=setTimeout(S,x)},f=async S=>{if(d.isValid||S){const x=n.resolver?Un((await M()).errors):await re(i,!0);x!==r.isValid&&h.state.next({isValid:x})}},v=S=>d.isValidating&&h.state.next({isValidating:S}),g=(S,x=[],D,se,Q=!0,q=!0)=>{if(se&&D){if(a.action=!0,q&&Array.isArray(ce(i,S))){const we=D(ce(i,S),se.argA,se.argB);Q&&ot(i,S,we)}if(q&&Array.isArray(ce(r.errors,S))){const we=D(ce(r.errors,S),se.argA,se.argB);Q&&ot(r.errors,S,we),H3(r.errors,S)}if(d.touchedFields&&q&&Array.isArray(ce(r.touchedFields,S))){const we=D(ce(r.touchedFields,S),se.argA,se.argB);Q&&ot(r.touchedFields,S,we)}d.dirtyFields&&(r.dirtyFields=jm(s,o)),h.state.next({name:S,isDirty:ge(S,x),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ot(o,S,x)},E=(S,x)=>{ot(r.errors,S,x),h.state.next({errors:r.errors})},T=S=>{r.errors=S,h.state.next({errors:r.errors,isValid:!1})},I=(S,x,D,se)=>{const Q=ce(i,S);if(Q){const q=ce(o,S,at(D)?ce(s,S):D);at(q)||se&&se.defaultChecked||x?ot(o,S,x?q:Bm(Q._f)):Ue(S,q),a.mount&&f()}},O=(S,x,D,se,Q)=>{let q=!1,we=!1;const Ve={name:S},pt=!!(ce(i,S)&&ce(i,S)._f.disabled);if(!D||se){d.isDirty&&(we=r.isDirty,r.isDirty=Ve.isDirty=ge(),q=we!==Ve.isDirty);const gn=pt||Ps(ce(s,S),x);we=!!(!pt&&ce(r.dirtyFields,S)),gn||pt?Ut(r.dirtyFields,S):ot(r.dirtyFields,S,!0),Ve.dirtyFields=r.dirtyFields,q=q||d.dirtyFields&&we!==!gn}if(D){const gn=ce(r.touchedFields,S);gn||(ot(r.touchedFields,S,D),Ve.touchedFields=r.touchedFields,q=q||d.touchedFields&&gn!==D)}return q&&Q&&h.state.next(Ve),q?Ve:{}},U=(S,x,D,se)=>{const Q=ce(r.errors,S),q=d.isValid&&ni(x)&&r.isValid!==x;if(t.delayError&&D?(u=y(()=>E(S,D)),u(t.delayError)):(clearTimeout(c),u=null,D?ot(r.errors,S,D):Ut(r.errors,S)),(D?!Ps(Q,D):Q)||!Un(se)||q){const we={...se,...q&&ni(x)?{isValid:x}:{},errors:r.errors,name:S};r={...r,...we},h.state.next(we)}v(!1)},M=async S=>n.resolver(o,n.context,z3(S||l.mount,i,n.criteriaMode,n.shouldUseNativeValidation)),me=async S=>{const{errors:x}=await M(S);if(S)for(const D of S){const se=ce(x,D);se?ot(r.errors,D,se):Ut(r.errors,D)}else r.errors=x;return x},re=async(S,x,D={valid:!0})=>{for(const se in S){const Q=S[se];if(Q){const{_f:q,...we}=Q;if(q){const Ve=l.array.has(q.name),pt=await Oy(Q,o,R,n.shouldUseNativeValidation&&!x,Ve);if(pt[q.name]&&(D.valid=!1,x))break;!x&&(ce(pt,q.name)?Ve?Tk(r.errors,pt,q.name):ot(r.errors,q.name,pt[q.name]):Ut(r.errors,q.name))}we&&await re(we,x,D)}}return D.valid},J=()=>{for(const S of l.unMount){const x=ce(i,S);x&&(x._f.refs?x._f.refs.every(D=>!Um(D)):!Um(x._f.ref))&&Te(S)}l.unMount=new Set},ge=(S,x)=>(S&&x&&ot(o,S,x),!Ps(B(),s)),Re=(S,x,D)=>V3(S,l,{...a.mount?o:at(x)?s:Or(S)?{[S]:x}:x},D,x),Be=S=>Ha(ce(a.mount?o:s,S,t.shouldUnregister?ce(s,S,[]):[])),Ue=(S,x,D={})=>{const se=ce(i,S);let Q=x;if(se){const q=se._f;q&&(!q.disabled&&ot(o,S,Pk(x,q)),Q=Ah(q.ref)&&wn(x)?"":x,Ak(q.ref)?[...q.ref.options].forEach(we=>we.selected=Q.includes(we.value)):q.refs?pc(q.ref)?q.refs.length>1?q.refs.forEach(we=>(!we.defaultChecked||!we.disabled)&&(we.checked=Array.isArray(Q)?!!Q.find(Ve=>Ve===we.value):Q===we.value)):q.refs[0]&&(q.refs[0].checked=!!Q):q.refs.forEach(we=>we.checked=we.value===Q):B_(q.ref)?q.ref.value="":(q.ref.value=Q,q.ref.type||h.values.next({name:S,values:{...o}})))}(D.shouldDirty||D.shouldTouch)&&O(S,Q,D.shouldTouch,D.shouldDirty,!0),D.shouldValidate&&k(S)},W=(S,x,D)=>{for(const se in x){const Q=x[se],q=`${S}.${se}`,we=ce(i,q);(l.array.has(S)||!kh(Q)||we&&!we._f)&&!Ho(Q)?W(q,Q,D):Ue(q,Q,D)}},oe=(S,x,D={})=>{const se=ce(i,S),Q=l.array.has(S),q=In(x);ot(o,S,q),Q?(h.array.next({name:S,values:{...o}}),(d.isDirty||d.dirtyFields)&&D.shouldDirty&&h.state.next({name:S,dirtyFields:jm(s,o),isDirty:ge(S,q)})):se&&!se._f&&!wn(q)?W(S,q,D):Ue(S,q,D),Ly(S,l)&&h.state.next({...r}),h.values.next({name:S,values:{...o}}),!a.mount&&e()},G=async S=>{const x=S.target;let D=x.name,se=!0;const Q=ce(i,D),q=()=>x.type?Bm(Q._f):k3(S),we=Ve=>{se=Number.isNaN(Ve)||Ve===ce(o,D,Ve)};if(Q){let Ve,pt;const gn=q(),cr=S.type===jS.BLUR||S.type===jS.FOCUS_OUT,el=!W3(Q._f)&&!n.resolver&&!ce(r.errors,D)&&!Q._f.deps||q3(cr,ce(r.touchedFields,D),r.isSubmitted,_,m),Xr=Ly(D,l,cr);ot(o,D,gn),cr?(Q._f.onBlur&&Q._f.onBlur(S),u&&u(0)):Q._f.onChange&&Q._f.onChange(S);const kr=O(D,gn,cr,!1),wo=!Un(kr)||Xr;if(!cr&&h.values.next({name:D,type:S.type,values:{...o}}),el)return d.isValid&&f(),wo&&h.state.next({name:D,...Xr?{}:kr});if(!cr&&Xr&&h.state.next({...r}),v(!0),n.resolver){const{errors:b}=await M([D]);if(we(gn),se){const C=GS(r.errors,i,D),j=GS(b,i,C.name||D);Ve=j.error,D=j.name,pt=Un(b)}}else Ve=(await Oy(Q,o,R,n.shouldUseNativeValidation))[D],we(gn),se&&(Ve?pt=!1:d.isValid&&(pt=await re(i,!0)));se&&(Q._f.deps&&k(Q._f.deps),U(D,pt,Ve,kr))}},ae=(S,x)=>{if(ce(r.errors,x)&&S.focus)return S.focus(),1},k=async(S,x={})=>{let D,se;const Q=ir(S);if(v(!0),n.resolver){const q=await me(at(S)?S:Q);D=Un(q),se=S?!Q.some(we=>ce(q,we)):D}else S?(se=(await Promise.all(Q.map(async q=>{const we=ce(i,q);return await re(we&&we._f?{[q]:we}:we)}))).every(Boolean),!(!se&&!r.isValid)&&f()):se=D=await re(i);return h.state.next({...!Or(S)||d.isValid&&D!==r.isValid?{}:{name:S},...n.resolver||!S?{isValid:D}:{},errors:r.errors,isValidating:!1}),x.shouldFocus&&!se&&ia(i,ae,S?Q:l.mount),se},B=S=>{const x={...s,...a.mount?o:{}};return at(S)?x:Or(S)?ce(x,S):S.map(D=>ce(x,D))},z=(S,x)=>({invalid:!!ce((x||r).errors,S),isDirty:!!ce((x||r).dirtyFields,S),isTouched:!!ce((x||r).touchedFields,S),error:ce((x||r).errors,S)}),ye=S=>{S&&ir(S).forEach(x=>Ut(r.errors,x)),h.state.next({errors:S?r.errors:{}})},X=(S,x,D)=>{const se=(ce(i,S,{_f:{}})._f||{}).ref;ot(r.errors,S,{...x,ref:se}),h.state.next({name:S,errors:r.errors,isValid:!1}),D&&D.shouldFocus&&se&&se.focus&&se.focus()},Se=(S,x)=>Bi(S)?h.values.subscribe({next:D=>S(Re(void 0,x),D)}):Re(S,x,!0),Te=(S,x={})=>{for(const D of S?ir(S):l.mount)l.mount.delete(D),l.array.delete(D),x.keepValue||(Ut(i,D),Ut(o,D)),!x.keepError&&Ut(r.errors,D),!x.keepDirty&&Ut(r.dirtyFields,D),!x.keepTouched&&Ut(r.touchedFields,D),!n.shouldUnregister&&!x.keepDefaultValue&&Ut(s,D);h.values.next({values:{...o}}),h.state.next({...r,...x.keepDirty?{isDirty:ge()}:{}}),!x.keepIsValid&&f()},ie=({disabled:S,name:x,field:D,fields:se,value:Q})=>{if(ni(S)){const q=S?void 0:at(Q)?Bm(D?D._f:ce(se,x)._f):Q;ot(o,x,q),O(x,q,!1,!1,!0)}},Oe=(S,x={})=>{let D=ce(i,S);const se=ni(x.disabled);return ot(i,S,{...D||{},_f:{...D&&D._f?D._f:{ref:{name:S}},name:S,mount:!0,...x}}),l.mount.add(S),D?ie({field:D,disabled:x.disabled,name:S,value:x.value}):I(S,!0,x.value),{...se?{disabled:x.disabled}:{},...n.progressive?{required:!!x.required,min:_l(x.min),max:_l(x.max),minLength:_l(x.minLength),maxLength:_l(x.maxLength),pattern:_l(x.pattern)}:{},name:S,onChange:G,onBlur:G,ref:Q=>{if(Q){Oe(S,x),D=ce(i,S);const q=at(Q.value)&&Q.querySelectorAll&&Q.querySelectorAll("input,select,textarea")[0]||Q,we=B3(q),Ve=D._f.refs||[];if(we?Ve.find(pt=>pt===q):q===D._f.ref)return;ot(i,S,{_f:{...D._f,...we?{refs:[...Ve.filter(Um),q,...Array.isArray(ce(s,S))?[{}]:[]],ref:{type:q.type,name:S}}:{ref:q}}}),I(S,!1,void 0,q)}else D=ce(i,S,{}),D._f&&(D._f.mount=!1),(n.shouldUnregister||x.shouldUnregister)&&!(b3(l.array,S)&&a.action)&&l.unMount.add(S)}}},ze=()=>n.shouldFocusError&&ia(i,ae,l.mount),Ge=S=>{ni(S)&&(h.state.next({disabled:S}),ia(i,(x,D)=>{let se=S;const Q=ce(i,D);Q&&ni(Q._f.disabled)&&(se||(se=Q._f.disabled)),x.disabled=se},0,!1))},We=(S,x)=>async D=>{D&&(D.preventDefault&&D.preventDefault(),D.persist&&D.persist());let se=In(o);if(h.state.next({isSubmitting:!0}),n.resolver){const{errors:Q,values:q}=await M();r.errors=Q,se=q}else await re(i);Ut(r.errors,"root"),Un(r.errors)?(h.state.next({errors:{}}),await S(se,D)):(x&&await x({...r.errors},D),ze(),setTimeout(ze)),h.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Un(r.errors),submitCount:r.submitCount+1,errors:r.errors})},mn=(S,x={})=>{ce(i,S)&&(at(x.defaultValue)?oe(S,ce(s,S)):(oe(S,x.defaultValue),ot(s,S,x.defaultValue)),x.keepTouched||Ut(r.touchedFields,S),x.keepDirty||(Ut(r.dirtyFields,S),r.isDirty=x.defaultValue?ge(S,ce(s,S)):ge()),x.keepError||(Ut(r.errors,S),d.isValid&&f()),h.state.next({...r}))},Yn=(S,x={})=>{const D=S?In(S):s,se=In(D),Q=S&&!Un(S)?se:s;if(x.keepDefaultValues||(s=D),!x.keepValues){if(x.keepDirtyValues||p)for(const q of l.mount)ce(r.dirtyFields,q)?ot(Q,q,ce(o,q)):oe(q,ce(Q,q));else{if(U_&&at(S))for(const q of l.mount){const we=ce(i,q);if(we&&we._f){const Ve=Array.isArray(we._f.refs)?we._f.refs[0]:we._f.ref;if(Ah(Ve)){const pt=Ve.closest("form");if(pt){pt.reset();break}}}}i={}}o=t.shouldUnregister?x.keepDefaultValues?In(s):{}:In(Q),h.array.next({values:{...Q}}),h.values.next({values:{...Q}})}l={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!a.mount&&e(),a.mount=!d.isValid||!!x.keepIsValid,a.watch=!!t.shouldUnregister,h.state.next({submitCount:x.keepSubmitCount?r.submitCount:0,isDirty:x.keepDirty?r.isDirty:!!(x.keepDefaultValues&&!Ps(S,s)),isSubmitted:x.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:x.keepDirtyValues?r.dirtyFields:x.keepDefaultValues&&S?jm(s,S):{},touchedFields:x.keepTouched?r.touchedFields:{},errors:x.keepErrors?r.errors:{},isSubmitSuccessful:x.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1})},Kt=(S,x)=>Yn(Bi(S)?S(o):S,x);return{control:{register:Oe,unregister:Te,getFieldState:z,handleSubmit:We,setError:X,_executeSchema:M,_getWatch:Re,_getDirty:ge,_updateValid:f,_removeUnmounted:J,_updateFieldArray:g,_updateDisabledField:ie,_getFieldArray:Be,_reset:Yn,_resetDefaultValues:()=>Bi(n.defaultValues)&&n.defaultValues().then(S=>{Kt(S,n.resetOptions),h.state.next({isLoading:!1})}),_updateFormState:S=>{r={...r,...S}},_disableForm:Ge,_subjects:h,_proxyFormState:d,_setErrors:T,get _fields(){return i},get _formValues(){return o},get _state(){return a},set _state(S){a=S},get _defaultValues(){return s},get _names(){return l},set _names(S){l=S},get _formState(){return r},set _formState(S){r=S},get _options(){return n},set _options(S){n={...n,...S}}},trigger:k,register:Oe,handleSubmit:We,watch:Se,setValue:oe,getValues:B,reset:Kt,resetField:mn,clearErrors:ye,unregister:Te,setError:X,setFocus:(S,x={})=>{const D=ce(i,S),se=D&&D._f;if(se){const Q=se.refs?se.refs[0]:se.ref;Q.focus&&(Q.focus(),x.shouldSelect&&Q.select())}},getFieldState:z}}function W_(t={}){const e=he.useRef(),n=he.useRef(),[r,i]=he.useState({isDirty:!1,isValidating:!1,isLoading:Bi(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:t.errors||{},disabled:!1,defaultValues:Bi(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...K3(t,()=>i(o=>({...o}))),formState:r});const s=e.current.control;return s._options=t,Ek({subject:s._subjects.state,next:o=>{O3(o,s._proxyFormState,s._updateFormState)&&i({...s._formState})}}),he.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),he.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==r.isDirty&&s._subjects.state.next({isDirty:o})}},[s,r.isDirty]),he.useEffect(()=>{t.values&&!Ps(t.values,n.current)?(s._reset(t.values,s._options.resetOptions),n.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[t.values,s]),he.useEffect(()=>{t.errors&&s._setErrors(t.errors)},[t.errors,s]),he.useEffect(()=>{s._state.mount||(s._updateValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=L3(r,s),e.current}var Q3="firebase",Y3="10.8.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dn(Q3,Y3,"app");const bk="@firebase/installations",q_="0.6.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nk=1e4,xk=`w:${q_}`,Dk="FIS_v2",X3="https://firebaseinstallations.googleapis.com/v1",J3=60*60*1e3,Z3="installations",e6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},to=new fo(Z3,e6,t6);function Lk(t){return t instanceof Mn&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ok({projectId:t}){return`${X3}/projects/${t}/installations`}function Vk(t){return{token:t.token,requestStatus:2,expiresIn:r6(t.expiresIn),creationTime:Date.now()}}async function Mk(t,e){const r=(await e.json()).error;return to.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function $k({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function n6(t,{refreshToken:e}){const n=$k(t);return n.append("Authorization",i6(e)),n}async function Fk(t){const e=await t();return e.status>=500&&e.status<600?t():e}function r6(t){return Number(t.replace("s","000"))}function i6(t){return`${Dk} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function s6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=Ok(t),i=$k(t),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:Dk,appId:t.appId,sdkVersion:xk},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Fk(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:Vk(u.authToken)}}else throw await Mk("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uk(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a6=/^[cdef][\w-]{21}$/,Vy="";function l6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=u6(t);return a6.test(n)?n:Vy}catch{return Vy}}function u6(t){return o6(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jk=new Map;function Bk(t,e){const n=Gf(t);zk(n,e),c6(n,e)}function zk(t,e){const n=jk.get(t);if(n)for(const r of n)r(e)}function c6(t,e){const n=d6();n&&n.postMessage({key:t,fid:e}),h6()}let bs=null;function d6(){return!bs&&"BroadcastChannel"in self&&(bs=new BroadcastChannel("[Firebase] FID Change"),bs.onmessage=t=>{zk(t.data.key,t.data.fid)}),bs}function h6(){jk.size===0&&bs&&(bs.close(),bs=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f6="firebase-installations-database",p6=1,no="firebase-installations-store";let zm=null;function H_(){return zm||(zm=FC(f6,p6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(no)}}})),zm}async function bh(t,e){const n=Gf(t),i=(await H_()).transaction(no,"readwrite"),s=i.objectStore(no),o=await s.get(n);return await s.put(e,n),await i.done,(!o||o.fid!==e.fid)&&Bk(t,e.fid),e}async function Wk(t){const e=Gf(t),r=(await H_()).transaction(no,"readwrite");await r.objectStore(no).delete(e),await r.done}async function Kf(t,e){const n=Gf(t),i=(await H_()).transaction(no,"readwrite"),s=i.objectStore(no),o=await s.get(n),a=e(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&Bk(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function G_(t){let e;const n=await Kf(t.appConfig,r=>{const i=m6(r),s=g6(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===Vy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function m6(t){const e=t||{fid:l6(),registrationStatus:0};return qk(e)}function g6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(to.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=y6(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:v6(t)}:{installationEntry:e}}async function y6(t,e){try{const n=await s6(t,e);return bh(t.appConfig,n)}catch(n){throw Lk(n)&&n.customData.serverCode===409?await Wk(t.appConfig):await bh(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function v6(t){let e=await KS(t.appConfig);for(;e.registrationStatus===1;)await Uk(100),e=await KS(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await G_(t);return r||n}return e}function KS(t){return Kf(t,e=>{if(!e)throw to.create("installation-not-found");return qk(e)})}function qk(t){return _6(t)?{fid:t.fid,registrationStatus:0}:t}function _6(t){return t.registrationStatus===1&&t.registrationTime+Nk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w6({appConfig:t,heartbeatServiceProvider:e},n){const r=E6(t,n),i=n6(t,n),s=e.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:xk,appId:t.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await Fk(()=>fetch(r,a));if(l.ok){const u=await l.json();return Vk(u)}else throw await Mk("Generate Auth Token",l)}function E6(t,{fid:e}){return`${Ok(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K_(t,e=!1){let n;const r=await Kf(t.appConfig,s=>{if(!Hk(s))throw to.create("not-registered");const o=s.authToken;if(!e&&R6(o))return s;if(o.requestStatus===1)return n=S6(t,e),s;{if(!navigator.onLine)throw to.create("app-offline");const a=A6(s);return n=T6(t,a),a}});return n?await n:r.authToken}async function S6(t,e){let n=await QS(t.appConfig);for(;n.authToken.requestStatus===1;)await Uk(100),n=await QS(t.appConfig);const r=n.authToken;return r.requestStatus===0?K_(t,e):r}function QS(t){return Kf(t,e=>{if(!Hk(e))throw to.create("not-registered");const n=e.authToken;return C6(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}async function T6(t,e){try{const n=await w6(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return await bh(t.appConfig,r),n}catch(n){if(Lk(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await Wk(t.appConfig);else{const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});await bh(t.appConfig,r)}throw n}}function Hk(t){return t!==void 0&&t.registrationStatus===2}function R6(t){return t.requestStatus===2&&!I6(t)}function I6(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+J3}function A6(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function C6(t){return t.requestStatus===1&&t.requestTime+Nk<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function k6(t){const e=t,{installationEntry:n,registrationPromise:r}=await G_(e);return r?r.catch(console.error):K_(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function P6(t,e=!1){const n=t;return await b6(n),(await K_(n,e)).token}async function b6(t){const{registrationPromise:e}=await G_(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N6(t){if(!t||!t.options)throw Wm("App Configuration");if(!t.name)throw Wm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Wm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Wm(t){return to.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gk="installations",x6="installations-internal",D6=t=>{const e=t.getProvider("app").getImmediate(),n=N6(e),r=fs(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},L6=t=>{const e=t.getProvider("app").getImmediate(),n=fs(e,Gk).getImmediate();return{getId:()=>k6(n),getToken:i=>P6(n,i)}};function O6(){Tr(new ur(Gk,D6,"PUBLIC")),Tr(new ur(x6,L6,"PRIVATE"))}O6();Dn(bk,q_);Dn(bk,q_,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nh="analytics",V6="firebase_id",M6="origin",$6=60*1e3,F6="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Q_="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ln=new jf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const U6={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},qn=new fo("analytics","Analytics",U6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j6(t){if(!t.startsWith(Q_)){const e=qn.create("invalid-gtag-resource",{gtagURL:t});return Ln.warn(e.message),""}return t}function Kk(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function B6(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function z6(t,e){const n=B6("firebase-js-sdk-policy",{createScriptURL:j6}),r=document.createElement("script"),i=`${Q_}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function W6(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function q6(t,e,n,r,i,s){const o=r[i];try{if(o)await e[o];else{const l=(await Kk(n)).find(u=>u.measurementId===i);l&&await e[l.appId]}}catch(a){Ln.error(a)}t("config",i,s)}async function H6(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await Kk(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&e[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(e)),await Promise.all(s),t("event",r,i||{})}catch(s){Ln.error(s)}}function G6(t,e,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await H6(t,e,n,a,l)}else if(s==="config"){const[a,l]=o;await q6(t,e,n,r,a,l)}else if(s==="consent"){const[a]=o;t("consent","update",a)}else if(s==="get"){const[a,l,u]=o;t("get",a,l,u)}else if(s==="set"){const[a]=o;t("set",a)}else t(s,...o)}catch(a){Ln.error(a)}}return i}function K6(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=G6(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}function Q6(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Q_)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y6=30,X6=1e3;class J6{constructor(e={},n=X6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Qk=new J6;function Z6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function e5(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:Z6(r)},s=F6.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((e=l.error)===null||e===void 0)&&e.message&&(a=l.error.message)}catch{}throw qn.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function t5(t,e=Qk,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw qn.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw qn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new i5;return setTimeout(async()=>{a.abort()},$6),Yk({appId:r,apiKey:i,measurementId:s},o,a,e)}async function Yk(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=Qk){var s;const{appId:o,measurementId:a}=t;try{await n5(r,e)}catch(l){if(a)return Ln.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await e5(t);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!r5(u)){if(i.deleteThrottleMetadata(o),a)return Ln.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?mS(n,i.intervalMillis,Y6):mS(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),Ln.debug(`Calling attemptFetch again in ${c} millis`),Yk(t,d,r,i)}}function n5(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(qn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function r5(t){if(!(t instanceof Mn)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class i5{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function s5(t,e,n,r,i){if(i&&i.global){t("event",n,r);return}else{const s=await e,o=Object.assign(Object.assign({},r),{send_to:s});t("event",n,o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function o5(){if(b_())try{await VC()}catch(t){return Ln.warn(qn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return Ln.warn(qn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function a5(t,e,n,r,i,s,o){var a;const l=t5(t);l.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&Ln.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>Ln.error(p)),e.push(l);const u=o5().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([l,u]);Q6(s)||z6(s,c.measurementId),i("js",new Date);const h=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return h[M6]="firebase",h.update=!0,d!=null&&(h[V6]=d),i("config",c.measurementId,h),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l5{constructor(e){this.app=e}_delete(){return delete Zl[this.app.options.appId],Promise.resolve()}}let Zl={},YS=[];const XS={};let qm="dataLayer",u5="gtag",JS,Xk,ZS=!1;function c5(){const t=[];if(OC()&&t.push("This is a browser extension environment."),Gj()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=qn.create("invalid-analytics-context",{errorInfo:e});Ln.warn(n.message)}}function d5(t,e,n){c5();const r=t.options.appId;if(!r)throw qn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)Ln.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw qn.create("no-api-key");if(Zl[r]!=null)throw qn.create("already-exists",{id:r});if(!ZS){W6(qm);const{wrappedGtag:s,gtagCore:o}=K6(Zl,YS,XS,qm,u5);Xk=s,JS=o,ZS=!0}return Zl[r]=a5(t,YS,XS,e,JS,qm,n),new l5(t)}function h5(t=Bf()){t=dt(t);const e=fs(t,Nh);return e.isInitialized()?e.getImmediate():f5(t)}function f5(t,e={}){const n=fs(t,Nh);if(n.isInitialized()){const i=n.getImmediate();if(ku(e,n.getOptions()))return i;throw qn.create("already-initialized")}return n.initialize({options:e})}function p5(t,e,n,r){t=dt(t),s5(Xk,Zl[t.app.options.appId],e,n,r).catch(i=>Ln.error(i))}const eT="@firebase/analytics",tT="0.10.1";function m5(){Tr(new ur(Nh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return d5(r,i,n)},"PUBLIC")),Tr(new ur("analytics-internal",t,"PRIVATE")),Dn(eT,tT),Dn(eT,tT,"esm2017");function t(e){try{const n=e.getProvider(Nh).getImmediate();return{logEvent:(r,i,s)=>p5(n,r,i,s)}}catch(n){throw qn.create("interop-component-reg-failed",{reason:n})}}}m5();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jk="firebasestorage.googleapis.com",Zk="storageBucket",g5=2*60*1e3,y5=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It extends Mn{constructor(e,n,r=0){super(Hm(e),`Firebase Storage: ${n} (${Hm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,It.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Hm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Tt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Tt||(Tt={}));function Hm(t){return"storage/"+t}function Y_(){const t="An unknown error occurred, please check the error payload for server response.";return new It(Tt.UNKNOWN,t)}function v5(t){return new It(Tt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function _5(t){return new It(Tt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function w5(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new It(Tt.UNAUTHENTICATED,t)}function E5(){return new It(Tt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function S5(t){return new It(Tt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function T5(){return new It(Tt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function R5(){return new It(Tt.CANCELED,"User canceled the upload/download.")}function I5(t){return new It(Tt.INVALID_URL,"Invalid URL '"+t+"'.")}function A5(t){return new It(Tt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function C5(){return new It(Tt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Zk+"' property when initializing the app?")}function k5(){return new It(Tt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function P5(){return new It(Tt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function b5(t){return new It(Tt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function My(t){return new It(Tt.INVALID_ARGUMENT,t)}function eP(){return new It(Tt.APP_DELETED,"The Firebase app was deleted.")}function N5(t){return new It(Tt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function eu(t,e){return new It(Tt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function wl(t){throw new It(Tt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Bn.makeFromUrl(e,n)}catch{return new Bn(e,"")}if(r.path==="")return r;throw A5(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(g){g.path.charAt(g.path.length-1)==="/"&&(g.path_=g.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(g){g.path_=decodeURIComponent(g.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),h="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${h}`,"i"),m={bucket:1,path:3},_=n===Jk?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",y=new RegExp(`^https?://${_}/${i}/${R}`,"i"),v=[{regex:a,indices:l,postModify:s},{regex:p,indices:m,postModify:u},{regex:y,indices:{bucket:1,path:2},postModify:u}];for(let g=0;g<v.length;g++){const E=v[g],T=E.regex.exec(e);if(T){const I=T[E.indices.bucket];let O=T[E.indices.path];O||(O=""),r=new Bn(I,O),E.postModify(r);break}}if(r==null)throw I5(e);return r}}class x5{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D5(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...R){u||(u=!0,e.apply(null,R))}function d(R){i=setTimeout(()=>{i=null,t(p,l())},R)}function h(){s&&clearTimeout(s)}function p(R,...y){if(u){h();return}if(R){h(),c.call(null,R,...y);return}if(l()||o){h(),c.call(null,R,...y);return}r<64&&(r*=2);let v;a===1?(a=2,v=0):v=(r+Math.random())*1e3,d(v)}let m=!1;function _(R){m||(m=!0,h(),!u&&(i!==null?(R||(a=2),clearTimeout(i),d(0)):R||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function L5(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O5(t){return t!==void 0}function V5(t){return typeof t=="object"&&!Array.isArray(t)}function X_(t){return typeof t=="string"||t instanceof String}function nT(t){return J_()&&t instanceof Blob}function J_(){return typeof Blob<"u"}function rT(t,e,n,r){if(r<e)throw My(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw My(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qf(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function tP(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Fs;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(Fs||(Fs={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M5(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $5{constructor(e,n,r,i,s,o,a,l,u,c,d,h=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=h,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,m)=>{this.resolve_=p,this.reject_=m,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Zc(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===Fs.NO_ERROR,l=s.getStatus();if(!a||M5(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===Fs.ABORT;r(!1,new Zc(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new Zc(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());O5(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=Y_();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?eP():R5();o(l)}else{const l=T5();o(l)}};this.canceled_?n(!1,new Zc(!1,null,!0)):this.backoffId_=D5(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&L5(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Zc{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function F5(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function U5(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function j5(t,e){e&&(t["X-Firebase-GMPID"]=e)}function B5(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function z5(t,e,n,r,i,s,o=!0){const a=tP(t.urlParams),l=t.url+a,u=Object.assign({},t.headers);return j5(u,e),F5(u,n),U5(u,s),B5(u,r),new $5(l,t.method,u,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W5(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function q5(...t){const e=W5();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(J_())return new Blob(t);throw new It(Tt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function H5(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G5(t){if(typeof atob>"u")throw b5("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Gm{constructor(e,n){this.data=e,this.contentType=n||null}}function K5(t,e){switch(t){case Vr.RAW:return new Gm(nP(e));case Vr.BASE64:case Vr.BASE64URL:return new Gm(rP(t,e));case Vr.DATA_URL:return new Gm(Y5(e),X5(e))}throw Y_()}function nP(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Q5(t){let e;try{e=decodeURIComponent(t)}catch{throw eu(Vr.DATA_URL,"Malformed data URL.")}return nP(e)}function rP(t,e){switch(t){case Vr.BASE64:{const i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw eu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Vr.BASE64URL:{const i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw eu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=G5(e)}catch(i){throw i.message.includes("polyfill")?i:eu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class iP{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw eu(Vr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=J5(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function Y5(t){const e=new iP(t);return e.base64?rP(Vr.BASE64,e.rest):Q5(e.rest)}function X5(t){return new iP(t).contentType}function J5(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi{constructor(e,n){let r=0,i="";nT(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(nT(this.data_)){const r=this.data_,i=H5(r,e,n);return i===null?null:new Fi(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Fi(r,!0)}}static getBlob(...e){if(J_()){const n=e.map(r=>r instanceof Fi?r.data_:r);return new Fi(q5.apply(null,n))}else{const n=e.map(o=>X_(o)?K5(Vr.RAW,o).data:o.data_);let r=0;n.forEach(o=>{r+=o.byteLength});const i=new Uint8Array(r);let s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new Fi(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t){let e;try{e=JSON.parse(t)}catch{return null}return V5(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function eW(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function oP(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tW(t,e){return e}class vn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||tW}}let ed=null;function nW(t){return!X_(t)||t.length<2?t:oP(t)}function aP(){if(ed)return ed;const t=[];t.push(new vn("bucket")),t.push(new vn("generation")),t.push(new vn("metageneration")),t.push(new vn("name","fullPath",!0));function e(s,o){return nW(o)}const n=new vn("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}const i=new vn("size");return i.xform=r,t.push(i),t.push(new vn("timeCreated")),t.push(new vn("updated")),t.push(new vn("md5Hash",null,!0)),t.push(new vn("cacheControl",null,!0)),t.push(new vn("contentDisposition",null,!0)),t.push(new vn("contentEncoding",null,!0)),t.push(new vn("contentLanguage",null,!0)),t.push(new vn("contentType",null,!0)),t.push(new vn("metadata","customMetadata",!0)),ed=t,ed}function rW(t,e){function n(){const r=t.bucket,i=t.fullPath,s=new Bn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function iW(t,e,n){const r={};r.type="file";const i=n.length;for(let s=0;s<i;s++){const o=n[s];r[o.local]=o.xform(r,e[o.server])}return rW(r,t),r}function lP(t,e,n){const r=sP(e);return r===null?null:iW(t,r,n)}function sW(t,e,n,r){const i=sP(e);if(i===null||!X_(i.downloadTokens))return null;const s=i.downloadTokens;if(s.length===0)return null;const o=encodeURIComponent;return s.split(",").map(u=>{const c=t.bucket,d=t.fullPath,h="/b/"+o(c)+"/o/"+o(d),p=Qf(h,n,r),m=tP({alt:"media",token:u});return p+m})[0]}function oW(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}class Z_{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t){if(!t)throw Y_()}function aW(t,e){function n(r,i){const s=lP(t,i,e);return uP(s!==null),s}return n}function lW(t,e){function n(r,i){const s=lP(t,i,e);return uP(s!==null),sW(s,i,t.host,t._protocol)}return n}function cP(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=E5():i=w5():n.getStatus()===402?i=_5(t.bucket):n.getStatus()===403?i=S5(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function dP(t){const e=cP(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=v5(t.path)),s.serverResponse=i.serverResponse,s}return n}function uW(t,e,n){const r=e.fullServerUrl(),i=Qf(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new Z_(i,s,lW(t,n),o);return a.errorHandler=dP(e),a}function cW(t,e){const n=e.fullServerUrl(),r=Qf(n,t.host,t._protocol),i="DELETE",s=t.maxOperationRetryTime;function o(l,u){}const a=new Z_(r,i,o,s);return a.successCodes=[200,204],a.errorHandler=dP(e),a}function dW(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function hW(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=dW(null,e)),r}function fW(t,e,n,r,i){const s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let v="";for(let g=0;g<2;g++)v=v+Math.random().toString().slice(2);return v}const l=a();o["Content-Type"]="multipart/related; boundary="+l;const u=hW(e,r,i),c=oW(u,n),d="--"+l+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+c+`\r
--`+l+`\r
Content-Type: `+u.contentType+`\r
\r
`,h=`\r
--`+l+"--",p=Fi.getBlob(d,r,h);if(p===null)throw k5();const m={name:u.fullPath},_=Qf(s,t.host,t._protocol),R="POST",y=t.maxUploadRetryTime,f=new Z_(_,R,aW(t,n),y);return f.urlParams=m,f.headers=o,f.body=p.uploadData(),f.errorHandler=cP(e),f}class pW{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Fs.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Fs.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Fs.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw wl("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw wl("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw wl("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw wl("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw wl("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class mW extends pW{initXhr(){this.xhr_.responseType="text"}}function ew(){return new mW}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ro{constructor(e,n){this._service=e,n instanceof Bn?this._location=n:this._location=Bn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new ro(e,n)}get root(){const e=new Bn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return oP(this._location.path)}get storage(){return this._service}get parent(){const e=Z5(this._location.path);if(e===null)return null;const n=new Bn(this._location.bucket,e);return new ro(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw N5(e)}}function gW(t,e,n){t._throwIfRoot("uploadBytes");const r=fW(t.storage,t._location,aP(),new Fi(e,!0),n);return t.storage.makeRequestWithTokens(r,ew).then(i=>({metadata:i,ref:t}))}function yW(t){t._throwIfRoot("getDownloadURL");const e=uW(t.storage,t._location,aP());return t.storage.makeRequestWithTokens(e,ew).then(n=>{if(n===null)throw P5();return n})}function vW(t){t._throwIfRoot("deleteObject");const e=cW(t.storage,t._location);return t.storage.makeRequestWithTokens(e,ew)}function _W(t,e){const n=eW(t._location.path,e),r=new Bn(t._location.bucket,n);return new ro(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wW(t){return/^[A-Za-z]+:\/\//.test(t)}function EW(t,e){return new ro(t,e)}function hP(t,e){if(t instanceof tw){const n=t;if(n._bucket==null)throw C5();const r=new ro(n,n._bucket);return e!=null?hP(r,e):r}else return e!==void 0?_W(t,e):t}function SW(t,e){if(e&&wW(e)){if(t instanceof tw)return EW(t,e);throw My("To use ref(service, url), the first argument must be a Storage instance.")}else return hP(t,e)}function iT(t,e){const n=e==null?void 0:e[Zk];return n==null?null:Bn.makeFromBucketSpec(n,t)}function TW(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:LC(i,t.app.options.projectId))}class tw{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Jk,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=g5,this._maxUploadRetryTime=y5,this._requests=new Set,i!=null?this._bucket=Bn.makeFromBucketSpec(i,this._host):this._bucket=iT(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Bn.makeFromBucketSpec(this._url,e):this._bucket=iT(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){rT("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){rT("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ro(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new x5(eP());{const o=z5(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const sT="@firebase/storage",oT="0.12.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="storage";function RW(t,e,n){return t=dt(t),gW(t,e,n)}function IW(t){return t=dt(t),yW(t)}function AW(t){return t=dt(t),vW(t)}function pP(t,e){return t=dt(t),SW(t,e)}function CW(t=Bf(),e){t=dt(t);const r=fs(t,fP).getImmediate({identifier:e}),i=NC("storage");return i&&kW(r,...i),r}function kW(t,e,n,r={}){TW(t,e,n,r)}function PW(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new tw(n,r,i,e,po)}function bW(){Tr(new ur(fP,PW,"PUBLIC").setMultipleInstances(!0)),Dn(sT,oT,""),Dn(sT,oT,"esm2017")}bW();var NW=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ne,nw=nw||{},Ce=NW||self;function Yf(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Xf(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function xW(t){return Object.prototype.hasOwnProperty.call(t,Km)&&t[Km]||(t[Km]=++DW)}var Km="closure_uid_"+(1e9*Math.random()>>>0),DW=0;function LW(t,e,n){return t.call.apply(t.bind,arguments)}function OW(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function dn(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?dn=LW:dn=OW,dn.apply(null,arguments)}function td(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function Gt(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function ms(){this.s=this.s,this.o=this.o}var VW=0;ms.prototype.s=!1;ms.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),VW!=0)&&xW(this)};ms.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const mP=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function rw(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function aT(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(Yf(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function hn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}hn.prototype.h=function(){this.defaultPrevented=!0};var MW=function(){if(!Ce.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};Ce.addEventListener("test",n,e),Ce.removeEventListener("test",n,e)}catch{}return t}();function xu(t){return/^[\s\xa0]*$/.test(t)}function Jf(){var t=Ce.navigator;return t&&(t=t.userAgent)?t:""}function Lr(t){return Jf().indexOf(t)!=-1}function iw(t){return iw[" "](t),t}iw[" "]=function(){};function $W(t,e){var n=Nq;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var FW=Lr("Opera"),Aa=Lr("Trident")||Lr("MSIE"),gP=Lr("Edge"),$y=gP||Aa,yP=Lr("Gecko")&&!(Jf().toLowerCase().indexOf("webkit")!=-1&&!Lr("Edge"))&&!(Lr("Trident")||Lr("MSIE"))&&!Lr("Edge"),UW=Jf().toLowerCase().indexOf("webkit")!=-1&&!Lr("Edge");function vP(){var t=Ce.document;return t?t.documentMode:void 0}var Fy;e:{var Qm="",Ym=function(){var t=Jf();if(yP)return/rv:([^\);]+)(\)|;)/.exec(t);if(gP)return/Edge\/([\d\.]+)/.exec(t);if(Aa)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(UW)return/WebKit\/(\S+)/.exec(t);if(FW)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ym&&(Qm=Ym?Ym[1]:""),Aa){var Xm=vP();if(Xm!=null&&Xm>parseFloat(Qm)){Fy=String(Xm);break e}}Fy=Qm}var Uy;if(Ce.document&&Aa){var lT=vP();Uy=lT||parseInt(Fy,10)||void 0}else Uy=void 0;var jW=Uy;function Du(t,e){if(hn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(yP){e:{try{iw(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:BW[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Du.$.h.call(this)}}Gt(Du,hn);var BW={2:"touch",3:"pen",4:"mouse"};Du.prototype.h=function(){Du.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Zf="closure_listenable_"+(1e6*Math.random()|0),zW=0;function WW(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++zW,this.fa=this.ia=!1}function ep(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function sw(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function qW(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function _P(t){const e={};for(const n in t)e[n]=t[n];return e}const uT="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function wP(t,e){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(let s=0;s<uT.length;s++)n=uT[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function tp(t){this.src=t,this.g={},this.h=0}tp.prototype.add=function(t,e,n,r,i){var s=t.toString();t=this.g[s],t||(t=this.g[s]=[],this.h++);var o=By(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new WW(e,this.src,s,!!r,i),e.ia=n,t.push(e)),e};function jy(t,e){var n=e.type;if(n in t.g){var r=t.g[n],i=mP(r,e),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(ep(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function By(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}var ow="closure_lm_"+(1e6*Math.random()|0),Jm={};function EP(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)EP(t,e[s],n,r,i);return null}return n=RP(n),t&&t[Zf]?t.O(e,n,Xf(r)?!!r.capture:!!r,i):HW(t,e,n,!1,r,i)}function HW(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Xf(i)?!!i.capture:!!i,a=lw(t);if(a||(t[ow]=a=new tp(t)),n=a.add(e,n,r,o,s),n.proxy)return n;if(r=GW(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)MW||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(TP(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function GW(){function t(n){return e.call(t.src,t.listener,n)}const e=KW;return t}function SP(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)SP(t,e[s],n,r,i);else r=Xf(r)?!!r.capture:!!r,n=RP(n),t&&t[Zf]?(t=t.i,e=String(e).toString(),e in t.g&&(s=t.g[e],n=By(s,n,r,i),-1<n&&(ep(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete t.g[e],t.h--)))):t&&(t=lw(t))&&(e=t.g[e.toString()],t=-1,e&&(t=By(e,n,r,i)),(n=-1<t?e[t]:null)&&aw(n))}function aw(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Zf])jy(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(TP(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=lw(e))?(jy(n,t),n.h==0&&(n.src=null,e[ow]=null)):ep(t)}}}function TP(t){return t in Jm?Jm[t]:Jm[t]="on"+t}function KW(t,e){if(t.fa)t=!0;else{e=new Du(e,this);var n=t.listener,r=t.la||t.src;t.ia&&aw(t),t=n.call(r,e)}return t}function lw(t){return t=t[ow],t instanceof tp?t:null}var Zm="__closure_events_fn_"+(1e9*Math.random()>>>0);function RP(t){return typeof t=="function"?t:(t[Zm]||(t[Zm]=function(e){return t.handleEvent(e)}),t[Zm])}function Ht(){ms.call(this),this.i=new tp(this),this.S=this,this.J=null}Gt(Ht,ms);Ht.prototype[Zf]=!0;Ht.prototype.removeEventListener=function(t,e,n,r){SP(this,t,e,n,r)};function en(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new hn(e,t);else if(e instanceof hn)e.target=e.target||t;else{var i=e;e=new hn(r,t),wP(e,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=nd(o,r,!0,e)&&i}if(o=e.g=t,i=nd(o,r,!0,e)&&i,i=nd(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)o=e.g=n[s],i=nd(o,r,!1,e)&&i}Ht.prototype.N=function(){if(Ht.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)ep(n[r]);delete t.g[e],t.h--}}this.J=null};Ht.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};Ht.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function nd(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&jy(t.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var uw=Ce.JSON.stringify;class QW{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function YW(){var t=cw;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class XW{constructor(){this.h=this.g=null}add(e,n){const r=IP.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var IP=new QW(()=>new JW,t=>t.reset());class JW{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function ZW(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function eq(t){Ce.setTimeout(()=>{throw t},0)}let Lu,Ou=!1,cw=new XW,AP=()=>{const t=Ce.Promise.resolve(void 0);Lu=()=>{t.then(tq)}};var tq=()=>{for(var t;t=YW();){try{t.h.call(t.g)}catch(n){eq(n)}var e=IP;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ou=!1};function np(t,e){Ht.call(this),this.h=t||1,this.g=e||Ce,this.j=dn(this.qb,this),this.l=Date.now()}Gt(np,Ht);ne=np.prototype;ne.ga=!1;ne.T=null;ne.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),en(this,"tick"),this.ga&&(dw(this),this.start()))}};ne.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function dw(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}ne.N=function(){np.$.N.call(this),dw(this),delete this.g};function hw(t,e,n){if(typeof t=="function")n&&(t=dn(t,n));else if(t&&typeof t.handleEvent=="function")t=dn(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:Ce.setTimeout(t,e||0)}function CP(t){t.g=hw(()=>{t.g=null,t.i&&(t.i=!1,CP(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class nq extends ms{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:CP(this)}N(){super.N(),this.g&&(Ce.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Vu(t){ms.call(this),this.h=t,this.g={}}Gt(Vu,ms);var cT=[];function kP(t,e,n,r){Array.isArray(n)||(n&&(cT[0]=n.toString()),n=cT);for(var i=0;i<n.length;i++){var s=EP(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function PP(t){sw(t.g,function(e,n){this.g.hasOwnProperty(n)&&aw(e)},t),t.g={}}Vu.prototype.N=function(){Vu.$.N.call(this),PP(this)};Vu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function rp(){this.g=!0}rp.prototype.Ea=function(){this.g=!1};function rq(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function iq(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+`
`+n+`
`+s+" "+o})}function Go(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+oq(t,n)+(r?" "+r:"")})}function sq(t,e){t.info(function(){return"TIMEOUT: "+e})}rp.prototype.info=function(){};function oq(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return uw(n)}catch{return e}}var go={},dT=null;function ip(){return dT=dT||new Ht}go.Ta="serverreachability";function bP(t){hn.call(this,go.Ta,t)}Gt(bP,hn);function Mu(t){const e=ip();en(e,new bP(e))}go.STAT_EVENT="statevent";function NP(t,e){hn.call(this,go.STAT_EVENT,t),this.stat=e}Gt(NP,hn);function En(t){const e=ip();en(e,new NP(e,t))}go.Ua="timingevent";function xP(t,e){hn.call(this,go.Ua,t),this.size=e}Gt(xP,hn);function mc(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return Ce.setTimeout(function(){t()},e)}var sp={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},DP={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function fw(){}fw.prototype.h=null;function hT(t){return t.h||(t.h=t.i())}function LP(){}var gc={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function pw(){hn.call(this,"d")}Gt(pw,hn);function mw(){hn.call(this,"c")}Gt(mw,hn);var zy;function op(){}Gt(op,fw);op.prototype.g=function(){return new XMLHttpRequest};op.prototype.i=function(){return{}};zy=new op;function yc(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Vu(this),this.P=aq,t=$y?125:void 0,this.V=new np(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new OP}function OP(){this.i=null,this.g="",this.h=!1}var aq=45e3,VP={},Wy={};ne=yc.prototype;ne.setTimeout=function(t){this.P=t};function qy(t,e,n){t.L=1,t.A=lp(gi(e)),t.u=n,t.S=!0,MP(t,null)}function MP(t,e){t.G=Date.now(),vc(t),t.B=gi(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),qP(n.i,"t",r),t.o=0,n=t.l.J,t.h=new OP,t.g=hb(t.l,n?e:null,!t.u),0<t.O&&(t.M=new nq(dn(t.Pa,t,t.g),t.O)),kP(t.U,t.g,"readystatechange",t.nb),e=t.I?_P(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),Mu(),rq(t.j,t.v,t.B,t.m,t.W,t.u)}ne.nb=function(t){t=t.target;const e=this.M;e&&Mr(t)==3?e.l():this.Pa(t)};ne.Pa=function(t){try{if(t==this.g)e:{const c=Mr(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||$y||this.g&&(this.h.h||this.g.ja()||gT(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?Mu(3):Mu(2)),ap(this);var n=this.g.da();this.ca=n;t:if($P(this)){var r=gT(this.g);t="";var i=r.length,s=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ns(this),tu(this);var o="";break t}this.h.i=new Ce.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.length=0,this.h.g+=t,this.o=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,iq(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!xu(a)){var u=a;break t}}u=null}if(n=u)Go(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hy(this,n);else{this.i=!1,this.s=3,En(12),Ns(this),tu(this);break e}}this.S?(FP(this,c,o),$y&&this.i&&c==3&&(kP(this.U,this.V,"tick",this.mb),this.V.start())):(Go(this.j,this.m,o,null),Hy(this,o)),c==4&&Ns(this),this.i&&!this.J&&(c==4?lb(this.l,this):(this.i=!1,vc(this)))}else kq(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.s=3,En(12)):(this.s=0,En(13)),Ns(this),tu(this)}}}catch{}finally{}};function $P(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function FP(t,e,n){let r=!0,i;for(;!t.J&&t.o<n.length;)if(i=lq(t,n),i==Wy){e==4&&(t.s=4,En(14),r=!1),Go(t.j,t.m,null,"[Incomplete Response]");break}else if(i==VP){t.s=4,En(15),Go(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else Go(t.j,t.m,i,null),Hy(t,i);$P(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,En(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ew(e),e.M=!0,En(11))):(Go(t.j,t.m,n,"[Invalid Chunked Response]"),Ns(t),tu(t))}ne.mb=function(){if(this.g){var t=Mr(this.g),e=this.g.ja();this.o<e.length&&(ap(this),FP(this,t,e),this.i&&t!=4&&vc(this))}};function lq(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Wy:(n=Number(e.substring(n,r)),isNaN(n)?VP:(r+=1,r+n>e.length?Wy:(e=e.slice(r,r+n),t.o=r+n,e)))}ne.cancel=function(){this.J=!0,Ns(this)};function vc(t){t.Y=Date.now()+t.P,UP(t,t.P)}function UP(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=mc(dn(t.lb,t),e)}function ap(t){t.C&&(Ce.clearTimeout(t.C),t.C=null)}ne.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(sq(this.j,this.B),this.L!=2&&(Mu(),En(17)),Ns(this),this.s=2,tu(this)):UP(this,this.Y-t)};function tu(t){t.l.H==0||t.J||lb(t.l,t)}function Ns(t){ap(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,dw(t.V),PP(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Hy(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Gy(n.i,t))){if(!t.K&&Gy(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)Lh(n),hp(n);else break e;ww(n),En(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=mc(dn(n.ib,n),6e3));if(1>=KP(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else xs(n,11)}else if((t.K||n.g==t)&&Lh(n),!xu(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let u=i[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const m=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(m){var s=r.i;s.g||m.indexOf("spdy")==-1&&m.indexOf("quic")==-1&&m.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(gw(s,s.h),s.h=null))}if(r.F){const _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,lt(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=t;if(r.wa=db(r,r.J?r.pa:null,r.Y),o.K){QP(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.C&&(ap(a),vc(a)),r.g=o}else ob(r);0<n.j.length&&fp(n)}else u[0]!="stop"&&u[0]!="close"||xs(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?xs(n,7):_w(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}Mu(4)}catch{}}function uq(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Yf(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function cq(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Yf(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function jP(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Yf(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=cq(t),r=uq(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}var BP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dq(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Us(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Us){this.h=t.h,xh(this,t.j),this.s=t.s,this.g=t.g,Dh(this,t.m),this.l=t.l;var e=t.i,n=new $u;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),fT(this,n),this.o=t.o}else t&&(e=String(t).match(BP))?(this.h=!1,xh(this,e[1]||"",!0),this.s=xl(e[2]||""),this.g=xl(e[3]||"",!0),Dh(this,e[4]),this.l=xl(e[5]||"",!0),fT(this,e[6]||"",!0),this.o=xl(e[7]||"")):(this.h=!1,this.i=new $u(null,this.h))}Us.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Dl(e,pT,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Dl(e,pT,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Dl(n,n.charAt(0)=="/"?pq:fq,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Dl(n,gq)),t.join("")};function gi(t){return new Us(t)}function xh(t,e,n){t.j=n?xl(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Dh(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function fT(t,e,n){e instanceof $u?(t.i=e,yq(t.i,t.h)):(n||(e=Dl(e,mq)),t.i=new $u(e,t.h))}function lt(t,e,n){t.i.set(e,n)}function lp(t){return lt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function xl(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Dl(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,hq),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function hq(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var pT=/[#\/\?@]/g,fq=/[#\?:]/g,pq=/[#\?]/g,mq=/[#\?@]/g,gq=/#/g;function $u(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function gs(t){t.g||(t.g=new Map,t.h=0,t.i&&dq(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}ne=$u.prototype;ne.add=function(t,e){gs(this),this.i=null,t=Ga(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function zP(t,e){gs(t),e=Ga(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function WP(t,e){return gs(t),e=Ga(t,e),t.g.has(e)}ne.forEach=function(t,e){gs(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)};ne.ta=function(){gs(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n};ne.Z=function(t){gs(this);let e=[];if(typeof t=="string")WP(this,t)&&(e=e.concat(this.g.get(Ga(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};ne.set=function(t,e){return gs(this),this.i=null,t=Ga(this,t),WP(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};ne.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function qP(t,e,n){zP(t,e),0<n.length&&(t.i=null,t.g.set(Ga(t,e),rw(n)),t.h+=n.length)}ne.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};function Ga(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function yq(t,e){e&&!t.j&&(gs(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(zP(this,r),qP(this,i,n))},t)),t.j=e}var vq=class{constructor(t,e){this.g=t,this.map=e}};function HP(t){this.l=t||_q,Ce.PerformanceNavigationTiming?(t=Ce.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(Ce.g&&Ce.g.Ka&&Ce.g.Ka()&&Ce.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var _q=10;function GP(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function KP(t){return t.h?1:t.g?t.g.size:0}function Gy(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function gw(t,e){t.g?t.g.add(e):t.h=e}function QP(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}HP.prototype.cancel=function(){if(this.i=YP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function YP(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return rw(t.i)}var wq=class{stringify(t){return Ce.JSON.stringify(t,void 0)}parse(t){return Ce.JSON.parse(t,void 0)}};function Eq(){this.g=new wq}function Sq(t,e,n){const r=n||"";try{jP(t,function(i,s){let o=i;Xf(i)&&(o=uw(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Tq(t,e){const n=new rp;if(Ce.Image){const r=new Image;r.onload=td(rd,n,r,"TestLoadImage: loaded",!0,e),r.onerror=td(rd,n,r,"TestLoadImage: error",!1,e),r.onabort=td(rd,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=td(rd,n,r,"TestLoadImage: timeout",!1,e),Ce.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function rd(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function up(t){this.l=t.ec||null,this.j=t.ob||!1}Gt(up,fw);up.prototype.g=function(){return new cp(this.l,this.j)};up.prototype.i=function(t){return function(){return t}}({});function cp(t,e){Ht.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=yw,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Gt(cp,Ht);var yw=0;ne=cp.prototype;ne.open=function(t,e){if(this.readyState!=yw)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Fu(this)};ne.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||Ce).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};ne.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_c(this)),this.readyState=yw};ne.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Fu(this)),this.g&&(this.readyState=3,Fu(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ce.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;XP(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function XP(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}ne.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?_c(this):Fu(this),this.readyState==3&&XP(this)}};ne.Za=function(t){this.g&&(this.response=this.responseText=t,_c(this))};ne.Ya=function(t){this.g&&(this.response=t,_c(this))};ne.ka=function(){this.g&&_c(this)};function _c(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Fu(t)}ne.setRequestHeader=function(t,e){this.v.append(t,e)};ne.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};ne.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Fu(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(cp.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var Rq=Ce.JSON.parse;function Rt(t){Ht.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=JP,this.L=this.M=!1}Gt(Rt,Ht);var JP="",Iq=/^https?$/i,Aq=["POST","PUT"];ne=Rt.prototype;ne.Oa=function(t){this.M=t};ne.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zy.g(),this.C=this.u?hT(this.u):hT(zy),this.g.onreadystatechange=dn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){mT(this,s);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=Ce.FormData&&t instanceof Ce.FormData,!(0<=mP(Aq,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{tb(this),0<this.B&&((this.L=Cq(this.g))?(this.g.timeout=this.B,this.g.ontimeout=dn(this.ua,this)):this.A=hw(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){mT(this,s)}};function Cq(t){return Aa&&typeof t.timeout=="number"&&t.ontimeout!==void 0}ne.ua=function(){typeof nw<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,en(this,"timeout"),this.abort(8))};function mT(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,ZP(t),dp(t)}function ZP(t){t.F||(t.F=!0,en(t,"complete"),en(t,"error"))}ne.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,en(this,"complete"),en(this,"abort"),dp(this))};ne.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),dp(this,!0)),Rt.$.N.call(this)};ne.La=function(){this.s||(this.G||this.v||this.l?eb(this):this.kb())};ne.kb=function(){eb(this)};function eb(t){if(t.h&&typeof nw<"u"&&(!t.C[1]||Mr(t)!=4||t.da()!=2)){if(t.v&&Mr(t)==4)hw(t.La,0,t);else if(en(t,"readystatechange"),Mr(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=o===0){var i=String(t.I).match(BP)[1]||null;!i&&Ce.self&&Ce.self.location&&(i=Ce.self.location.protocol.slice(0,-1)),r=!Iq.test(i?i.toLowerCase():"")}n=r}if(n)en(t,"complete"),en(t,"success");else{t.m=6;try{var s=2<Mr(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",ZP(t)}}finally{dp(t)}}}}function dp(t,e){if(t.g){tb(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||en(t,"ready");try{n.onreadystatechange=r}catch{}}}function tb(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(Ce.clearTimeout(t.A),t.A=null)}ne.isActive=function(){return!!this.g};function Mr(t){return t.g?t.g.readyState:0}ne.da=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}};ne.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ne.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),Rq(e)}};function gT(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case JP:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function kq(t){const e={};t=(t.g&&2<=Mr(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(xu(t[r]))continue;var n=ZW(t[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}qW(e,function(r){return r.join(", ")})}ne.Ia=function(){return this.m};ne.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function nb(t){let e="";return sw(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function vw(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=nb(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):lt(t,e,n))}function El(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function rb(t){this.Ga=0,this.j=[],this.l=new rp,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=El("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=El("baseRetryDelayMs",5e3,t),this.hb=El("retryDelaySeedMs",1e4,t),this.eb=El("forwardChannelMaxRetries",2,t),this.xa=El("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new HP(t&&t.concurrentRequestLimit),this.Ja=new Eq,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ne=rb.prototype;ne.ra=8;ne.H=1;function _w(t){if(ib(t),t.H==3){var e=t.W++,n=gi(t.I);if(lt(n,"SID",t.K),lt(n,"RID",e),lt(n,"TYPE","terminate"),wc(t,n),e=new yc(t,t.l,e),e.L=2,e.A=lp(gi(n)),n=!1,Ce.navigator&&Ce.navigator.sendBeacon)try{n=Ce.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&Ce.Image&&(new Image().src=e.A,n=!0),n||(e.g=hb(e.l,null),e.g.ha(e.A)),e.G=Date.now(),vc(e)}cb(t)}function hp(t){t.g&&(Ew(t),t.g.cancel(),t.g=null)}function ib(t){hp(t),t.u&&(Ce.clearTimeout(t.u),t.u=null),Lh(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&Ce.clearTimeout(t.m),t.m=null)}function fp(t){if(!GP(t.i)&&!t.m){t.m=!0;var e=t.Na;Lu||AP(),Ou||(Lu(),Ou=!0),cw.add(e,t),t.C=0}}function Pq(t,e){return KP(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=mc(dn(t.Na,t,e),ub(t,t.C)),t.C++,!0)}ne.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new yc(this,this.l,t);let s=this.s;if(this.U&&(s?(s=_P(s),wP(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=sb(this,i,e),n=gi(this.I),lt(n,"RID",t),lt(n,"CVER",22),this.F&&lt(n,"X-HTTP-Session-Id",this.F),wc(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(nb(s)))+"&"+e:this.o&&vw(n,this.o,s)),gw(this.i,i),this.bb&&lt(n,"TYPE","init"),this.P?(lt(n,"$req",e),lt(n,"SID","null"),i.aa=!0,qy(i,n,null)):qy(i,n,e),this.H=2}}else this.H==3&&(t?yT(this,t):this.j.length==0||GP(this.i)||yT(this))};function yT(t,e){var n;e?n=e.m:n=t.W++;const r=gi(t.I);lt(r,"SID",t.K),lt(r,"RID",n),lt(r,"AID",t.V),wc(t,r),t.o&&t.s&&vw(r,t.o,t.s),n=new yc(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=sb(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),gw(t.i,n),qy(n,r,e)}function wc(t,e){t.na&&sw(t.na,function(n,r){lt(e,r,n)}),t.h&&jP({},function(n,r){lt(e,r,n)})}function sb(t,e,n){n=Math.min(t.j.length,n);var r=t.h?dn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{Sq(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function ob(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Lu||AP(),Ou||(Lu(),Ou=!0),cw.add(e,t),t.A=0}}function ww(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=mc(dn(t.Ma,t),ub(t,t.A)),t.A++,!0)}ne.Ma=function(){if(this.u=null,ab(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=mc(dn(this.jb,this),t)}};ne.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,En(10),hp(this),ab(this))};function Ew(t){t.B!=null&&(Ce.clearTimeout(t.B),t.B=null)}function ab(t){t.g=new yc(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=gi(t.wa);lt(e,"RID","rpc"),lt(e,"SID",t.K),lt(e,"AID",t.V),lt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&lt(e,"TO",t.qa),lt(e,"TYPE","xmlhttp"),wc(t,e),t.o&&t.s&&vw(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=lp(gi(e)),n.u=null,n.S=!0,MP(n,t)}ne.ib=function(){this.v!=null&&(this.v=null,hp(this),ww(this),En(19))};function Lh(t){t.v!=null&&(Ce.clearTimeout(t.v),t.v=null)}function lb(t,e){var n=null;if(t.g==e){Lh(t),Ew(t),t.g=null;var r=2}else if(Gy(t.i,e))n=e.F,QP(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var i=t.C;r=ip(),en(r,new xP(r,n)),fp(t)}else ob(t);else if(i=e.s,i==3||i==0&&0<e.ca||!(r==1&&Pq(t,e)||r==2&&ww(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:xs(t,5);break;case 4:xs(t,10);break;case 3:xs(t,6);break;default:xs(t,2)}}}function ub(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function xs(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=dn(t.pb,t);n||(n=new Us("//www.google.com/images/cleardot.gif"),Ce.location&&Ce.location.protocol=="http"||xh(n,"https"),lp(n)),Tq(n.toString(),r)}else En(2);t.H=0,t.h&&t.h.za(e),cb(t),ib(t)}ne.pb=function(t){t?(this.l.info("Successfully pinged google.com"),En(2)):(this.l.info("Failed to ping google.com"),En(1))};function cb(t){if(t.H=0,t.ma=[],t.h){const e=YP(t.i);(e.length!=0||t.j.length!=0)&&(aT(t.ma,e),aT(t.ma,t.j),t.i.i.length=0,rw(t.j),t.j.length=0),t.h.ya()}}function db(t,e,n){var r=n instanceof Us?gi(n):new Us(n);if(r.g!="")e&&(r.g=e+"."+r.g),Dh(r,r.m);else{var i=Ce.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new Us(null);r&&xh(s,r),e&&(s.g=e),i&&Dh(s,i),n&&(s.l=n),r=s}return n=t.F,e=t.Da,n&&e&&lt(r,n,e),lt(r,"VER",t.ra),wc(t,r),r}function hb(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new Rt(new up({ob:n})):new Rt(t.va),e.Oa(t.J),e}ne.isActive=function(){return!!this.h&&this.h.isActive(this)};function fb(){}ne=fb.prototype;ne.Ba=function(){};ne.Aa=function(){};ne.za=function(){};ne.ya=function(){};ne.isActive=function(){return!0};ne.Va=function(){};function Oh(){if(Aa&&!(10<=Number(jW)))throw Error("Environmental error: no available transport.")}Oh.prototype.g=function(t,e){return new Gn(t,e)};function Gn(t,e){Ht.call(this),this.g=new rb(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!xu(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!xu(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ka(this)}Gt(Gn,Ht);Gn.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;En(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=db(t,null,t.Y),fp(t)};Gn.prototype.close=function(){_w(this.g)};Gn.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=uw(t),t=n);e.j.push(new vq(e.fb++,t)),e.H==3&&fp(e)};Gn.prototype.N=function(){this.g.h=null,delete this.j,_w(this.g),delete this.g,Gn.$.N.call(this)};function pb(t){pw.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Gt(pb,pw);function mb(){mw.call(this),this.status=1}Gt(mb,mw);function Ka(t){this.g=t}Gt(Ka,fb);Ka.prototype.Ba=function(){en(this.g,"a")};Ka.prototype.Aa=function(t){en(this.g,new pb(t))};Ka.prototype.za=function(t){en(this.g,new mb)};Ka.prototype.ya=function(){en(this.g,"b")};function bq(){this.blockSize=-1}function Ir(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Gt(Ir,bq);Ir.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function eg(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var s=t.g[3],o=e+(s^n&(i^s))+r[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[1]+3905402710&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[5]+1200080426&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[9]+2336552879&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(s^n&(i^s))+r[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=s+(i^e&(n^i))+r[13]+4254626195&4294967295,s=e+(o<<12&4294967295|o>>>20),o=i+(n^s&(e^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(e^i&(s^e))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^s&(n^i))+r[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[6]+3225465664&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[10]+38016083&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[14]+3275163606&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^s&(n^i))+r[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(e^n))+r[2]+4243563512&4294967295,s=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(s^e))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^e&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^s)+r[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[8]+2272392833&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[4]+1272893353&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[0]+3936430074&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^s)+r[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=s+(e^n^i)+r[12]+3873151461&4294967295,s=e+(o<<11&4294967295|o>>>21),o=i+(s^e^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^e)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~s))+r[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[7]+1126891415&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[3]+2399980690&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[15]+4264355552&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~s))+r[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=s+(n^(e|~i))+r[11]+3174756917&4294967295,s=e+(o<<10&4294967295|o>>>22),o=i+(e^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}Ir.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(i==0)for(;s<=n;)eg(this,t,s),s+=this.blockSize;if(typeof t=="string"){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){eg(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){eg(this,r),i=0;break}}this.h=i,this.i+=e};Ir.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function Je(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=t[i]|0;r&&s==e||(n[i]=s,r=!1)}this.g=n}var Nq={};function Sw(t){return-128<=t&&128>t?$W(t,function(e){return new Je([e|0],0>e?-1:0)}):new Je([t|0],0>t?-1:0)}function $r(t){if(isNaN(t)||!isFinite(t))return sa;if(0>t)return Xt($r(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Ky;return new Je(e,0)}function gb(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Xt(gb(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=$r(Math.pow(e,8)),r=sa,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=$r(Math.pow(e,s)),r=r.R(s).add($r(o))):(r=r.R(n),r=r.add($r(o)))}return r}var Ky=4294967296,sa=Sw(0),Qy=Sw(1),vT=Sw(16777216);ne=Je.prototype;ne.ea=function(){if(nr(this))return-Xt(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Ky+r)*e,e*=Ky}return t};ne.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(ai(this))return"0";if(nr(this))return"-"+Xt(this).toString(t);for(var e=$r(Math.pow(t,6)),n=this,r="";;){var i=Mh(n,e).g;n=Vh(n,i.R(e));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,ai(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};ne.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function ai(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function nr(t){return t.h==-1}ne.X=function(t){return t=Vh(this,t),nr(t)?-1:ai(t)?0:1};function Xt(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Je(n,~t.h).add(Qy)}ne.abs=function(){return nr(this)?Xt(this):this};ne.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(this.D(i)&65535)+(t.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Je(n,n[n.length-1]&-2147483648?-1:0)};function Vh(t,e){return t.add(Xt(e))}ne.R=function(t){if(ai(this)||ai(t))return sa;if(nr(this))return nr(t)?Xt(this).R(Xt(t)):Xt(Xt(this).R(t));if(nr(t))return Xt(this.R(Xt(t)));if(0>this.X(vT)&&0>t.X(vT))return $r(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=t.D(i)>>>16,l=t.D(i)&65535;n[2*r+2*i]+=o*l,id(n,2*r+2*i),n[2*r+2*i+1]+=s*l,id(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,id(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,id(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Je(n,0)};function id(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Sl(t,e){this.g=t,this.h=e}function Mh(t,e){if(ai(e))throw Error("division by zero");if(ai(t))return new Sl(sa,sa);if(nr(t))return e=Mh(Xt(t),e),new Sl(Xt(e.g),Xt(e.h));if(nr(e))return e=Mh(t,Xt(e)),new Sl(Xt(e.g),e.h);if(30<t.g.length){if(nr(t)||nr(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Qy,r=e;0>=r.X(t);)n=_T(n),r=_T(r);var i=Co(n,1),s=Co(r,1);for(r=Co(r,2),n=Co(n,2);!ai(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Co(r,1),n=Co(n,1)}return e=Vh(t,i.R(e)),new Sl(i,e)}for(i=sa;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=$r(n),o=s.R(e);nr(o)||0<o.X(t);)n-=r,s=$r(n),o=s.R(e);ai(s)&&(s=Qy),i=i.add(s),t=Vh(t,o)}return new Sl(i,t)}ne.gb=function(t){return Mh(this,t).h};ne.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Je(n,this.h&t.h)};ne.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Je(n,this.h|t.h)};ne.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Je(n,this.h^t.h)};function _T(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Je(n,t.h)}function Co(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Je(i,t.h)}Oh.prototype.createWebChannel=Oh.prototype.g;Gn.prototype.send=Gn.prototype.u;Gn.prototype.open=Gn.prototype.m;Gn.prototype.close=Gn.prototype.close;sp.NO_ERROR=0;sp.TIMEOUT=8;sp.HTTP_ERROR=6;DP.COMPLETE="complete";LP.EventType=gc;gc.OPEN="a";gc.CLOSE="b";gc.ERROR="c";gc.MESSAGE="d";Ht.prototype.listen=Ht.prototype.O;Rt.prototype.listenOnce=Rt.prototype.P;Rt.prototype.getLastError=Rt.prototype.Sa;Rt.prototype.getLastErrorCode=Rt.prototype.Ia;Rt.prototype.getStatus=Rt.prototype.da;Rt.prototype.getResponseJson=Rt.prototype.Wa;Rt.prototype.getResponseText=Rt.prototype.ja;Rt.prototype.send=Rt.prototype.ha;Rt.prototype.setWithCredentials=Rt.prototype.Oa;Ir.prototype.digest=Ir.prototype.l;Ir.prototype.reset=Ir.prototype.reset;Ir.prototype.update=Ir.prototype.j;Je.prototype.add=Je.prototype.add;Je.prototype.multiply=Je.prototype.R;Je.prototype.modulo=Je.prototype.gb;Je.prototype.compare=Je.prototype.X;Je.prototype.toNumber=Je.prototype.ea;Je.prototype.toString=Je.prototype.toString;Je.prototype.getBits=Je.prototype.D;Je.fromNumber=$r;Je.fromString=gb;var xq=function(){return new Oh},Dq=function(){return ip()},tg=sp,Lq=DP,Oq=go,wT={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},sd=LP,Vq=Rt,Mq=Ir,oa=Je;const ET="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ln.UNAUTHENTICATED=new ln(null),ln.GOOGLE_CREDENTIALS=new ln("google-credentials-uid"),ln.FIRST_PARTY=new ln("first-party-uid"),ln.MOCK_USER=new ln("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qa="10.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const io=new jf("@firebase/firestore");function Tl(){return io.logLevel}function te(t,...e){if(io.logLevel<=je.DEBUG){const n=e.map(Tw);io.debug(`Firestore (${Qa}): ${t}`,...n)}}function Hr(t,...e){if(io.logLevel<=je.ERROR){const n=e.map(Tw);io.error(`Firestore (${Qa}): ${t}`,...n)}}function Ca(t,...e){if(io.logLevel<=je.WARN){const n=e.map(Tw);io.warn(`Firestore (${Qa}): ${t}`,...n)}}function Tw(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ae(t="Unexpected state"){const e=`FIRESTORE (${Qa}) INTERNAL ASSERTION FAILED: `+t;throw Hr(e),new Error(e)}function rt(t,e){t||Ae()}function Ne(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Y extends Mn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class $q{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ln.UNAUTHENTICATED))}shutdown(){}}class Fq{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class Uq{constructor(e){this.t=e,this.currentUser=ln.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new zr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new zr,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{te("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(te("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new zr)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(te("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(rt(typeof r.accessToken=="string"),new yb(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return rt(e===null||typeof e=="string"),new ln(e)}}class jq{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ln.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class Bq{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new jq(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ln.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class zq{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Wq{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=s=>{s.error!=null&&te("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,te("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{te("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):te("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(rt(typeof n.token=="string"),this.R=n.token,new zq(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qq(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=qq(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}}function Qe(t,e){return t<e?-1:t>e?1:0}function ka(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Y(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Y(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Y(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Y(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return $t.fromMillis(Date.now())}static fromDate(e){return $t.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new $t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qe(this.nanoseconds,e.nanoseconds):Qe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ke{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ke(e)}static min(){return new ke(new $t(0,0))}static max(){return new ke(new $t(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu{constructor(e,n,r){n===void 0?n=0:n>e.length&&Ae(),r===void 0?r=e.length-n:r>e.length-n&&Ae(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Uu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Uu?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class tt extends Uu{construct(e,n,r){return new tt(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Y(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new tt(n)}static emptyPath(){return new tt([])}}const Hq=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Jt extends Uu{construct(e,n,r){return new Jt(e,n,r)}static isValidIdentifier(e){return Hq.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Jt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Jt(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Y(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Y(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Y(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Y(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Jt(n)}static emptyPath(){return new Jt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.path=e}static fromPath(e){return new _e(tt.fromString(e))}static fromName(e){return new _e(tt.fromString(e).popFirst(5))}static empty(){return new _e(tt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&tt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return tt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new _e(new tt(e.slice()))}}function Gq(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ke.fromTimestamp(r===1e9?new $t(n+1,0):new $t(n,r));return new is(i,_e.empty(),e)}function Kq(t){return new is(t.readTime,t.key,-1)}class is{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new is(ke.min(),_e.empty(),-1)}static max(){return new is(ke.max(),_e.empty(),-1)}}function Qq(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=_e.comparator(t.documentKey,e.documentKey),n!==0?n:Qe(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yq="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Xq{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ec(t){if(t.code!==L.FAILED_PRECONDITION||t.message!==Yq)throw t;te("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Ae(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof $?n:$.resolve(n)}catch(n){return $.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):$.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):$.reject(n)}static resolve(e){return new $((n,r)=>{n(e)})}static reject(e){return new $((n,r)=>{r(e)})}static waitFor(e){return new $((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=$.resolve(!1);for(const r of e)n=n.next(i=>i?$.resolve(i):r());return n}static forEach(e,n){const r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(e[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(e,n){return new $((r,i)=>{const s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rw{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new zr,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new nu(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const i=Iw(r.target.error);this.V.reject(new nu(e,i))}}static open(e,n,r,i){try{return new Rw(n,e.transaction(i,r))}catch(s){throw new nu(n,s)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(te("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new Zq(n)}}class Ds{constructor(e,n,r){this.name=e,this.version=n,this.p=r,Ds.S(Ot())===12.2&&Hr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return te("SimpleDb","Removing database:",e),Ts(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!b_())return!1;if(Ds.C())return!0;const e=Ot(),n=Ds.S(e),r=0<n&&n<10,i=Ds.v(e),s=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||s)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(te("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const i=indexedDB.open(this.name,this.version);i.onsuccess=s=>{const o=s.target.result;n(o)},i.onblocked=()=>{r(new nu(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=s=>{const o=s.target.error;o.name==="VersionError"?r(new Y(L.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):o.name==="InvalidStateError"?r(new Y(L.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+o)):r(new nu(e,o))},i.onupgradeneeded=s=>{te("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',s.oldVersion);const o=s.target.result;this.p.N(o,i.transaction,s.oldVersion,this.version).next(()=>{te("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.B&&(this.db.onversionchange=n=>this.B(n)),this.db}L(e){this.B=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,i){const s=n==="readonly";let o=0;for(;;){++o;try{this.db=await this.O(e);const a=Rw.open(this.db,e,s?"readonly":"readwrite",r),l=i(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),$.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&o<3;if(te("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class Jq{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return Ts(this.k.delete())}}class nu extends Y{constructor(e,n){super(L.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Sc(t){return t.name==="IndexedDbTransactionError"}class Zq{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(te("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(te("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),Ts(r)}add(e){return te("SimpleDb","ADD",this.store.name,e,e),Ts(this.store.add(e))}get(e){return Ts(this.store.get(e)).next(n=>(n===void 0&&(n=null),te("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return te("SimpleDb","DELETE",this.store.name,e),Ts(this.store.delete(e))}count(){return te("SimpleDb","COUNT",this.store.name),Ts(this.store.count())}W(e,n){const r=this.options(e,n),i=r.index?this.store.index(r.index):this.store;if(typeof i.getAll=="function"){const s=i.getAll(r.range);return new $((o,a)=>{s.onerror=l=>{a(l.target.error)},s.onsuccess=l=>{o(l.target.result)}})}{const s=this.cursor(r),o=[];return this.G(s,(a,l)=>{o.push(l)}).next(()=>o)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new $((i,s)=>{r.onerror=o=>{s(o.target.error)},r.onsuccess=o=>{i(o.target.result)}})}H(e,n){te("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const i=this.cursor(r);return this.G(i,(s,o,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const i=this.cursor(r);return this.G(i,n)}Z(e){const n=this.cursor({});return new $((r,i)=>{n.onerror=s=>{const o=Iw(s.target.error);i(o)},n.onsuccess=s=>{const o=s.target.result;o?e(o.primaryKey,o.value).next(a=>{a?o.continue():r()}):r()}})}G(e,n){const r=[];return new $((i,s)=>{e.onerror=o=>{s(o.target.error)},e.onsuccess=o=>{const a=o.target.result;if(!a)return void i();const l=new Jq(a),u=n(a.primaryKey,a.value,l);if(u instanceof $){const c=u.catch(d=>(l.done(),$.reject(d)));r.push(c)}l.isDone?i():l.$===null?a.continue():a.continue(l.$)}}).next(()=>$.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function Ts(t){return new $((e,n)=>{t.onsuccess=r=>{const i=r.target.result;e(i)},t.onerror=r=>{const i=Iw(r.target.error);n(i)}})}let ST=!1;function Iw(t){const e=Ds.S(Ot());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new Y("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return ST||(ST=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aw{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Aw._e=-1;function pp(t){return t==null}function $h(t){return t===0&&1/t==-1/0}function eH(t){return typeof t=="number"&&Number.isInteger(t)&&!$h(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TT(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function yo(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function _b(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _t{constructor(e,n){this.comparator=e,this.root=n||Yt.EMPTY}insert(e,n){return new _t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Yt.BLACK,null,null))}remove(e){return new _t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new od(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new od(this.root,e,this.comparator,!1)}getReverseIterator(){return new od(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new od(this.root,e,this.comparator,!0)}}class od{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yt{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Yt.RED,this.left=i??Yt.EMPTY,this.right=s??Yt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Yt(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return Yt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ae();const e=this.left.check();if(e!==this.right.check())throw Ae();return e+(this.isRed()?0:1)}}Yt.EMPTY=null,Yt.RED=!0,Yt.BLACK=!1;Yt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ae()}get value(){throw Ae()}get color(){throw Ae()}get left(){throw Ae()}get right(){throw Ae()}copy(e,n,r,i,s){return this}insert(e,n,r){return new Yt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e){this.comparator=e,this.data=new _t(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new RT(this.data.getIterator())}getIteratorFrom(e){return new RT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof tn)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new tn(this.comparator);return n.data=e,n}}class RT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(e){this.fields=e,e.sort(Jt.comparator)}static empty(){return new zn([])}unionWith(e){let n=new tn(Jt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new zn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ka(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new wb("Invalid base64 string: "+s):s}}(e);return new pn(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new pn(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pn.EMPTY_BYTE_STRING=new pn("");const tH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ss(t){if(rt(!!t),typeof t=="string"){let e=0;const n=tH.exec(t);if(rt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Nt(t.seconds),nanos:Nt(t.nanos)}}function Nt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function so(t){return typeof t=="string"?pn.fromBase64String(t):pn.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mp(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Cw(t){const e=t.mapValue.fields.__previous_value__;return mp(e)?Cw(e):e}function ju(t){const e=ss(t.mapValue.fields.__local_write_time__.timestampValue);return new $t(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nH{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class Bu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ad={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function oo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?mp(t)?4:rH(t)?9007199254740991:10:Ae()}function Gr(t,e){if(t===e)return!0;const n=oo(t);if(n!==oo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ju(t).isEqual(ju(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ss(i.timestampValue),a=ss(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return so(i.bytesValue).isEqual(so(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Nt(i.geoPointValue.latitude)===Nt(s.geoPointValue.latitude)&&Nt(i.geoPointValue.longitude)===Nt(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Nt(i.integerValue)===Nt(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=Nt(i.doubleValue),a=Nt(s.doubleValue);return o===a?$h(o)===$h(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return ka(t.arrayValue.values||[],e.arrayValue.values||[],Gr);case 10:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(TT(o)!==TT(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Gr(o[l],a[l])))return!1;return!0}(t,e);default:return Ae()}}function zu(t,e){return(t.values||[]).find(n=>Gr(n,e))!==void 0}function Pa(t,e){if(t===e)return 0;const n=oo(t),r=oo(e);if(n!==r)return Qe(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Qe(t.booleanValue,e.booleanValue);case 2:return function(s,o){const a=Nt(s.integerValue||s.doubleValue),l=Nt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return IT(t.timestampValue,e.timestampValue);case 4:return IT(ju(t),ju(e));case 5:return Qe(t.stringValue,e.stringValue);case 6:return function(s,o){const a=so(s),l=so(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Qe(a[u],l[u]);if(c!==0)return c}return Qe(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){const a=Qe(Nt(s.latitude),Nt(o.latitude));return a!==0?a:Qe(Nt(s.longitude),Nt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(s,o){const a=s.values||[],l=o.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Pa(a[u],l[u]);if(c)return c}return Qe(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(s,o){if(s===ad.mapValue&&o===ad.mapValue)return 0;if(s===ad.mapValue)return 1;if(o===ad.mapValue)return-1;const a=s.fields||{},l=Object.keys(a),u=o.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Qe(l[d],c[d]);if(h!==0)return h;const p=Pa(a[l[d]],u[c[d]]);if(p!==0)return p}return Qe(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Ae()}}function IT(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Qe(t,e);const n=ss(t),r=ss(e),i=Qe(n.seconds,r.seconds);return i!==0?i:Qe(n.nanos,r.nanos)}function ba(t){return Yy(t)}function Yy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=ss(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return so(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return _e.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(const s of n.values||[])i?i=!1:r+=",",r+=Yy(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${Yy(n.fields[o])}`;return i+"}"}(t.mapValue):Ae()}function Fh(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Xy(t){return!!t&&"integerValue"in t}function kw(t){return!!t&&"arrayValue"in t}function AT(t){return!!t&&"nullValue"in t}function CT(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Md(t){return!!t&&"mapValue"in t}function ru(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return yo(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ru(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ru(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rH(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cn{constructor(e){this.value=e}static empty(){return new Cn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Md(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(n)}setAll(e){let n=Jt.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=ru(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){const n=this.field(e.popLast());Md(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Gr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Md(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){yo(n,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new Cn(ru(this.value))}}function Eb(t){const e=[];return yo(t.fields,(n,r)=>{const i=new Jt([n]);if(Md(r)){const s=Eb(r.mapValue).fields;if(s.length===0)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new zn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cn{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new cn(e,0,ke.min(),ke.min(),ke.min(),Cn.empty(),0)}static newFoundDocument(e,n,r,i){return new cn(e,1,n,ke.min(),r,i,0)}static newNoDocument(e,n){return new cn(e,2,n,ke.min(),ke.min(),Cn.empty(),0)}static newUnknownDocument(e,n){return new cn(e,3,n,ke.min(),ke.min(),Cn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ke.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ke.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Na{constructor(e,n){this.position=e,this.inclusive=n}}function kT(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const s=e[i],o=t.position[i];if(s.field.isKeyField()?r=_e.comparator(_e.fromName(o.referenceValue),n.key):r=Pa(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function PT(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Gr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wu{constructor(e,n="asc"){this.field=e,this.dir=n}}function iH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sb{}class Lt extends Sb{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oH(e,n,r):n==="array-contains"?new uH(e,r):n==="in"?new cH(e,r):n==="not-in"?new dH(e,r):n==="array-contains-any"?new hH(e,r):new Lt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aH(e,r):new lH(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Pa(n,this.value)):n!==null&&oo(this.value)===oo(n)&&this.matchesComparison(Pa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ae()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends Sb{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new Ar(e,n)}matches(e){return Tb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function Tb(t){return t.op==="and"}function Rb(t){return sH(t)&&Tb(t)}function sH(t){for(const e of t.filters)if(e instanceof Ar)return!1;return!0}function Jy(t){if(t instanceof Lt)return t.field.canonicalString()+t.op.toString()+ba(t.value);if(Rb(t))return t.filters.map(e=>Jy(e)).join(",");{const e=t.filters.map(n=>Jy(n)).join(",");return`${t.op}(${e})`}}function Ib(t,e){return t instanceof Lt?function(r,i){return i instanceof Lt&&r.op===i.op&&r.field.isEqual(i.field)&&Gr(r.value,i.value)}(t,e):t instanceof Ar?function(r,i){return i instanceof Ar&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&Ib(o,i.filters[a]),!0):!1}(t,e):void Ae()}function Ab(t){return t instanceof Lt?function(n){return`${n.field.canonicalString()} ${n.op} ${ba(n.value)}`}(t):t instanceof Ar?function(n){return n.op.toString()+" {"+n.getFilters().map(Ab).join(" ,")+"}"}(t):"Filter"}class oH extends Lt{constructor(e,n,r){super(e,n,r),this.key=_e.fromName(r.referenceValue)}matches(e){const n=_e.comparator(e.key,this.key);return this.matchesComparison(n)}}class aH extends Lt{constructor(e,n){super(e,"in",n),this.keys=Cb("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class lH extends Lt{constructor(e,n){super(e,"not-in",n),this.keys=Cb("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Cb(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>_e.fromName(r.referenceValue))}class uH extends Lt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return kw(n)&&zu(n.arrayValue,this.value)}}class cH extends Lt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&zu(this.value.arrayValue,n)}}class dH extends Lt{constructor(e,n){super(e,"not-in",n)}matches(e){if(zu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!zu(this.value.arrayValue,n)}}class hH extends Lt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!kw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>zu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fH{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ce=null}}function bT(t,e=null,n=[],r=[],i=null,s=null,o=null){return new fH(t,e,n,r,i,s,o)}function Pw(t){const e=Ne(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Jy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),pp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ba(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ba(r)).join(",")),e.ce=n}return e.ce}function bw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!iH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Ib(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!PT(t.startAt,e.startAt)&&PT(t.endAt,e.endAt)}function Zy(t){return _e.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vo{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function pH(t,e,n,r,i,s,o,a){return new vo(t,e,n,r,i,s,o,a)}function Nw(t){return new vo(t)}function NT(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xw(t){return t.collectionGroup!==null}function aa(t){const e=Ne(t);if(e.le===null){e.le=[];const n=new Set;for(const s of e.explicitOrderBy)e.le.push(s),n.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new tn(Jt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.le.push(new Wu(s,r))}),n.has(Jt.keyField().canonicalString())||e.le.push(new Wu(Jt.keyField(),r))}return e.le}function Wr(t){const e=Ne(t);return e.he||(e.he=mH(e,aa(t))),e.he}function mH(t,e){if(t.limitType==="F")return bT(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Wu(i.field,s)});const n=t.endAt?new Na(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Na(t.startAt.position,t.startAt.inclusive):null;return bT(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function ev(t,e){const n=t.filters.concat([e]);return new vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Uh(t,e,n){return new vo(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function gp(t,e){return bw(Wr(t),Wr(e))&&t.limitType===e.limitType}function kb(t){return`${Pw(Wr(t))}|lt:${t.limitType}`}function ko(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>Ab(i)).join(", ")}]`),pp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ba(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ba(i)).join(",")),`Target(${r})`}(Wr(t))}; limitType=${t.limitType})`}function yp(t,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):_e.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(const s of aa(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){const u=kT(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,aa(r),i)||r.endAt&&!function(o,a,l){const u=kT(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,aa(r),i))}(t,e)}function gH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Pb(t){return(e,n)=>{let r=!1;for(const i of aa(t)){const s=yH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function yH(t,e,n){const r=t.field.isKeyField()?_e.comparator(e.key,n.key):function(s,o,a){const l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Pa(l,u):Ae()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ae()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ya{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yo(this.inner,(n,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return _b(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vH=new _t(_e.comparator);function yi(){return vH}const bb=new _t(_e.comparator);function Ll(...t){let e=bb;for(const n of t)e=e.insert(n.key,n);return e}function Nb(t){let e=bb;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ls(){return iu()}function xb(){return iu()}function iu(){return new Ya(t=>t.toString(),(t,e)=>t.isEqual(e))}const _H=new _t(_e.comparator),wH=new tn(_e.comparator);function $e(...t){let e=wH;for(const n of t)e=e.add(n);return e}const EH=new tn(Qe);function SH(){return EH}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Db(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$h(e)?"-0":e}}function Lb(t){return{integerValue:""+t}}function TH(t,e){return eH(e)?Lb(e):Db(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this._=void 0}}function RH(t,e,n){return t instanceof jh?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&mp(s)&&(s=Cw(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof qu?Vb(t,e):t instanceof Hu?Mb(t,e):function(i,s){const o=Ob(i,s),a=xT(o)+xT(i.Ie);return Xy(o)&&Xy(i.Ie)?Lb(a):Db(i.serializer,a)}(t,e)}function IH(t,e,n){return t instanceof qu?Vb(t,e):t instanceof Hu?Mb(t,e):n}function Ob(t,e){return t instanceof Bh?function(r){return Xy(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class jh extends vp{}class qu extends vp{constructor(e){super(),this.elements=e}}function Vb(t,e){const n=$b(e);for(const r of t.elements)n.some(i=>Gr(i,r))||n.push(r);return{arrayValue:{values:n}}}class Hu extends vp{constructor(e){super(),this.elements=e}}function Mb(t,e){let n=$b(e);for(const r of t.elements)n=n.filter(i=>!Gr(i,r));return{arrayValue:{values:n}}}class Bh extends vp{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function xT(t){return Nt(t.integerValue||t.doubleValue)}function $b(t){return kw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function AH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof qu&&i instanceof qu||r instanceof Hu&&i instanceof Hu?ka(r.elements,i.elements,Gr):r instanceof Bh&&i instanceof Bh?Gr(r.Ie,i.Ie):r instanceof jh&&i instanceof jh}(t.transform,e.transform)}class CH{constructor(e,n){this.version=e,this.transformResults=n}}class Er{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Er}static exists(e){return new Er(void 0,e)}static updateTime(e){return new Er(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function $d(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class _p{}function Fb(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dw(t.key,Er.none()):new Tc(t.key,t.data,Er.none());{const n=t.data,r=Cn.empty();let i=new tn(Jt.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new ys(t.key,r,new zn(i.toArray()),Er.none())}}function kH(t,e,n){t instanceof Tc?function(i,s,o){const a=i.value.clone(),l=LT(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof ys?function(i,s,o){if(!$d(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=LT(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(Ub(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function su(t,e,n,r){return t instanceof Tc?function(s,o,a,l){if(!$d(s.precondition,o))return a;const u=s.value.clone(),c=OT(s.fieldTransforms,l,o);return u.setAll(c),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof ys?function(s,o,a,l){if(!$d(s.precondition,o))return a;const u=OT(s.fieldTransforms,l,o),c=o.data;return c.setAll(Ub(s)),c.setAll(u),o.convertToFoundDocument(o.version,c).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(s,o,a){return $d(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function PH(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),s=Ob(r.transform,i||null);s!=null&&(n===null&&(n=Cn.empty()),n.set(r.field,s))}return n||null}function DT(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ka(r,i,(s,o)=>AH(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Tc extends _p{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ys extends _p{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function Ub(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function LT(t,e,n){const r=new Map;rt(t.length===n.length);for(let i=0;i<n.length;i++){const s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,IH(o,a,n[i]))}return r}function OT(t,e,n){const r=new Map;for(const i of t){const s=i.transform,o=n.data.field(i.field);r.set(i.field,RH(s,o,e))}return r}class Dw extends _p{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bH extends _p{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NH{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&kH(s,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=su(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=xb();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=Fb(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ke.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),$e())}isEqual(e){return this.batchId===e.batchId&&ka(this.mutations,e.mutations,(n,r)=>DT(n,r))&&ka(this.baseMutations,e.baseMutations,(n,r)=>DT(n,r))}}class Lw{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){rt(e.mutations.length===r.length);let i=function(){return _H}();const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new Lw(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xH{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DH{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pt,qe;function LH(t){switch(t){default:return Ae();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0}}function jb(t){if(t===void 0)return Hr("GRPC error has no .code"),L.UNKNOWN;switch(t){case Pt.OK:return L.OK;case Pt.CANCELLED:return L.CANCELLED;case Pt.UNKNOWN:return L.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return L.INTERNAL;case Pt.UNAVAILABLE:return L.UNAVAILABLE;case Pt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case Pt.NOT_FOUND:return L.NOT_FOUND;case Pt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case Pt.ABORTED:return L.ABORTED;case Pt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case Pt.DATA_LOSS:return L.DATA_LOSS;default:return Ae()}}(qe=Pt||(Pt={}))[qe.OK=0]="OK",qe[qe.CANCELLED=1]="CANCELLED",qe[qe.UNKNOWN=2]="UNKNOWN",qe[qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",qe[qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",qe[qe.NOT_FOUND=5]="NOT_FOUND",qe[qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",qe[qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",qe[qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",qe[qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",qe[qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",qe[qe.ABORTED=10]="ABORTED",qe[qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",qe[qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",qe[qe.INTERNAL=13]="INTERNAL",qe[qe.UNAVAILABLE=14]="UNAVAILABLE",qe[qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OH(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH=new oa([4294967295,4294967295],0);function VT(t){const e=OH().encode(t),n=new Mq;return n.update(e),new Uint8Array(n.digest())}function MT(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new oa([n,r],0),new oa([i,s],0)]}class Ow{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ol(`Invalid padding: ${n}`);if(r<0)throw new Ol(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ol(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ol(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=oa.fromNumber(this.Te)}de(e,n,r){let i=e.add(n.multiply(oa.fromNumber(r)));return i.compare(VH)===1&&(i=new oa([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=VT(e),[r,i]=MT(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);if(!this.Ae(o))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new Ow(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Te===0)return;const n=VT(e),[r,i]=MT(n);for(let s=0;s<this.hashCount;s++){const o=this.de(r,i,s);this.Re(o)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ol extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wp{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,Rc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new wp(ke.min(),i,new _t(Qe),yi(),$e())}}class Rc{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Rc(r,n,$e(),$e(),$e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fd{constructor(e,n,r,i){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=i}}class Bb{constructor(e,n){this.targetId=e,this.fe=n}}class zb{constructor(e,n,r=pn.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class $T{constructor(){this.ge=0,this.pe=UT(),this.ye=pn.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=$e(),n=$e(),r=$e();return this.pe.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Ae()}}),new Rc(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=UT()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,rt(this.ge>=0)}Be(){this.Se=!0,this.we=!0}}class MH{constructor(e){this.Le=e,this.ke=new Map,this.qe=yi(),this.Qe=FT(),this.Ke=new _t(Qe)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Be(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:Ae()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,i)=>{this.je(i)&&n(i)})}Je(e){const n=e.targetId,r=e.fe.count,i=this.Ye(n);if(i){const s=i.target;if(Zy(s))if(r===0){const o=new _e(s.path);this.We(n,o,cn.newNoDocument(o,ke.min()))}else rt(r===1);else{const o=this.Ze(n);if(o!==r){const a=this.Xe(e),l=a?this.et(a,e,o):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n;let o,a;try{o=so(r).toUint8Array()}catch(l){if(l instanceof wb)return Ca("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ow(o,i,s)}catch(l){return Ca(l instanceof Ol?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(n,s,null),i++)}),i}it(e){const n=new Map;this.ke.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&Zy(a.target)){const l=new _e(a.target.path);this.qe.get(l)!==null||this.st(o,l)||this.We(o,l,cn.newNoDocument(l,e))}s.De&&(n.set(o,s.ve()),s.Fe())}});let r=$e();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.qe.forEach((s,o)=>o.setReadTime(e));const i=new wp(e,n,this.Ke,this.qe,r);return this.qe=yi(),this.Qe=FT(),this.Ke=new _t(Qe),i}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const i=this.ze(e);this.st(e,n)?i.Me(n,1):i.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new $T,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new tn(Qe),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||te("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Le._t(e)}He(e){this.ke.set(e,new $T),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function FT(){return new _t(_e.comparator)}function UT(){return new _t(_e.comparator)}const $H={asc:"ASCENDING",desc:"DESCENDING"},FH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},UH={and:"AND",or:"OR"};class jH{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function tv(t,e){return t.useProto3Json||pp(e)?e:{value:e}}function zh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Wb(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BH(t,e){return zh(t,e.toTimestamp())}function qr(t){return rt(!!t),ke.fromTimestamp(function(n){const r=ss(n);return new $t(r.seconds,r.nanos)}(t))}function Vw(t,e){return nv(t,e).canonicalString()}function nv(t,e){const n=function(i){return new tt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qb(t){const e=tt.fromString(t);return rt(Yb(e)),e}function rv(t,e){return Vw(t.databaseId,e.path)}function ng(t,e){const n=qb(e);if(n.get(1)!==t.databaseId.projectId)throw new Y(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Y(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new _e(Gb(n))}function Hb(t,e){return Vw(t.databaseId,e)}function zH(t){const e=qb(t);return e.length===4?tt.emptyPath():Gb(e)}function iv(t){return new tt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Gb(t){return rt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function jT(t,e,n){return{name:rv(t,e),fields:n.value.mapValue.fields}}function WH(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Ae()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(rt(c===void 0||typeof c=="string"),pn.fromBase64String(c||"")):(rt(c===void 0||c instanceof Uint8Array),pn.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const c=u.code===void 0?L.UNKNOWN:jb(u.code);return new Y(c,u.message||"")}(o);n=new zb(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=ng(t,r.document.name),s=qr(r.document.updateTime),o=r.document.createTime?qr(r.document.createTime):ke.min(),a=new Cn({mapValue:{fields:r.document.fields}}),l=cn.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new Fd(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=ng(t,r.document),s=r.readTime?qr(r.readTime):ke.min(),o=cn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new Fd([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=ng(t,r.document),s=r.removedTargetIds||[];n=new Fd([],s,i,null)}else{if(!("filter"in e))return Ae();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new DH(i,s),a=r.targetId;n=new Bb(a,o)}}return n}function qH(t,e){let n;if(e instanceof Tc)n={update:jT(t,e.key,e.value)};else if(e instanceof Dw)n={delete:rv(t,e.key)};else if(e instanceof ys)n={update:jT(t,e.key,e.data),updateMask:e8(e.fieldMask)};else{if(!(e instanceof bH))return Ae();n={verify:rv(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof jh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof qu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Hu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Bh)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw Ae()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:BH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Ae()}(t,e.precondition)),n}function HH(t,e){return t&&t.length>0?(rt(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?qr(i.updateTime):qr(s);return o.isEqual(ke.min())&&(o=qr(s)),new CH(o,i.transformResults||[])}(n,e))):[]}function GH(t,e){return{documents:[Hb(t,e.path)]}}function KH(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Hb(t,i);const s=function(u){if(u.length!==0)return Qb(Ar.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);const o=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Po(h.field),direction:XH(h.dir)}}(c))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=tv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:i}}function QH(t){let e=zH(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){rt(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];n.where&&(s=function(d){const h=Kb(d);return h instanceof Ar&&Rb(h)?h.getFilters():[h]}(n.where));let o=[];n.orderBy&&(o=function(d){return d.map(h=>function(m){return new Wu(bo(m.field),function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(m.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,pp(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new Na(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new Na(p,h)}(n.endAt)),pH(e,i,o,s,a,"F",l,u)}function YH(t,e){const n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ae()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Kb(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=bo(n.unaryFilter.field);return Lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=bo(n.unaryFilter.field);return Lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=bo(n.unaryFilter.field);return Lt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=bo(n.unaryFilter.field);return Lt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ae()}}(t):t.fieldFilter!==void 0?function(n){return Lt.create(bo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ae()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Ar.create(n.compositeFilter.filters.map(r=>Kb(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ae()}}(n.compositeFilter.op))}(t):Ae()}function XH(t){return $H[t]}function JH(t){return FH[t]}function ZH(t){return UH[t]}function Po(t){return{fieldPath:t.canonicalString()}}function bo(t){return Jt.fromServerFormat(t.fieldPath)}function Qb(t){return t instanceof Lt?function(n){if(n.op==="=="){if(CT(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NAN"}};if(AT(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(CT(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NAN"}};if(AT(n.value))return{unaryFilter:{field:Po(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Po(n.field),op:JH(n.op),value:n.value}}}(t):t instanceof Ar?function(n){const r=n.getFilters().map(i=>Qb(i));return r.length===1?r[0]:{compositeFilter:{op:ZH(n.op),filters:r}}}(t):Ae()}function e8(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Yb(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n,r,i,s=ke.min(),o=ke.min(),a=pn.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new zi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new zi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t8{constructor(e){this.ct=e}}function n8(t){const e=QH({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Uh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r8{constructor(){this._n=new i8}addToCollectionParentIndex(e,n){return this._n.add(n),$.resolve()}getCollectionParents(e,n){return $.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return $.resolve()}deleteFieldIndex(e,n){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,n){return $.resolve()}getDocumentsMatchingTarget(e,n){return $.resolve(null)}getIndexType(e,n){return $.resolve(0)}getFieldIndexes(e,n){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,n){return $.resolve(is.min())}getMinOffsetFromCollectionGroup(e,n){return $.resolve(is.min())}updateCollectionGroup(e,n,r){return $.resolve()}updateIndexEntries(e,n){return $.resolve()}}class i8{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new tn(tt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new tn(tt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xa{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new xa(0)}static Bn(){return new xa(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s8{constructor(){this.changes=new Ya(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?$.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o8{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class a8{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&su(r.mutation,i,zn.empty(),$t.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,$e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=$e()){const i=Ls();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Ll();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=Ls();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,$e()))}populateOverlays(e,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=yi();const o=iu(),a=function(){return iu()}();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof ys)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),su(c.mutation,u,c.mutation.getFieldMask(),$t.now())):o.set(u.key,zn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new o8(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=iu();let i=new _t((o,a)=>o-a),s=$e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||zn.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||$e()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=xb();c.forEach(h=>{if(!s.has(h)){const p=Fb(n.get(h),r.get(h));p!==null&&d.set(h,p),s=s.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,d))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return _e.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):$.resolve(Ls());let a=-1,l=s;return o.next(u=>$.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?$.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,$e())).next(c=>({batchId:a,changes:Nb(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new _e(n)).next(r=>{let i=Ll();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const s=n.collectionGroup;let o=Ll();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,l=>{const u=function(d,h){return new vo(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(c=>{c.forEach((d,h)=>{o=o.insert(d,h)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{const c=u.getKey();o.get(c)===null&&(o=o.insert(c,cn.newInvalidDocument(c)))});let a=Ll();return o.forEach((l,u)=>{const c=s.get(l);c!==void 0&&su(c.mutation,u,zn.empty(),$t.now()),yp(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l8{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return $.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:qr(i.createTime)}}(n)),$.resolve()}getNamedQuery(e,n){return $.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(i){return{name:i.name,query:n8(i.bundledQuery),readTime:qr(i.readTime)}}(n)),$.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{constructor(){this.overlays=new _t(_e.comparator),this.hr=new Map}getOverlay(e,n){return $.resolve(this.overlays.get(n))}getOverlays(e,n){const r=Ls();return $.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),$.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.hr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.hr.delete(r)),$.resolve()}getOverlaysForCollection(e,n,r){const i=Ls(),s=n.length+1,o=new _e(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return $.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new _t((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Ls(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Ls(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return $.resolve(a)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.hr.get(i.largestBatchId).delete(r.key);this.hr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new xH(n,r));let s=this.hr.get(n);s===void 0&&(s=$e(),this.hr.set(n,s)),this.hr.set(n,s.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(){this.Pr=new tn(jt.Ir),this.Tr=new tn(jt.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new jt(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new jt(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new _e(new tt([])),r=new jt(n,e),i=new jt(n,e+1),s=[];return this.Tr.forEachInRange([r,i],o=>{this.Ar(o),s.push(o.key)}),s}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new _e(new tt([])),r=new jt(n,e),i=new jt(n,e+1);let s=$e();return this.Tr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const n=new jt(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class jt{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return _e.comparator(e.key,n.key)||Qe(e.pr,n.pr)}static Er(e,n){return Qe(e.pr,n.pr)||_e.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c8{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new tn(jt.Ir)}checkEmpty(e){return $.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const s=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new NH(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.wr=this.wr.add(new jt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,n){return $.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.br(r),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new jt(n,0),i=new jt(n,Number.POSITIVE_INFINITY),s=[];return this.wr.forEachInRange([r,i],o=>{const a=this.Sr(o.pr);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new tn(Qe);return n.forEach(i=>{const s=new jt(i,0),o=new jt(i,Number.POSITIVE_INFINITY);this.wr.forEachInRange([s,o],a=>{r=r.add(a.pr)})}),$.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let s=r;_e.isDocumentKey(s)||(s=s.child(""));const o=new jt(new _e(s),0);let a=new tn(Qe);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.pr)),!0)},o),$.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const i=this.Sr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){rt(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return $.forEach(n.mutations,i=>{const s=new jt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new jt(n,0),i=this.wr.firstAfterOrEqual(r);return $.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d8{constructor(e){this.vr=e,this.docs=function(){return new _t(_e.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return $.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(n))}getEntries(e,n){let r=yi();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():cn.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=yi();const o=n.path,a=new _e(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Qq(Kq(c),r)<=0||(i.has(c.key)||yp(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,n,r,i){Ae()}Fr(e,n){return $.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new h8(this)}getSize(e){return $.resolve(this.size)}}class h8 extends s8{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.ar.addEntry(e,i)):this.ar.removeEntry(r)}),$.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e){this.persistence=e,this.Mr=new Ya(n=>Pw(n),bw),this.lastRemoteSnapshotVersion=ke.min(),this.highestTargetId=0,this.Or=0,this.Nr=new Mw,this.targetCount=0,this.Br=xa.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,i)=>n(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),$.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new xa(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,$.resolve()}updateTargetData(e,n){return this.qn(n),$.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,n,r){let i=0;const s=[];return this.Mr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return $.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),$.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),$.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return $.resolve(r)}containsKey(e,n){return $.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p8{constructor(e,n){this.Lr={},this.overlays={},this.kr=new Aw(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new f8(this),this.indexManager=new r8,this.remoteDocumentCache=function(i){return new d8(i)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new t8(n),this.$r=new l8(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new u8,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Lr[e.toKey()];return r||(r=new c8(n,this.referenceDelegate),this.Lr[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){te("MemoryPersistence","Starting transaction:",e);const i=new m8(this.kr.next());return this.referenceDelegate.Ur(),r(i).next(s=>this.referenceDelegate.Wr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gr(e,n){return $.or(Object.values(this.Lr).map(r=>()=>r.containsKey(e,n)))}}class m8 extends Xq{constructor(e){super(),this.currentSequenceNumber=e}}class $w{constructor(e){this.persistence=e,this.zr=new Mw,this.jr=null}static Hr(e){return new $w(e)}get Jr(){if(this.jr)return this.jr;throw Ae()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),$.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),$.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(i=>this.Jr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Jr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.Jr,r=>{const i=_e.fromPath(r);return this.Yr(e,i).next(s=>{s||n.removeEntry(i,ke.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return $.or([()=>$.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=i}static Ki(e,n){let r=$e(),i=$e();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Fw(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g8{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y8{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return Hj()?8:Ds.v(Ot())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,i){const s={result:null};return this.ji(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Hi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new g8;return this.Ji(e,n,o).next(a=>{if(s.result=a,this.Ui)return this.Yi(e,n,o,a.size)})}).next(()=>s.result)}Yi(e,n,r,i){return r.documentReadCount<this.Wi?(Tl()<=je.DEBUG&&te("QueryEngine","SDK will not create cache indexes for query:",ko(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),$.resolve()):(Tl()<=je.DEBUG&&te("QueryEngine","Query:",ko(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Gi*i?(Tl()<=je.DEBUG&&te("QueryEngine","The SDK decides to create cache indexes for query:",ko(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(n))):$.resolve())}ji(e,n){if(NT(n))return $.resolve(null);let r=Wr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Uh(n,null,"F"),r=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=$e(...s);return this.zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,o,l.readTime)?this.ji(e,Uh(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,i){return NT(n)||i.isEqual(ke.min())?$.resolve(null):this.zi.getDocuments(e,r).next(s=>{const o=this.Zi(n,s);return this.Xi(n,o,r,i)?$.resolve(null):(Tl()<=je.DEBUG&&te("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),ko(n)),this.es(e,o,n,Gq(i,-1)).next(a=>a))})}Zi(e,n){let r=new tn(Pb(e));return n.forEach((i,s)=>{yp(e,s)&&(r=r.add(s))}),r}Xi(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ji(e,n,r){return Tl()<=je.DEBUG&&te("QueryEngine","Using full collection scan to execute query:",ko(n)),this.zi.getDocumentsMatchingQuery(e,n,is.min(),r)}es(e,n,r,i){return this.zi.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,n,r,i){this.persistence=e,this.ts=n,this.serializer=i,this.ns=new _t(Qe),this.rs=new Ya(s=>Pw(s),bw),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new a8(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function _8(t,e,n,r){return new v8(t,e,n,r)}async function Xb(t,e){const n=Ne(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=$e();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:o,addedBatchIds:a}))})})}function w8(t,e){const n=Ne(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let p=$.resolve();return h.forEach(m=>{p=p.next(()=>c.getEntry(l,m)).next(_=>{const R=u.docVersions.get(m);rt(R!==null),_.version.compareTo(R)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=$e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Jb(t){const e=Ne(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function E8(t,e){const n=Ne(t),r=e.snapshotVersion;let i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const h=i.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(s,c.addedDocuments,d)));let p=h.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(pn.EMPTY_BYTE_STRING,ke.min()).withLastLimboFreeSnapshotVersion(ke.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(_,R,y){return _.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:y.addedDocuments.size+y.modifiedDocuments.size+y.removedDocuments.size>0}(h,p,c)&&a.push(n.Qr.updateTargetData(s,p))});let l=yi(),u=$e();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(S8(s,o,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(ke.min())){const c=n.Qr.getLastRemoteSnapshotVersion(s).next(d=>n.Qr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.ns=i,s))}function S8(t,e,n){let r=$e(),i=$e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=yi();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ke.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):te("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:o,ls:i}})}function T8(t,e){const n=Ne(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function R8(t,e){const n=Ne(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Qr.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):n.Qr.allocateTargetId(r).next(o=>(i=new zi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.ns.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function sv(t,e,n){const r=Ne(t),i=r.ns.get(e),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Sc(o))throw o;te("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.ns=r.ns.remove(e),r.rs.delete(i.target)}function BT(t,e,n){const r=Ne(t);let i=ke.min(),s=$e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,c){const d=Ne(l),h=d.rs.get(c);return h!==void 0?$.resolve(d.ns.get(h)):d.Qr.getTargetData(u,c)}(r,o,Wr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.ts.getDocumentsMatchingQuery(o,e,n?i:ke.min(),n?s:$e())).next(a=>(I8(r,gH(e),a),{documents:a,hs:s})))}function I8(t,e,n){let r=t.ss.get(e)||ke.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.ss.set(e,r)}class zT{constructor(){this.activeTargetIds=SH()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class A8{constructor(){this.no=new zT,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new zT,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C8{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){te("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){te("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ld=null;function rg(){return ld===null?ld=function(){return 268435456+Math.round(2147483648*Math.random())}():ld++,"0x"+ld.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P8{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const an="WebChannelConnection";class b8 extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${i}/databases/${s}`,this.yo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get wo(){return!1}So(n,r,i,s,o){const a=rg(),l=this.bo(n,r.toUriEncodedString());te("RestConnection",`Sending RPC '${n}' ${a}:`,l,i);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,s,o),this.Co(n,l,u,i).then(c=>(te("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ca("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",i),c})}vo(n,r,i,s,o,a){return this.So(n,r,i,s,o)}Do(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Qa}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}bo(n,r){const i=k8[n];return`${this.fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,i){const s=rg();return new Promise((o,a)=>{const l=new Vq;l.setWithCredentials(!0),l.listenOnce(Lq.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case tg.NO_ERROR:const c=l.getResponseJson();te(an,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),o(c);break;case tg.TIMEOUT:te(an,`RPC '${e}' ${s} timed out`),a(new Y(L.DEADLINE_EXCEEDED,"Request time out"));break;case tg.HTTP_ERROR:const d=l.getStatus();if(te(an,`RPC '${e}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const m=function(R){const y=R.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(y)>=0?y:L.UNKNOWN}(p.status);a(new Y(m,p.message))}else a(new Y(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Y(L.UNAVAILABLE,"Connection failed."));break;default:Ae()}}finally{te(an,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);te(an,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const i=rg(),s=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=xq(),a=Dq(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");te(an,`Creating RPC '${e}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let h=!1,p=!1;const m=new P8({lo:R=>{p?te(an,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(h||(te(an,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),te(an,`RPC '${e}' stream ${i} sending:`,R),d.send(R))},ho:()=>d.close()}),_=(R,y,f)=>{R.listen(y,v=>{try{f(v)}catch(g){setTimeout(()=>{throw g},0)}})};return _(d,sd.EventType.OPEN,()=>{p||te(an,`RPC '${e}' stream ${i} transport opened.`)}),_(d,sd.EventType.CLOSE,()=>{p||(p=!0,te(an,`RPC '${e}' stream ${i} transport closed`),m.Vo())}),_(d,sd.EventType.ERROR,R=>{p||(p=!0,Ca(an,`RPC '${e}' stream ${i} transport errored:`,R),m.Vo(new Y(L.UNAVAILABLE,"The operation could not be completed")))}),_(d,sd.EventType.MESSAGE,R=>{var y;if(!p){const f=R.data[0];rt(!!f);const v=f,g=v.error||((y=v[0])===null||y===void 0?void 0:y.error);if(g){te(an,`RPC '${e}' stream ${i} received error:`,g);const E=g.status;let T=function(U){const M=Pt[U];if(M!==void 0)return jb(M)}(E),I=g.message;T===void 0&&(T=L.INTERNAL,I="Unknown error status: "+E+" with message "+g.message),p=!0,m.Vo(new Y(T,I)),d.close()}else te(an,`RPC '${e}' stream ${i} received:`,f),m.mo(f)}}),_(a,Oq.STAT_EVENT,R=>{R.stat===wT.PROXY?te(an,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===wT.NOPROXY&&te(an,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{m.Ro()},0),m}}function ig(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ep(t){return new jH(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zb{constructor(e,n,r=1e3,i=1.5,s=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=s,this.No=0,this.Bo=null,this.Lo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Lo),i=Math.max(0,n-r);i>0&&te("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Bo=this.oi.enqueueAfterDelay(this.timerId,i,()=>(this.Lo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Bo!==null&&(this.Bo.skipDelay(),this.Bo=null)}cancel(){this.Bo!==null&&(this.Bo.cancel(),this.Bo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eN{constructor(e,n,r,i,s,o,a,l){this.oi=e,this.$o=r,this.Uo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Zb(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(Hr(n.toString()),Hr("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Wo===n&&this.o_(r,i)},r=>{e(()=>{const i=new Y(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(i)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(i=>{r(()=>this.__(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return te("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(te("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class N8 extends eN{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=WH(this.serializer,e),r=function(s){if(!("targetChange"in s))return ke.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?ke.min():o.readTime?qr(o.readTime):ke.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=iv(this.serializer),n.addTarget=function(s,o){let a;const l=o.target;if(a=Zy(l)?{documents:GH(s,l)}:{query:KH(s,l).ut},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=Wb(s,o.resumeToken);const u=tv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ke.min())>0){a.readTime=zh(s,o.snapshotVersion.toTimestamp());const u=tv(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=YH(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=iv(this.serializer),n.removeTarget=e,this.t_(n)}}class x8 extends eN{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(rt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=HH(e.writeResults,e.commitTime),r=qr(e.commitTime);return this.listener.T_(r,n)}return rt(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=iv(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>qH(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D8 extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.A_=!1}R_(){if(this.A_)throw new Y(L.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,nv(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Y(L.UNKNOWN,s.toString())})}vo(e,n,r,i,s){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.vo(e,nv(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Y(L.UNKNOWN,o.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class L8{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(Hr(n),this.g_=!1):te("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O8{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=s,this.M_.io(o=>{r.enqueueAndForget(async()=>{_o(this)&&(te("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Ne(l);u.v_.add(4),await Ic(u),u.x_.set("Unknown"),u.v_.delete(4),await Sp(u)}(this))})}),this.x_=new L8(r,i)}}async function Sp(t){if(_o(t))for(const e of t.F_)await e(!0)}async function Ic(t){for(const e of t.F_)await e(!1)}function tN(t,e){const n=Ne(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),Bw(n)?jw(n):Xa(n).Jo()&&Uw(n,e))}function nN(t,e){const n=Ne(t),r=Xa(n);n.C_.delete(e),r.Jo()&&rN(n,e),n.C_.size===0&&(r.Jo()?r.Xo():_o(n)&&n.x_.set("Unknown"))}function Uw(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ke.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Xa(t).c_(e)}function rN(t,e){t.O_.Oe(e),Xa(t).l_(e)}function jw(t){t.O_=new MH({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Xa(t).start(),t.x_.p_()}function Bw(t){return _o(t)&&!Xa(t).Ho()&&t.C_.size>0}function _o(t){return Ne(t).v_.size===0}function iN(t){t.O_=void 0}async function V8(t){t.C_.forEach((e,n)=>{Uw(t,e)})}async function M8(t,e){iN(t),Bw(t)?(t.x_.S_(e),jw(t)):t.x_.set("Unknown")}async function $8(t,e,n){if(t.x_.set("Online"),e instanceof zb&&e.state===2&&e.cause)try{await async function(i,s){const o=s.cause;for(const a of s.targetIds)i.C_.has(a)&&(await i.remoteSyncer.rejectListen(a,o),i.C_.delete(a),i.O_.removeTarget(a))}(t,e)}catch(r){te("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Wh(t,r)}else if(e instanceof Fd?t.O_.$e(e):e instanceof Bb?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(ke.min()))try{const r=await Jb(t.localStore);n.compareTo(r)>=0&&await function(s,o){const a=s.O_.it(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.C_.get(u);c&&s.C_.set(u,c.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{const c=s.C_.get(l);if(!c)return;s.C_.set(l,c.withResumeToken(pn.EMPTY_BYTE_STRING,c.snapshotVersion)),rN(s,l);const d=new zi(c.target,l,u,c.sequenceNumber);Uw(s,d)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){te("RemoteStore","Failed to raise snapshot:",r),await Wh(t,r)}}async function Wh(t,e,n){if(!Sc(e))throw e;t.v_.add(1),await Ic(t),t.x_.set("Offline"),n||(n=()=>Jb(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{te("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Sp(t)})}function sN(t,e){return e().catch(n=>Wh(t,n,e))}async function Tp(t){const e=Ne(t),n=os(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;F8(e);)try{const i=await T8(e.localStore,r);if(i===null){e.D_.length===0&&n.Xo();break}r=i.batchId,U8(e,i)}catch(i){await Wh(e,i)}oN(e)&&aN(e)}function F8(t){return _o(t)&&t.D_.length<10}function U8(t,e){t.D_.push(e);const n=os(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function oN(t){return _o(t)&&!os(t).Ho()&&t.D_.length>0}function aN(t){os(t).start()}async function j8(t){os(t).d_()}async function B8(t){const e=os(t);for(const n of t.D_)e.I_(n.mutations)}async function z8(t,e,n){const r=t.D_.shift(),i=Lw.from(r,e,n);await sN(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await Tp(t)}async function W8(t,e){e&&os(t).P_&&await async function(r,i){if(function(o){return LH(o)&&o!==L.ABORTED}(i.code)){const s=r.D_.shift();os(r).Zo(),await sN(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await Tp(r)}}(t,e),oN(t)&&aN(t)}async function qT(t,e){const n=Ne(t);n.asyncQueue.verifyOperationInProgress(),te("RemoteStore","RemoteStore received new credentials");const r=_o(n);n.v_.add(3),await Ic(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Sp(n)}async function q8(t,e){const n=Ne(t);e?(n.v_.delete(2),await Sp(n)):e||(n.v_.add(2),await Ic(n),n.x_.set("Unknown"))}function Xa(t){return t.N_||(t.N_=function(n,r,i){const s=Ne(n);return s.R_(),new N8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:V8.bind(null,t),To:M8.bind(null,t),u_:$8.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),Bw(t)?jw(t):t.x_.set("Unknown")):(await t.N_.stop(),iN(t))})),t.N_}function os(t){return t.B_||(t.B_=function(n,r,i){const s=Ne(n);return s.R_(),new x8(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Po:j8.bind(null,t),To:W8.bind(null,t),E_:B8.bind(null,t),T_:z8.bind(null,t)}),t.F_.push(async e=>{e?(t.B_.Zo(),await Tp(t)):(await t.B_.stop(),t.D_.length>0&&(te("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.B_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zw{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new zr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new zw(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Y(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ww(t,e){if(Hr("AsyncQueue",`${e}: ${t}`),Sc(t))return new Y(L.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e){this.comparator=e?(n,r)=>e(n,r)||_e.comparator(n.key,r.key):(n,r)=>_e.comparator(n.key,r.key),this.keyedMap=Ll(),this.sortedSet=new _t(this.comparator)}static emptySet(e){return new la(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof la)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new la;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.L_=new _t(_e.comparator)}track(e){const n=e.doc.key,r=this.L_.get(n);r?e.type!==0&&r.type===3?this.L_=this.L_.insert(n,e):e.type===3&&r.type!==1?this.L_=this.L_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.L_=this.L_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.L_=this.L_.remove(n):e.type===1&&r.type===2?this.L_=this.L_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.L_=this.L_.insert(n,{type:2,doc:e.doc}):Ae():this.L_=this.L_.insert(n,e)}k_(){const e=[];return this.L_.inorderTraversal((n,r)=>{e.push(r)}),e}}class Da{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new Da(e,n,la.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&gp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H8{constructor(){this.q_=void 0,this.Q_=[]}}class G8{constructor(){this.queries=new Ya(e=>kb(e),gp),this.onlineState="Unknown",this.K_=new Set}}async function lN(t,e){const n=Ne(t),r=e.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new H8),i)try{s.q_=await n.onListen(r)}catch(o){const a=Ww(o,`Initialization of query '${ko(e.query)}' failed`);return void e.onError(a)}n.queries.set(r,s),s.Q_.push(e),e.U_(n.onlineState),s.q_&&e.W_(s.q_)&&qw(n)}async function uN(t,e){const n=Ne(t),r=e.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.Q_.indexOf(e);o>=0&&(s.Q_.splice(o,1),i=s.Q_.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function K8(t,e){const n=Ne(t);let r=!1;for(const i of e){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.Q_)a.W_(i)&&(r=!0);o.q_=i}}r&&qw(n)}function Q8(t,e,n){const r=Ne(t),i=r.queries.get(e);if(i)for(const s of i.Q_)s.onError(n);r.queries.delete(e)}function qw(t){t.K_.forEach(e=>{e.next()})}class cN{constructor(e,n,r){this.query=e,this.G_=n,this.z_=!1,this.j_=null,this.onlineState="Unknown",this.options=r||{}}W_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Da(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.z_?this.H_(e)&&(this.G_.next(e),n=!0):this.J_(e,this.onlineState)&&(this.Y_(e),n=!0),this.j_=e,n}onError(e){this.G_.error(e)}U_(e){this.onlineState=e;let n=!1;return this.j_&&!this.z_&&this.J_(this.j_,e)&&(this.Y_(this.j_),n=!0),n}J_(e,n){if(!e.fromCache)return!0;const r=n!=="Offline";return(!this.options.Z_||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}H_(e){if(e.docChanges.length>0)return!0;const n=this.j_&&this.j_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Y_(e){e=Da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.z_=!0,this.G_.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dN{constructor(e){this.key=e}}class hN{constructor(e){this.key=e}}class Y8{constructor(e,n){this.query=e,this.oa=n,this._a=null,this.hasCachedResults=!1,this.current=!1,this.aa=$e(),this.mutatedKeys=$e(),this.ua=Pb(e),this.ca=new la(this.ua)}get la(){return this.oa}ha(e,n){const r=n?n.Pa:new HT,i=n?n.ca:this.ca;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,d)=>{const h=i.get(c),p=yp(this.query,d)?d:null,m=!!h&&this.mutatedKeys.has(h.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let R=!1;h&&p?h.data.isEqual(p.data)?m!==_&&(r.track({type:3,doc:p}),R=!0):this.Ia(h,p)||(r.track({type:2,doc:p}),R=!0,(l&&this.ua(p,l)>0||u&&this.ua(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),R=!0):h&&!p&&(r.track({type:1,doc:h}),R=!0,(l||u)&&(a=!0)),R&&(p?(o=o.add(p),s=_?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ca:o,Pa:r,Xi:a,mutatedKeys:s}}Ia(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const s=this.ca;this.ca=e.ca,this.mutatedKeys=e.mutatedKeys;const o=e.Pa.k_();o.sort((c,d)=>function(p,m){const _=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ae()}};return _(p)-_(m)}(c.type,d.type)||this.ua(c.doc,d.doc)),this.Ta(r),i=i!=null&&i;const a=n&&!i?this.Ea():[],l=this.aa.size===0&&this.current&&!i?1:0,u=l!==this._a;return this._a=l,o.length!==0||u?{snapshot:new Da(this.query,e.ca,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),da:a}:{da:a}}U_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ca:this.ca,Pa:new HT,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{da:[]}}Aa(e){return!this.oa.has(e)&&!!this.ca.has(e)&&!this.ca.get(e).hasLocalMutations}Ta(e){e&&(e.addedDocuments.forEach(n=>this.oa=this.oa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.oa=this.oa.delete(n)),this.current=e.current)}Ea(){if(!this.current)return[];const e=this.aa;this.aa=$e(),this.ca.forEach(r=>{this.Aa(r.key)&&(this.aa=this.aa.add(r.key))});const n=[];return e.forEach(r=>{this.aa.has(r)||n.push(new hN(r))}),this.aa.forEach(r=>{e.has(r)||n.push(new dN(r))}),n}Ra(e){this.oa=e.hs,this.aa=$e();const n=this.ha(e.documents);return this.applyChanges(n,!0)}Va(){return Da.fromInitialDocuments(this.query,this.ca,this.mutatedKeys,this._a===0,this.hasCachedResults)}}class X8{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class J8{constructor(e){this.key=e,this.ma=!1}}class Z8{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.fa={},this.ga=new Ya(a=>kb(a),gp),this.pa=new Map,this.ya=new Set,this.wa=new _t(_e.comparator),this.Sa=new Map,this.ba=new Mw,this.Da={},this.Ca=new Map,this.va=xa.Bn(),this.onlineState="Unknown",this.Fa=void 0}get isPrimaryClient(){return this.Fa===!0}}async function e7(t,e){const n=c7(t);let r,i;const s=n.ga.get(e);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.Va();else{const o=await R8(n.localStore,Wr(e)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await t7(n,e,r,a==="current",o.resumeToken),n.isPrimaryClient&&tN(n.remoteStore,o)}return i}async function t7(t,e,n,r,i){t.Ma=(d,h,p)=>async function(_,R,y,f){let v=R.view.ha(y);v.Xi&&(v=await BT(_.localStore,R.query,!1).then(({documents:I})=>R.view.ha(I,v)));const g=f&&f.targetChanges.get(R.targetId),E=f&&f.targetMismatches.get(R.targetId)!=null,T=R.view.applyChanges(v,_.isPrimaryClient,g,E);return KT(_,R.targetId,T.da),T.snapshot}(t,d,h,p);const s=await BT(t.localStore,e,!0),o=new Y8(e,s.hs),a=o.ha(s.documents),l=Rc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);KT(t,n,u.da);const c=new X8(e,n,o);return t.ga.set(e,c),t.pa.has(n)?t.pa.get(n).push(e):t.pa.set(n,[e]),u.snapshot}async function n7(t,e){const n=Ne(t),r=n.ga.get(e),i=n.pa.get(r.targetId);if(i.length>1)return n.pa.set(r.targetId,i.filter(s=>!gp(s,e))),void n.ga.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await sv(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),nN(n.remoteStore,r.targetId),ov(n,r.targetId)}).catch(Ec)):(ov(n,r.targetId),await sv(n.localStore,r.targetId,!0))}async function r7(t,e,n){const r=d7(t);try{const i=await function(o,a){const l=Ne(o),u=$t.now(),c=a.reduce((p,m)=>p.add(m.key),$e());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let m=yi(),_=$e();return l.os.getEntries(p,c).next(R=>{m=R,m.forEach((y,f)=>{f.isValidDocument()||(_=_.add(y))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,m)).next(R=>{d=R;const y=[];for(const f of a){const v=PH(f,d.get(f.key).overlayedDocument);v!=null&&y.push(new ys(f.key,v,Eb(v.value.mapValue),Er.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,y,a)}).next(R=>{h=R;const y=R.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(p,R.batchId,y)})}).then(()=>({batchId:h.batchId,changes:Nb(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Da[o.currentUser.toKey()];u||(u=new _t(Qe)),u=u.insert(a,l),o.Da[o.currentUser.toKey()]=u}(r,i.batchId,n),await Ac(r,i.changes),await Tp(r.remoteStore)}catch(i){const s=Ww(i,"Failed to persist write");n.reject(s)}}async function fN(t,e){const n=Ne(t);try{const r=await E8(n.localStore,e);e.targetChanges.forEach((i,s)=>{const o=n.Sa.get(s);o&&(rt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.ma=!0:i.modifiedDocuments.size>0?rt(o.ma):i.removedDocuments.size>0&&(rt(o.ma),o.ma=!1))}),await Ac(n,r,e)}catch(r){await Ec(r)}}function GT(t,e,n){const r=Ne(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.ga.forEach((s,o)=>{const a=o.view.U_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const l=Ne(o);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Q_)h.U_(a)&&(u=!0)}),u&&qw(l)}(r.eventManager,e),i.length&&r.fa.u_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function i7(t,e,n){const r=Ne(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Sa.get(e),s=i&&i.key;if(s){let o=new _t(_e.comparator);o=o.insert(s,cn.newNoDocument(s,ke.min()));const a=$e().add(s),l=new wp(ke.min(),new Map,new _t(Qe),o,a);await fN(r,l),r.wa=r.wa.remove(s),r.Sa.delete(e),Hw(r)}else await sv(r.localStore,e,!1).then(()=>ov(r,e,n)).catch(Ec)}async function s7(t,e){const n=Ne(t),r=e.batch.batchId;try{const i=await w8(n.localStore,e);mN(n,r,null),pN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Ac(n,i)}catch(i){await Ec(i)}}async function o7(t,e,n){const r=Ne(t);try{const i=await function(o,a){const l=Ne(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(rt(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);mN(r,e,n),pN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Ac(r,i)}catch(i){await Ec(i)}}function pN(t,e){(t.Ca.get(e)||[]).forEach(n=>{n.resolve()}),t.Ca.delete(e)}function mN(t,e,n){const r=Ne(t);let i=r.Da[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Da[r.currentUser.toKey()]=i}}function ov(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.pa.get(e))t.ga.delete(r),n&&t.fa.xa(r,n);t.pa.delete(e),t.isPrimaryClient&&t.ba.Vr(e).forEach(r=>{t.ba.containsKey(r)||gN(t,r)})}function gN(t,e){t.ya.delete(e.path.canonicalString());const n=t.wa.get(e);n!==null&&(nN(t.remoteStore,n),t.wa=t.wa.remove(e),t.Sa.delete(n),Hw(t))}function KT(t,e,n){for(const r of n)r instanceof dN?(t.ba.addReference(r.key,e),a7(t,r)):r instanceof hN?(te("SyncEngine","Document no longer in limbo: "+r.key),t.ba.removeReference(r.key,e),t.ba.containsKey(r.key)||gN(t,r.key)):Ae()}function a7(t,e){const n=e.key,r=n.path.canonicalString();t.wa.get(n)||t.ya.has(r)||(te("SyncEngine","New document in limbo: "+n),t.ya.add(r),Hw(t))}function Hw(t){for(;t.ya.size>0&&t.wa.size<t.maxConcurrentLimboResolutions;){const e=t.ya.values().next().value;t.ya.delete(e);const n=new _e(tt.fromString(e)),r=t.va.next();t.Sa.set(r,new J8(n)),t.wa=t.wa.insert(n,r),tN(t.remoteStore,new zi(Wr(Nw(n.path)),r,"TargetPurposeLimboResolution",Aw._e))}}async function Ac(t,e,n){const r=Ne(t),i=[],s=[],o=[];r.ga.isEmpty()||(r.ga.forEach((a,l)=>{o.push(r.Ma(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=Fw.Ki(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.fa.u_(i),await async function(l,u){const c=Ne(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>$.forEach(u,h=>$.forEach(h.qi,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>$.forEach(h.Qi,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Sc(d))throw d;te("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.ns.get(h),m=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(m);c.ns=c.ns.insert(h,_)}}}(r.localStore,s))}async function l7(t,e){const n=Ne(t);if(!n.currentUser.isEqual(e)){te("SyncEngine","User change. New user:",e.toKey());const r=await Xb(n.localStore,e);n.currentUser=e,function(s,o){s.Ca.forEach(a=>{a.forEach(l=>{l.reject(new Y(L.CANCELLED,o))})}),s.Ca.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Ac(n,r.us)}}function u7(t,e){const n=Ne(t),r=n.Sa.get(e);if(r&&r.ma)return $e().add(r.key);{let i=$e();const s=n.pa.get(e);if(!s)return i;for(const o of s){const a=n.ga.get(o);i=i.unionWith(a.view.la)}return i}}function c7(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=fN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u7.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=i7.bind(null,e),e.fa.u_=K8.bind(null,e.eventManager),e.fa.xa=Q8.bind(null,e.eventManager),e}function d7(t){const e=Ne(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=s7.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o7.bind(null,e),e}class QT{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Ep(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return _8(this.persistence,new y8,e.initialUser,this.serializer)}createPersistence(e){return new p8($w.Hr,this.serializer)}createSharedClientState(e){return new A8}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class h7{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>GT(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=l7.bind(null,this.syncEngine),await q8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new G8}()}createDatastore(e){const n=Ep(e.databaseInfo.databaseId),r=function(s){return new b8(s)}(e.databaseInfo);return function(s,o,a,l){return new D8(s,o,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,s,o,a){return new O8(r,i,s,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>GT(this.syncEngine,n,0),function(){return WT.D()?new WT:new C8}())}createSyncEngine(e,n){return function(i,s,o,a,l,u,c){const d=new Z8(i,s,o,a,l,u);return c&&(d.Fa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const i=Ne(r);te("RemoteStore","RemoteStore shutting down."),i.v_.add(5),await Ic(i),i.M_.shutdown(),i.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yN{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ba(this.observer.next,e)}error(e){this.observer.error?this.Ba(this.observer.error,e):Hr("Uncaught Error in snapshot listener:",e.toString())}La(){this.muted=!0}Ba(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f7{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ln.UNAUTHENTICATED,this.clientId=vb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{te("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(te("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Y(L.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ww(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function sg(t,e){t.asyncQueue.verifyOperationInProgress(),te("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Xb(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function YT(t,e){t.asyncQueue.verifyOperationInProgress();const n=await m7(t);te("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>qT(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>qT(e.remoteStore,i)),t._onlineComponents=e}function p7(t){return t.name==="FirebaseError"?t.code===L.FAILED_PRECONDITION||t.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function m7(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){te("FirestoreClient","Using user provided OfflineComponentProvider");try{await sg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!p7(n))throw n;Ca("Error using user provided cache. Falling back to memory cache: "+n),await sg(t,new QT)}}else te("FirestoreClient","Using default OfflineComponentProvider"),await sg(t,new QT);return t._offlineComponents}async function vN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(te("FirestoreClient","Using user provided OnlineComponentProvider"),await YT(t,t._uninitializedComponentsProvider._online)):(te("FirestoreClient","Using default OnlineComponentProvider"),await YT(t,new h7))),t._onlineComponents}function g7(t){return vN(t).then(e=>e.syncEngine)}async function _N(t){const e=await vN(t),n=e.eventManager;return n.onListen=e7.bind(null,e.syncEngine),n.onUnlisten=n7.bind(null,e.syncEngine),n}function y7(t,e,n={}){const r=new zr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new yN({next:h=>{o.enqueueAndForget(()=>uN(s,d));const p=h.docs.has(a);!p&&h.fromCache?u.reject(new Y(L.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&h.fromCache&&l&&l.source==="server"?u.reject(new Y(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new cN(Nw(a.path),c,{includeMetadataChanges:!0,Z_:!0});return lN(s,d)}(await _N(t),t.asyncQueue,e,n,r)),r.promise}function v7(t,e,n={}){const r=new zr;return t.asyncQueue.enqueueAndForget(async()=>function(s,o,a,l,u){const c=new yN({next:h=>{o.enqueueAndForget(()=>uN(s,d)),h.fromCache&&l.source==="server"?u.reject(new Y(L.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new cN(a,c,{includeMetadataChanges:!0,Z_:!0});return lN(s,d)}(await _N(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EN(t,e,n){if(!n)throw new Y(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function _7(t,e,n,r){if(e===!0&&r===!0)throw new Y(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function JT(t){if(!_e.isDocumentKey(t))throw new Y(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ZT(t){if(_e.isDocumentKey(t))throw new Y(L.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Rp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ae()}function vi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Y(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Rp(t);throw new Y(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}function w7(t,e){if(e<=0)throw new Y(L.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Y(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Y(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}_7("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=wN((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new Y(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new Y(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new Y(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Ip{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new eR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Y(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Y(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new eR(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $q;switch(r.type){case"firstParty":return new Bq(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Y(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=XT.get(n);r&&(te("ComponentProvider","Removing Datastore"),XT.delete(n),r.terminate())}(this),Promise.resolve()}}function E7(t,e,n,r={}){var i;const s=(t=vi(t,Ip))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Ca("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=ln.MOCK_USER;else{a=LC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new Y(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new ln(u)}t._authCredentials=new Fq(new yb(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Si{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Si(this.firestore,e,this._query)}}class On{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ts(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new On(this.firestore,e,this._key)}}class ts extends Si{constructor(e,n,r){super(e,n,Nw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new On(this.firestore,null,new _e(e))}withConverter(e){return new ts(this.firestore,e,this._path)}}function Gu(t,e,...n){if(t=dt(t),EN("collection","path",e),t instanceof Ip){const r=tt.fromString(e,...n);return ZT(r),new ts(t,null,r)}{if(!(t instanceof On||t instanceof ts))throw new Y(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return ZT(r),new ts(t.firestore,null,r)}}function Ku(t,e,...n){if(t=dt(t),arguments.length===1&&(e=vb.newId()),EN("doc","path",e),t instanceof Ip){const r=tt.fromString(e,...n);return JT(r),new On(t,null,new _e(r))}{if(!(t instanceof On||t instanceof ts))throw new Y(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(tt.fromString(e,...n));return JT(r),new On(t.firestore,t instanceof ts?t.converter:null,new _e(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S7{constructor(){this.Xa=Promise.resolve(),this.eu=[],this.tu=!1,this.nu=[],this.ru=null,this.iu=!1,this.su=!1,this.ou=[],this.jo=new Zb(this,"async_queue_retry"),this._u=()=>{const n=ig();n&&te("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=ig();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._u)}get isShuttingDown(){return this.tu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.au(),this.uu(e)}enterRestrictedMode(e){if(!this.tu){this.tu=!0,this.su=e||!1;const n=ig();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._u)}}enqueue(e){if(this.au(),this.tu)return new Promise(()=>{});const n=new zr;return this.uu(()=>this.tu&&this.su?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.eu.push(e),this.cu()))}async cu(){if(this.eu.length!==0){try{await this.eu[0](),this.eu.shift(),this.jo.reset()}catch(e){if(!Sc(e))throw e;te("AsyncQueue","Operation failed with retryable error: "+e)}this.eu.length>0&&this.jo.qo(()=>this.cu())}}uu(e){const n=this.Xa.then(()=>(this.iu=!0,e().catch(r=>{this.ru=r,this.iu=!1;const i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Hr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.iu=!1,r))));return this.Xa=n,n}enqueueAfterDelay(e,n,r){this.au(),this.ou.indexOf(e)>-1&&(n=0);const i=zw.createAndSchedule(this,e,n,r,s=>this.lu(s));return this.nu.push(i),i}au(){this.ru&&Ae()}verifyOperationInProgress(){}async hu(){let e;do e=this.Xa,await e;while(e!==this.Xa)}Pu(e){for(const n of this.nu)if(n.timerId===e)return!0;return!1}Iu(e){return this.hu().then(()=>{this.nu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.nu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.hu()})}Tu(e){this.ou.push(e)}lu(e){const n=this.nu.indexOf(e);this.nu.splice(n,1)}}class Ja extends Ip{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new S7}(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||SN(this),this._firestoreClient.terminate()}}function T7(t,e){const n=typeof t=="object"?t:Bf(),r=typeof t=="string"?t:"(default)",i=fs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=NC("firestore");s&&E7(i,...s)}return i}function Gw(t){return t._firestoreClient||SN(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function SN(t){var e,n,r;const i=t._freezeSettings(),s=function(a,l,u,c){return new nH(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,wN(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new f7(t._authCredentials,t._appCheckCredentials,t._queue,s),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class La{constructor(e){this._byteString=e}static fromBase64String(e){try{return new La(pn.fromBase64String(e))}catch(n){throw new Y(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new La(pn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Y(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Jt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Y(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Y(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qe(this._lat,e._lat)||Qe(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R7=/^__.*__$/;class I7{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ys(e,this.data,this.fieldMask,n,this.fieldTransforms):new Tc(e,this.data,n,this.fieldTransforms)}}class TN{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ys(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function RN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ae()}}class Yw{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Eu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get du(){return this.settings.du}Au(e){return new Yw(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ru(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.mu(e),i}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Au({path:r,Vu:!1});return i.Eu(),i}gu(e){return this.Au({path:void 0,Vu:!0})}pu(e){return qh(e,this.settings.methodName,this.settings.yu||!1,this.path,this.settings.wu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Eu(){if(this.path)for(let e=0;e<this.path.length;e++)this.mu(this.path.get(e))}mu(e){if(e.length===0)throw this.pu("Document fields must not be empty");if(RN(this.du)&&R7.test(e))throw this.pu('Document fields cannot begin and end with "__"')}}class A7{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Ep(e)}Su(e,n,r,i=!1){return new Yw({du:e,methodName:n,wu:r,path:Jt.emptyPath(),Vu:!1,yu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cp(t){const e=t._freezeSettings(),n=Ep(t._databaseId);return new A7(t._databaseId,!!e.ignoreUndefinedProperties,n)}function C7(t,e,n,r,i,s={}){const o=t.Su(s.merge||s.mergeFields?2:0,e,n,i);Xw("Data must be an object, but it was:",o,r);const a=AN(r,o);let l,u;if(s.merge)l=new zn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const h=av(e,d,n);if(!o.contains(h))throw new Y(L.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);kN(c,h)||c.push(h)}l=new zn(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new I7(new Cn(a),l,u)}class kp extends Kw{_toFieldTransform(e){if(e.du!==2)throw e.du===1?e.pu(`${this._methodName}() can only appear at the top level of your update data`):e.pu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof kp}}function k7(t,e,n,r){const i=t.Su(1,e,n);Xw("Data must be an object, but it was:",i,r);const s=[],o=Cn.empty();yo(r,(l,u)=>{const c=Jw(e,l,n);u=dt(u);const d=i.fu(c);if(u instanceof kp)s.push(c);else{const h=Cc(u,d);h!=null&&(s.push(c),o.set(c,h))}});const a=new zn(s);return new TN(o,a,i.fieldTransforms)}function P7(t,e,n,r,i,s){const o=t.Su(1,e,n),a=[av(e,r,n)],l=[i];if(s.length%2!=0)throw new Y(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let h=0;h<s.length;h+=2)a.push(av(e,s[h])),l.push(s[h+1]);const u=[],c=Cn.empty();for(let h=a.length-1;h>=0;--h)if(!kN(u,a[h])){const p=a[h];let m=l[h];m=dt(m);const _=o.fu(p);if(m instanceof kp)u.push(p);else{const R=Cc(m,_);R!=null&&(u.push(p),c.set(p,R))}}const d=new zn(u);return new TN(c,d,o.fieldTransforms)}function IN(t,e,n,r=!1){return Cc(n,t.Su(r?4:3,e))}function Cc(t,e){if(CN(t=dt(t)))return Xw("Unsupported field value:",e,t),AN(t,e);if(t instanceof Kw)return function(r,i){if(!RN(i.du))throw i.pu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.pu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Vu&&e.du!==4)throw e.pu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let l=Cc(a,i.gu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return TH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=$t.fromDate(r);return{timestampValue:zh(i.serializer,s)}}if(r instanceof $t){const s=new $t(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:zh(i.serializer,s)}}if(r instanceof Qw)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof La)return{bytesValue:Wb(i.serializer,r._byteString)};if(r instanceof On){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.pu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Vw(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.pu(`Unsupported field value: ${Rp(r)}`)}(t,e)}function AN(t,e){const n={};return _b(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yo(t,(r,i)=>{const s=Cc(i,e.Ru(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function CN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof $t||t instanceof Qw||t instanceof La||t instanceof On||t instanceof Kw)}function Xw(t,e,n){if(!CN(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){const r=Rp(n);throw r==="an object"?e.pu(t+" a custom object"):e.pu(t+" "+r)}}function av(t,e,n){if((e=dt(e))instanceof Ap)return e._internalPath;if(typeof e=="string")return Jw(t,e);throw qh("Field path arguments must be of type string or ",t,!1,void 0,n)}const b7=new RegExp("[~\\*/\\[\\]]");function Jw(t,e,n){if(e.search(b7)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ap(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qh(t,e,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Y(L.INVALID_ARGUMENT,a+t+l)}function kN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zw{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new On(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Pp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N7 extends Zw{data(){return super.data()}}function Pp(t,e){return typeof e=="string"?Jw(t,e):e instanceof Ap?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Y(L.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e0{}class bp extends e0{}function Hh(t,e,...n){let r=[];e instanceof e0&&r.push(e),r=r.concat(n),function(s){const o=s.filter(l=>l instanceof t0).length,a=s.filter(l=>l instanceof Np).length;if(o>1||o>0&&a>0)throw new Y(L.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)t=i._apply(t);return t}class Np extends bp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Np(e,n,r)}_apply(e){const n=this._parse(e);return PN(e._query,n),new Si(e.firestore,e.converter,ev(e._query,n))}_parse(e){const n=Cp(e.firestore);return function(s,o,a,l,u,c,d){let h;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new Y(L.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){nR(d,c);const p=[];for(const m of d)p.push(tR(l,s,m));h={arrayValue:{values:p}}}else h=tR(l,s,d)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||nR(d,c),h=IN(a,o,d,c==="in"||c==="not-in");return Lt.create(u,c,h)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Oa(t,e,n){const r=e,i=Pp("where",t);return Np._create(i,r,n)}class t0 extends e0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Ar.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i;const a=s.getFlattenedFilters();for(const l of a)PN(o,l),o=ev(o,l)}(e._query,n),new Si(e.firestore,e.converter,ev(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class n0 extends bp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new n0(e,n)}_apply(e){const n=function(i,s,o){if(i.startAt!==null)throw new Y(L.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Y(L.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Wu(s,o)}(e._query,this._field,this._direction);return new Si(e.firestore,e.converter,function(i,s){const o=i.explicitOrderBy.concat([s]);return new vo(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}}function Gh(t,e="asc"){const n=e,r=Pp("orderBy",t);return n0._create(r,n)}class r0 extends bp{constructor(e,n,r){super(),this.type=e,this._limit=n,this._limitType=r}static _create(e,n,r){return new r0(e,n,r)}_apply(e){return new Si(e.firestore,e.converter,Uh(e._query,this._limit,this._limitType))}}function lv(t){return w7("limit",t),r0._create("limit",t,"F")}class i0 extends bp{constructor(e,n,r){super(),this.type=e,this._docOrFields=n,this._inclusive=r}static _create(e,n,r){return new i0(e,n,r)}_apply(e){const n=L7(e,this.type,this._docOrFields,this._inclusive);return new Si(e.firestore,e.converter,function(i,s){return new vo(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)}(e._query,n))}}function D7(...t){return i0._create("startAfter",t,!1)}function L7(t,e,n,r){if(n[0]=dt(n[0]),n[0]instanceof Zw)return function(s,o,a,l,u){if(!l)throw new Y(L.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${a}().`);const c=[];for(const d of aa(s))if(d.field.isKeyField())c.push(Fh(o,l.key));else{const h=l.data.field(d.field);if(mp(h))throw new Y(L.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+d.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(h===null){const p=d.field.canonicalString();throw new Y(L.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${p}' (used as the orderBy) does not exist.`)}c.push(h)}return new Na(c,u)}(t._query,t.firestore._databaseId,e,n[0]._document,r);{const i=Cp(t.firestore);return function(o,a,l,u,c,d){const h=o.explicitOrderBy;if(c.length>h.length)throw new Y(L.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const p=[];for(let m=0;m<c.length;m++){const _=c[m];if(h[m].field.isKeyField()){if(typeof _!="string")throw new Y(L.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof _}`);if(!xw(o)&&_.indexOf("/")!==-1)throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${_}' contains a slash.`);const R=o.path.child(tt.fromString(_));if(!_e.isDocumentKey(R))throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${R}' is not because it contains an odd number of segments.`);const y=new _e(R);p.push(Fh(a,y))}else{const R=IN(l,u,_);p.push(R)}}return new Na(p,d)}(t._query,t.firestore._databaseId,i,e,n,r)}}function tR(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new Y(L.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xw(e)&&n.indexOf("/")!==-1)throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(tt.fromString(n));if(!_e.isDocumentKey(r))throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Fh(t,new _e(r))}if(n instanceof On)return Fh(t,n._key);throw new Y(L.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Rp(n)}.`)}function nR(t,e){if(!Array.isArray(t)||t.length===0)throw new Y(L.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function PN(t,e){const n=function(i,s){for(const o of i)for(const a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new Y(L.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Y(L.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class O7{convertValue(e,n="none"){switch(oo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Nt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(so(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw Ae()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return yo(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(e){return new Qw(Nt(e.latitude),Nt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Cw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(ju(e));default:return null}}convertTimestamp(e){const n=ss(e);return new $t(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=tt.fromString(e);rt(Yb(r));const i=new Bu(r.get(1),r.get(3)),s=new _e(r.popFirst(5));return i.isEqual(n)||Hr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V7(t,e,n){let r;return r=t?t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class bN extends Zw{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Pp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Ud extends bN{data(e={}){return super.data(e)}}class M7{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Vl(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ud(this._firestore,this._userDataWriter,r.key,r,new Vl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Y(L.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Ud(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Ud(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Vl(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return a.type!==0&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),c=o.indexOf(a.doc.key)),{type:$7(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function $7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ae()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){t=vi(t,On);const e=vi(t.firestore,Ja);return y7(Gw(e),t._key).then(n=>j7(e,t,n))}class xN extends O7{constructor(e){super(),this.firestore=e}convertBytes(e){return new La(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new On(this.firestore,null,n)}}function Kh(t){t=vi(t,Si);const e=vi(t.firestore,Ja),n=Gw(e),r=new xN(e);return x7(t._query),v7(n,t._query).then(i=>new M7(e,r,t,i))}function og(t,e,n,...r){t=vi(t,On);const i=vi(t.firestore,Ja),s=Cp(i);let o;return o=typeof(e=dt(e))=="string"||e instanceof Ap?P7(s,"updateDoc",t._key,e,n,r):k7(s,"updateDoc",t._key,e),s0(i,[o.toMutation(t._key,Er.exists(!0))])}function F7(t){return s0(vi(t.firestore,Ja),[new Dw(t._key,Er.none())])}function U7(t,e){const n=vi(t.firestore,Ja),r=Ku(t),i=V7(t.converter,e);return s0(n,[C7(Cp(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Er.exists(!1))]).then(()=>r)}function s0(t,e){return function(r,i){const s=new zr;return r.asyncQueue.enqueueAndForget(async()=>r7(await g7(r),i,s)),s.promise}(Gw(t),e)}function j7(t,e,n){const r=n.docs.get(e._key),i=new xN(t);return new bN(t,i,e._key,r,new Vl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Qa=i})(po),Tr(new ur("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Ja(new Uq(r.getProvider("auth-internal")),new Wq(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new Y(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(u.options.projectId,c)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Dn(ET,"4.4.2",e),Dn(ET,"4.4.2","esm2017")})();const B7={apiKey:"AIzaSyD7ws82c0SE79NscwXAlVgn-04aZ3i-KUU",authDomain:"moomi-app.firebaseapp.com",projectId:"moomi-app",storageBucket:"moomi-app.appspot.com",messagingSenderId:"833620973633",appId:"1:833620973633:web:6f2e77cd5b6204d83bcec0",measurementId:"G-DTNFWQ97PV"},xp=UC(B7),Cr=A3(xp),DN=CW(xp),ci=T7(xp);h5(xp);const z7=ve.div`
  max-width: 600px;
  margin: 0 auto;
  height: 100vh;
`,W7=ve.h1`
  text-align: center;
  margin-bottom: 100px;
  margin-top: 50px;
`,q7=ve.form`
  display: flex;
  flex-direction: column;
  width: 100%;
`,ag=ve.input``,H7=ve.div``;function G7(){var c;const t=uo(),[e,n]=F.useState(!1),{register:r,handleSubmit:i,formState:{errors:s},setError:o,clearErrors:a}=W_(),l=async d=>{const{email:h,password:p}=d;if(!e)try{n(!0),await cz(Cr,h,p),t("/")}catch(m){m instanceof Mn&&(console.log(m.code,"/////",m.message),o("error",{message:m.message}))}finally{n(!1)}},u=()=>{a("error"),i(l)()};return P.jsxs(z7,{children:[P.jsx(W7,{children:"로그인"}),P.jsxs(q7,{onSubmit:i(l,u),children:[P.jsx("label",{htmlFor:"",children:"이메일"}),P.jsx(ag,{...r("email",{required:!0,minLength:5}),placeholder:"이메일",type:"email",required:!0}),P.jsx("label",{htmlFor:"",children:"비밀번호"}),P.jsx(ag,{...r("password"),placeholder:"비밀번호",type:"password",required:!0}),P.jsx(ag,{type:"submit",value:"로그인"})]}),P.jsx("span",{children:(c=s.error)==null?void 0:c.message}),P.jsxs(H7,{children:["아이디가 없으신가요?",P.jsx(P_,{to:"/create-account",children:"아이디 만들기"})]})]})}const K7=ve.li`
  width: 50px;
  height: 50px;
  border-radius: 10px;
  border: 2px solid black;
  box-sizing: border-box;
`,Q7=ve.img`
  border-radius: 20px;
  margin-bottom: 5px;
`,Y7=ve.span`
  text-align: center;
`,X7=ve(P_)`
  display: flex;
  flex-direction: column;
`,J7={dolls:"./iconImg/dolls_Icon.png",closet:"./iconImg/closet_Icon.png",link:"./iconImg/link_Icon.png",add:"./iconImg/add_item_Icon.png"};function ud({url:t,src:e,name:n}){return P.jsx(K7,{children:P.jsxs(X7,{to:t,children:[P.jsx(Q7,{src:J7[e]}),P.jsx(Y7,{children:n})]})})}const Z7=ve.img`
  background-color: wheat;
  width: 300px;
  height: 300px;
  object-fit: contain;
`,eG=ve.div`
  display: flex;
  justify-content: center;
`,rR=ve.div``;function tG(){const[t,e]=F.useState([]),[n,r]=F.useState(0),i=F.useRef(),s=(l,u,c)=>(u+(l==="rightArrow"?1:-1)+c)%c,o=l=>{const{direction:u}=l.currentTarget.dataset;t.length===0||!u||(clearInterval(i.current),i.current=window.setInterval(()=>{r(c=>s("rightArrow",c,t.length))},5e3),r(c=>s(u,c,t.length)))},a=async()=>{const l=Cr.currentUser;try{if(l){const u=Hh(Gu(ci,"dollsAndCloset"),Oa("userId","==",l==null?void 0:l.uid),Oa("category","==","dolls"),Gh("createdAt","desc"),lv(5)),d=(await Kh(u)).docs.map(h=>{const p=h.data();return p.photo?p.photo:"iconImg/no_img.png"});e(d)}}catch(u){console.log(u)}};return F.useEffect(()=>{a()},[]),F.useEffect(()=>(i.current=window.setInterval(()=>{if(t.length===0){clearInterval(i.current);return}r(l=>s("rightArrow",l,t.length))},5e3),()=>{clearInterval(i.current)}),[t.length]),P.jsxs(P.Fragment,{children:[P.jsx(Z7,{src:t[n]}),P.jsxs(eG,{children:[P.jsx(rR,{"data-direction":"leftArrow",onClick:o,children:"<"}),P.jsxs("div",{children:[n+1,"/",t.length]}),P.jsx(rR,{"data-direction":"rightArrow",onClick:o,children:">"})]})]})}const nG=async()=>{const t=Cr.currentUser,e=Hh(Gu(ci,"dollsAndCloset"),Oa("userId","==",t==null?void 0:t.uid),Oa("isGroupBuying","==",!0),Gh("createdAt","desc"));return(await Kh(e)).docs.map(i=>i.data())},rG=async t=>{const e=localStorage.getItem("groupOrder");if(e){const n=JSON.parse(e);return iG(n.timestamp)?(console.log("오래된 데이터"),iR()):(console.log("이미있음!"),n.list)}else return iR()},iR=async()=>{try{const t=await nG(),e={list:t,timestamp:Date.now()};return localStorage.setItem("groupOrder",JSON.stringify(e)),t}catch(t){return console.log(t),[]}},iG=(t,e)=>{e||(e=2);const n=e*24*60*60*1e3;return Date.now()-t>n},sG=ve.div`
  display: flex;
  flex-direction: column;
  box-sizing: border-box;
  width: 100%;
  height: 200px;
  min-height: 150px;
`,oG=ve.div`
  display: grid;
  position: sticky;
  top: 0px;
  grid-template-columns: 1fr 1fr 1fr 1fr;
  background-color: pink;
  padding-top: 10px;
`,cd=ve.div`
  text-align: center;
`,aG=ve.div`
  background-color: pink;
  height: 100%;
  box-sizing: border-box;
  overflow-y: auto;
`,lG=ve.ul`
  padding-top: 20px;
`,uG=ve.li`
  margin-bottom: 10px;
  list-style: none;
  display: grid;
  grid-template-columns: 1fr 1fr 1fr 1fr;
`,dd=ve.div`
  text-align: center;
`;function cG({data:t}){return P.jsxs(uG,{children:[P.jsx(dd,{children:t.name}),P.jsxs(dd,{children:[t.groupOrder,"/",t.buyerLeader]}),P.jsx(dd,{children:t.comment}),P.jsx(dd,{children:P.jsx("a",{href:t.customLink,target:"_blank",rel:"noopener noreferrer",children:"링크"})})]})}function dG({data:t}){return P.jsx(sG,{children:P.jsxs(aG,{children:[P.jsxs(oG,{children:[P.jsx(cd,{children:"이름"}),P.jsx(cd,{children:"공구주/총대"}),P.jsx(cd,{children:"상황"}),P.jsx(cd,{children:"링크"})]}),P.jsx(lG,{children:t==null?void 0:t.map((e,n)=>P.jsx(cG,{data:e},n))})]})})}const hG=ve.div`
  display: flex;
  align-items: center;
  flex-direction: column;
`,fG=ve.ul`
  list-style: none;
  display: flex;
  gap: 50px;
`,pG=ve.div`
  display: flex;
  align-items: center;
  justify-content: center;
  margin-top: 50px;
  gap: 20px;
  height: 250px;
`,mG=ve.div``;function gG(){const[t,e]=F.useState();return F.useEffect(()=>{rG().then(n=>{e(n)})},[]),P.jsxs(hG,{children:[P.jsx(mG,{children:P.jsx(tG,{})}),P.jsx("br",{}),P.jsxs(fG,{children:[P.jsx(ud,{url:"/dolls/list",src:"dolls",name:"인형"}),P.jsx(ud,{url:"/GBlist",src:"closet",name:"공구"}),P.jsx(ud,{url:"/dolls/list",src:"link",name:"링크"}),P.jsx(ud,{url:"/addGBitem",src:"add",name:"등록"})]}),P.jsx(pG,{children:P.jsx(dG,{data:t})})]})}const yG=ve.div`
  max-width: 600px;
  margin: 0 auto;
  height: 100vh;
`,vG=ve.h1`
  text-align: center;
  margin-bottom: 100px;
  margin-top: 50px;
`,_G=ve.form`
  display: flex;
  flex-direction: column;
  width: 100%;
`,hd=ve.input``,wG=ve.div``;function EG(){var c;const t=uo(),[e,n]=F.useState(!1),{register:r,handleSubmit:i,formState:{errors:s},setError:o,clearErrors:a}=W_(),l=async d=>{const{email:h,password:p,name:m}=d;if(console.log("hi"),!e)try{n(!0);const _=await uz(Cr,h,p);console.log(_.user),await hz(_.user,{displayName:m}),t("/")}catch(_){_ instanceof Mn&&(console.log(_.code,"/////",_.message),o("error",{message:_.message}))}finally{n(!1)}},u=()=>{a("error"),i(l)()};return P.jsxs(yG,{children:[P.jsx(vG,{children:"아이디를 만드세요!"}),P.jsxs(_G,{onSubmit:i(l,u),children:[P.jsx("label",{htmlFor:"",children:"이메일"}),P.jsx(hd,{...r("email",{required:!0,minLength:5}),placeholder:"이메일",type:"email",required:!0}),P.jsx("label",{htmlFor:"",children:"이름"}),P.jsx(hd,{...r("name"),placeholder:"이름",required:!0,type:"text"}),P.jsx("label",{htmlFor:"",children:"비밀번호"}),P.jsx(hd,{...r("password"),placeholder:"비밀번호",type:"password",required:!0}),P.jsx(hd,{type:"submit",placeholder:"Create Account",value:"확인"})]}),P.jsx("span",{children:(c=s.error)==null?void 0:c.message}),P.jsxs(wG,{children:["아이디가 이미 있으신가요?",P.jsx(P_,{to:"/login",children:"로그인"})]})]})}ve.div`
  margin: 0 auto;
  margin-top: 10px;
  width: 480px;
  display: flex;
  flex-direction: column;
`;const LN="70px",SG=ve.div`
  display: flex;
  align-items: center;
  flex-direction: column;
  height: ${LN};
  width: 100vw;
  position: fixed;
`,TG=ve.h1`
  font-size: 20px;
`,RG=ve.div`
  display: flex;
  flex-shrink: 0;
  height: 100vh;
  box-sizing: border-box;
`,IG=ve.div`
  width: 100vw;
`;function AG(){return P.jsxs(P.Fragment,{children:[P.jsx(SG,{children:P.jsx(TG,{children:"니 솜깅이 이 솜깅이냐"})}),P.jsx(RG,{style:{paddingTop:LN},children:P.jsx(IG,{children:P.jsx(AV,{})})})]})}function CG({children:t}){return Cr.currentUser===null?P.jsx(IV,{to:"/login"}):t}const lg={inProduction:"inProduction",inTransit:"inTransit",delivered:"delivered"},uv=wj({key:"formDataState",default:null}),ON=async(t,e,n)=>{try{const r=pP(DN,`${t}/${e==null?void 0:e.uid}/${n}`);await AW(r)}catch(r){console.log("에러발생",r)}},kG=ve.div`
  display: flex;
  flex-direction: column;
  background-color: ${t=>t.theme.bgColor};
`,VN=ve(kG)`
  margin: 0 auto;
  margin-top: 10px;
  width: 480px;
  padding: 10px;
  border-radius: 10px;
`,PG=ve.form``,MN=ve.input`
  background: none;
  border: none;

  &:focus {
    outline: none;
  }
`,Ci=ve(MN)`
  width: 100%;
  height: 30px;
  margin-bottom: 10px;
  border-bottom: 1px solid #bbb;
`,sR=ve.input``,fd=ve.select``;function oR(){const[t,e]=F.useState(!1),[n,r]=AC(uv),i=Ej(uv),{control:s,register:o,handleSubmit:a,watch:l,setValue:u,formState:{errors:c}}=W_({defaultValues:{name:n==null?void 0:n.name,amIbuyerLeader:n==null?void 0:n.amIbuyerLeader,attr:n==null?void 0:n.attr,buyerLeader:n==null?void 0:n.buyerLeader,category:n==null?void 0:n.category,comment:n==null?void 0:n.comment,groupOrder:n==null?void 0:n.groupOrder,customLink:n==null?void 0:n.customLink,price:n==null?void 0:n.price,size:n==null?void 0:n.size,deliveryProgress:n==null?void 0:n.deliveryProgress,whereBuy:n==null?void 0:n.whereBuy,buyers:n==null?void 0:n.buyers}}),d=U=>{const{createdAt:M,id:me,userId:re,...J}=U;for(let ge in J)console.log(ge,J[ge]),u(ge,J[ge])},h=async()=>{const U=Cr.currentUser;if(f){e(!0);try{const M=Ku(ci,"dollsAndCloset",f),me=await NN(M);if(!me.exists())return;const re=me.data();if(re.userId!==(U==null?void 0:U.uid))return;d(re)}catch{console.log("불러오기중 오류")}finally{e(!1)}}};F.useEffect(()=>{n===null&&(h(),console.log("가져옴."))},[]);const p=l(["amIbuyerLeader"]),{fields:m,append:_,remove:R}=j3({control:s,name:"buyers"}),y=uo(),{id:f}=rA(),v=(U,M)=>{const me=1048576*M;return U[0].size<me},g=async(U,M,me)=>{const re=pP(DN,`dollsAndCloset/${M==null?void 0:M.uid}/${me.id}`),J=await RW(re,U[0]),ge=await IW(J.ref);await og(me,{photo:ge}),console.log("등록완료")},E=async(U,M)=>{const{photo:me,...re}=M,J=await U7(Gu(ci,"dollsAndCloset"),{...re,isGroupBuying:!0,createdAt:Date.now(),userId:U==null?void 0:U.uid});await og(J,{id:J.id}),me!=null&&me.length&&g(me,U,J)},T=async(U,M,me)=>{const{photo:re,...J}=me,ge=Ku(ci,"dollsAndCloset",M);await og(ge,{...J,isGroupBuying:!0,createdAt:Date.now(),userId:U==null?void 0:U.uid,id:M}),re!=null&&re.length&&(n!=null&&n.photo&&(await ON("dollsAndCloset",U,M),console.log("사진삭제")),g(re,U,ge),console.log("사진등록"))},I=async U=>{if(t)return;const M=Cr.currentUser;if(M){e(!0);try{f?T(M,f,U):E(M,U),i(),y("/")}catch(me){console.log(me)}finally{e(!1)}}},O=()=>{m.length<=1||R(m.length-1)};return F.useEffect(()=>{f||i()},[]),P.jsx(VN,{children:t?P.jsx(P.Fragment,{}):P.jsxs(PG,{onSubmit:a(I),children:[P.jsx("label",{children:"카테고리"}),P.jsxs(fd,{defaultValue:"dolls",...o("category"),children:[P.jsx("option",{value:"dolls",children:"솜인형"}),P.jsx("option",{value:"closet",children:"옷장"})]}),P.jsx("label",{children:"속성"}),P.jsxs(fd,{defaultValue:"noattr",...o("attr"),children:[P.jsx("option",{value:"noattr",children:"무속성"}),P.jsx("option",{value:"attr",children:"속성"})]}),P.jsx("label",{children:"크기"}),P.jsxs(fd,{defaultValue:5,...o("size"),children:[P.jsx("option",{value:5,children:"5cm"}),P.jsx("option",{value:10,children:"10cm"}),P.jsx("option",{value:15,children:"15cm"}),P.jsx("option",{value:20,children:"20cm"}),P.jsx("option",{value:25,children:"25cm"}),P.jsx("option",{value:30,children:"30cm"})]}),P.jsx("label",{children:"배송상황"}),P.jsxs(fd,{...o("deliveryProgress"),children:[P.jsx("option",{value:lg.inProduction,children:"제작중"}),P.jsx("option",{value:lg.inTransit,children:"배송중"}),P.jsx("option",{value:lg.delivered,children:"배송완료"})]}),P.jsx("br",{}),P.jsx("label",{children:"이름"}),P.jsx(Ci,{...o("name",{required:"솜인형 이름을 입력해주세요"}),type:"text",placeholder:"솜인형 이름"}),P.jsx("label",{children:"가격"}),P.jsx(Ci,{...o("price",{required:"가격을 입력해주세요",validate:U=>isNaN(Number(U))?"숫자를 입력해주세요":!0}),type:"number",defaultValue:0,placeholder:"가격"}),P.jsx("label",{children:"공구주"}),P.jsx(Ci,{...o("groupOrder",{required:"공구주가 필수입니다."})}),P.jsx("label",{children:"총대"}),P.jsx(Ci,{...o("buyerLeader")}),P.jsx("label",{children:"구매처"}),P.jsx(Ci,{...o("whereBuy")}),P.jsx("label",{children:"비고"}),P.jsx(Ci,{...o("comment"),type:"text"}),P.jsx("label",{children:"링크"}),P.jsx(Ci,{...o("customLink"),type:"text"}),P.jsx("label",{children:"사진"}),P.jsx("br",{}),P.jsx("img",{src:n==null?void 0:n.photo,width:200}),P.jsx(Ci,{...o("photo",{required:!1,validate:{fileSize:U=>{if(U){if(U.length!==0)return v(U,5)}else return!0}}}),placeholder:"hhh",type:"file"}),P.jsx("label",{htmlFor:"",children:"합배송 총대인가요?"}),P.jsx(MN,{...o("amIbuyerLeader"),type:"checkbox"}),P.jsxs("div",{hidden:!p[0],children:[m.map((U,M)=>P.jsxs("div",{children:[P.jsxs("label",{children:["등록자",M+1]}),P.jsx(sR,{...o(`buyers.${M}.value`)}),P.jsx("label",{children:"거래장소"}),P.jsx(sR,{...o(`buyers.${M}.value2`)})]},U.id)),P.jsx("button",{type:"button",onClick:()=>_({value:"",value2:""}),children:"추가"}),P.jsx("button",{type:"button",onClick:O,children:"삭제"})]}),P.jsx("br",{}),P.jsx("button",{type:"submit",children:f?"수정":"등록"})]})})}const bG=ve.div`
  height: 350px;
  min-width: 200px;
  border: 1px solid black;
  box-sizing: border-box;
  display: flex;
  justify-content: center;
  flex-direction: column;
`,aR=ve.div`
  text-align: center;
`,NG=ve.img`
  width: 200px;
  height: 200px;
  object-fit: contain;
  background-color: ${t=>t.theme.bgColor};
  border-radius: 20px;
  padding: 10px;
`,xG=ve.span`
  text-align: center;
  display: block;
  padding-top: 5px;
`;function DG({data:t}){const e=uo(),n=()=>{e(`/GBitem/${t.id}`)};return P.jsxs(bG,{children:[P.jsx(aR,{children:P.jsx(NG,{src:t.photo?t.photo:"iconImg/no_img.png",alt:"dollImg",onClick:n})}),P.jsx(aR,{children:P.jsx(xG,{children:t.name})})]})}const LG=ve.div`
  margin: 0 auto;
  max-width: 90%;
`,OG=ve.div`
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(250px, 300px));
  justify-content: center;
`,VG=ve.div``;function MG(){const[t,e]=F.useState(!0),[n,r]=F.useState(null),[i,s]=F.useState(!0),[o,a]=F.useState([]),[l,u]=F.useState(null);F.useEffect(()=>{if(t)return;let h=null;if(n){const p=async([m],_)=>{m.isIntersecting&&(_.unobserve(m.target),d(),i||_.observe(m.target))};h=new IntersectionObserver(p),h.observe(n)}return()=>{h&&h.disconnect()}},[n,t]);const c=async()=>{const h=Cr.currentUser,p="dolls";if(h)try{const m=Hh(Gu(ci,"dollsAndCloset"),Oa("userId","==",h==null?void 0:h.uid),Oa("category","==",p),Gh("createdAt","desc"),lv(10)),_=await Kh(m),R=_.docs.map(y=>y.data());_.empty?(alert("없어요"),s(!1)):(u(_),a(R))}catch{}finally{e(!1)}},d=async()=>{if(!l||!i)return;const h=l.docs.length;if(h>=10){const p=l.docs[h-1],m=Hh(Gu(ci,"dollsAndCloset"),Gh("createdAt","desc"),D7(p),lv(10)),_=await Kh(m);if(u(_),_.empty)s(!1);else{const R=_.docs.map(y=>y.data());a(y=>[...y,...R])}}else s(!1)};return F.useEffect(()=>{c()},[]),P.jsxs(LG,{children:[P.jsx(OG,{children:o.map(h=>P.jsx(VG,{children:P.jsx(DG,{data:h})},h.id))}),P.jsx("div",{ref:r})]})}const $G=ve.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
`,FG=ve.img`
  width: 300px;
`,UG=ve.div`
  display: flex;
  gap: 5px;
`,jG=ve.div`
  font-size: 27px;
`;function BG({itemInfo:t}){const[e,n]=F.useState(""),r=i=>{n(i==="delivered"?"배송완료":i==="inProduction"?"제작중":i==="inTransit"?"배송중":"알수없음")};return F.useEffect(()=>{t!=null&&t.deliveryProgress&&r(t==null?void 0:t.deliveryProgress)},[]),P.jsxs($G,{children:[P.jsx(jG,{children:t==null?void 0:t.name}),P.jsx("br",{}),P.jsxs(UG,{children:[P.jsx(FG,{src:t!=null&&t.photo?t.photo:"/iconImg/no_img.png",alt:"photo"}),P.jsxs("div",{children:[P.jsxs("div",{children:[P.jsx("span",{children:"공구주 :"})," ",t==null?void 0:t.groupOrder]}),P.jsxs("div",{children:[P.jsx("span",{children:"비고 :"})," ",t==null?void 0:t.comment]}),P.jsxs("div",{children:[P.jsx("span",{children:"배송상황 :"})," ",e]}),P.jsxs("div",{children:[P.jsx("span",{children:"가격 :"})," ",t.price]}),P.jsxs("div",{children:[P.jsx("span",{children:"속성 : "}),(t==null?void 0:t.attr)==="attr"?"속성":"무속성"]})]})]})]})}const $N=ve.button`
  border: none;
  padding: 0px 20px;
  border-radius: 20px;
  background-color: ${t=>t.theme.buttonColor};
`,zG=ve($N)``,WG=ve($N)``,qG=ve.div`
  display: flex;
  justify-content: end;
  margin-top: 10px;
`;function HG(){const{id:t}=rA(),[e,n]=F.useState(null),[r,i]=F.useState(!1),[s,o]=F.useState(!1),[a,l]=AC(uv),u=uo(),c=async()=>{const h=Cr.currentUser;if(t){i(!0);try{const p=Ku(ci,"dollsAndCloset",t),m=await NN(p);if(!m.exists())return;const _=m.data();if(_.userId!==(h==null?void 0:h.uid))return;console.log(_),n(_)}catch{console.log("불러오기중 오류")}finally{i(!1)}}},d=async()=>{const h=Cr.currentUser;if(!(!t||!h||(o(!0),!window.confirm("삭제?"))))try{const m=Ku(ci,"dollsAndCloset",t);await F7(m),await ON("dollsAndCloset",h,t),u("/GBList")}catch{console.log("삭제중 오류.")}finally{o(!1)}};return F.useEffect(()=>{c()},[]),P.jsx(VN,{children:r?"잠시만 기다려주세요.":e===null?"인형정보가 없습니다.":P.jsxs("div",{children:[P.jsx(BG,{itemInfo:e}),P.jsxs(qG,{children:[P.jsx(zG,{onClick:()=>{l(e),u(`/GBitem/${t}/edit`)},children:"수정"}),P.jsx(WG,{onClick:d,children:"삭제"})]})]})})}const GG=Cj([{path:"/",element:P.jsx(CG,{children:P.jsx(AG,{})}),children:[{path:"/",element:P.jsx(gG,{})},{path:"/addGBitem",element:P.jsx(oR,{})},{path:"/GBlist",element:P.jsx(MG,{})},{path:"/GBitem/:id",element:P.jsx(HG,{})},{path:"/GBitem/:id/edit",element:P.jsx(oR,{})}],errorElement:P.jsx(Dj,{})},{path:"/login",element:P.jsx(G7,{})},{path:"/create-account",element:P.jsx(EG,{})}]),KG=ve.div``,QG=ve.span``;function YG(){return P.jsx(KG,{children:P.jsx(QG,{children:"조금만 기다려주세요."})})}const XG=mO`
  html, body, div, span, applet, object, iframe,
h1, h2, h3, h4, h5, h6, p, blockquote, pre,
a, abbr, acronym, address, big, cite, code,
del, dfn, em, img, ins, kbd, q, s, samp,
small, strike, strong, sub, sup, tt, var,
b, u, i, center,
dl, dt, dd, ol, ul, li,
fieldset, form, label, legend,
table, caption, tbody, tfoot, thead, tr, th, td,
article, aside, canvas, details, embed,
figure, figcaption, footer, header, hgroup,
main, menu, nav, output, ruby, section, summary,
time, mark, audio, video {
	margin: 0;
	padding: 0;
	border: 0;
	font-size: 100%;
	font: inherit;
	vertical-align: baseline;
}
/* HTML5 display-role reset for older browsers */
article, aside, details, figcaption, figure,
footer, header, hgroup, main, menu, nav, section {
	display: block;
}
/* HTML5 hidden-attribute fix for newer browsers */
*[hidden] {
    display: none;
}
body {
	line-height: 1;
	background-color: ${t=>t.theme.bodyColor};
  
	menu, ol, ul {
}
	list-style: none;
}
blockquote, q {
	quotes: none;
}
blockquote:before, blockquote:after,
q:before, q:after {
	content: '';
	content: none;
}
table {
	border-collapse: collapse;
	border-spacing: 0;
}
a{
	text-decoration: none;
  color:black;
}
`;function JG(){const[t,e]=F.useState(!0),n=async()=>{await Cr.authStateReady(),e(!1)};return F.useEffect(()=>{n()},[]),P.jsx(_j,{children:P.jsxs(hO,{theme:Sj,children:[P.jsx(XG,{}),t?P.jsx(YG,{}):P.jsx(TV,{router:GG})]})})}const ZG=ug.createRoot(document.getElementById("root"));ZG.render(P.jsx(he.StrictMode,{children:P.jsx(JG,{})}));
